import{r as Ie,g as Wh}from"./index-CCnBHiMA.js";function zh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const C=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,W=globalThis,yt="10.12.0";function Rt(){return wr(W),W}function wr(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||yt,t[yt]=t[yt]||{}}function Tr(e,t,n=W){const r=n.__SENTRY__=n.__SENTRY__||{},s=r[yt]=r[yt]||{};return s[e]||(s[e]=t())}const Ji=["debug","info","warn","error","log","assert","trace"],jh="Sentry Logger ",Rs={};function zt(e){if(!("console"in W))return e();const t=W.console,n={},r=Object.keys(Rs);r.forEach(s=>{const o=Rs[s];n[s]=t[s],t[s]=o});try{return e()}finally{r.forEach(s=>{t[s]=n[s]})}}function qh(){Qi().enabled=!0}function Gh(){Qi().enabled=!1}function Ol(){return Qi().enabled}function Vh(...e){Zi("log",...e)}function Yh(...e){Zi("warn",...e)}function Xh(...e){Zi("error",...e)}function Zi(e,...t){C&&Ol()&&zt(()=>{W.console[e](`${jh}[${e}]:`,...t)})}function Qi(){return C?Tr("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const _={enable:qh,disable:Gh,isEnabled:Ol,log:Vh,warn:Yh,error:Xh},Pl=50,dt="?",yc=/\(error: (.*)\)/,Sc=/captureMessage|captureException/;function Dl(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,s=0)=>{const o=[],i=n.split(`
`);for(let a=r;a<i.length;a++){let c=i[a];c.length>1024&&(c=c.slice(0,1024));const u=yc.test(c)?c.replace(yc,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){o.push(l);break}}if(o.length>=Pl+s)break}}return Jh(o.slice(s))}}function Kh(e){return Array.isArray(e)?Dl(...e):e}function Jh(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(qr(t).function||"")&&t.pop(),t.reverse(),Sc.test(qr(t).function||"")&&(t.pop(),Sc.test(qr(t).function||"")&&t.pop()),t.slice(0,Pl).map(n=>({...n,filename:n.filename||qr(t).filename,function:n.function||dt}))}function qr(e){return e[e.length-1]||{}}const Oo="<anonymous>";function vt(e){try{return!e||typeof e!="function"?Oo:e.name||Oo}catch{return Oo}}function ui(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ls={},bc={};function jt(e,t){ls[e]=ls[e]||[],ls[e].push(t)}function qt(e,t){if(!bc[e]){bc[e]=!0;try{t()}catch(n){C&&_.error(`Error while instrumenting ${e}`,n)}}}function Ke(e,t){const n=e&&ls[e];if(n)for(const r of n)try{r(t)}catch(s){C&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vt(r)}
Error:`,s)}}let Po=null;function $l(e){const t="error";jt(t,e),qt(t,Zh)}function Zh(){Po=W.onerror,W.onerror=function(e,t,n,r,s){return Ke("error",{column:r,error:s,line:n,msg:e,url:t}),Po?Po.apply(this,arguments):!1},W.onerror.__SENTRY_INSTRUMENTED__=!0}let Do=null;function Fl(e){const t="unhandledrejection";jt(t,e),qt(t,Qh)}function Qh(){Do=W.onunhandledrejection,W.onunhandledrejection=function(e){return Ke("unhandledrejection",e),Do?Do.apply(this,arguments):!0},W.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Bl=Object.prototype.toString;function St(e){switch(Bl.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Tt(e,Error)}}function Yn(e,t){return Bl.call(e)===`[object ${t}]`}function Hl(e){return Yn(e,"ErrorEvent")}function Ec(e){return Yn(e,"DOMError")}function em(e){return Yn(e,"DOMException")}function rt(e){return Yn(e,"String")}function eo(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function An(e){return e===null||eo(e)||typeof e!="object"&&typeof e!="function"}function wt(e){return Yn(e,"Object")}function to(e){return typeof Event<"u"&&Tt(e,Event)}function tm(e){return typeof Element<"u"&&Tt(e,Element)}function nm(e){return Yn(e,"RegExp")}function fn(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function rm(e){return wt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function Tt(e,t){try{return e instanceof t}catch{return!1}}function Ul(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Wl(e){return typeof Request<"u"&&Tt(e,Request)}const ea=W,sm=80;function Ze(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,s=[];let o=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||sm;for(;n&&o++<r&&(u=om(n,d),!(u==="html"||o>1&&i+s.length*c+u.length>=l));)s.push(u),i+=u.length,n=n.parentNode;return s.reverse().join(a)}catch{return"<unknown>"}}function om(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(ea.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const s=t!=null&&t.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(s!=null&&s.length)s.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&rt(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const o=["aria-label","type","name","title","alt"];for(const i of o){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function pn(){try{return ea.document.location.href}catch{return""}}function zl(e){if(!ea.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Nn(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function $o(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let s=Math.max(t-60,0);s<5&&(s=0);let o=Math.min(s+140,r);return o>r-5&&(o=r),o===r&&(s=Math.max(o-140,0)),n=n.slice(s,o),s>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n}function xs(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const s=e[r];try{Ul(s)?n.push("[VueViewModel]"):n.push(String(s))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function ds(e,t,n=!1){return rt(e)?nm(t)?t.test(e):rt(t)?n?e===t:e.includes(t):!1:!1}function st(e,t=[],n=!1){return t.some(r=>ds(e,r,n))}function Pe(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const s=n(r);typeof s=="function"&&jl(s,r);try{e[t]=s}catch{C&&_.log(`Failed to replace method "${t}" in object`,e)}}function Re(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{C&&_.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function jl(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Re(e,"__sentry_original__",t)}catch{}}function ta(e){return e.__sentry_original__}function ql(e){if(St(e))return{message:e.message,name:e.name,stack:e.stack,...wc(e)};if(to(e)){const t={type:e.type,target:vc(e.target),currentTarget:vc(e.currentTarget),...wc(e)};return typeof CustomEvent<"u"&&Tt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function vc(e){try{return tm(e)?Ze(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function wc(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function im(e,t=40){const n=Object.keys(ql(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Nn(r,t);for(let s=n.length;s>0;s--){const o=n.slice(0,s).join(", ");if(!(o.length>t))return s===n.length?o:Nn(o,t)}return""}function am(){const e=W;return e.crypto||e.msCrypto}function De(e=am()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function Gl(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Kt(e){const{message:t,event_id:n}=e;if(t)return t;const r=Gl(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function li(e,t,n){const r=e.exception=e.exception||{},s=r.values=r.values||[],o=s[0]=s[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error")}function It(e,t){const n=Gl(e);if(!n)return;const r={type:"generic",handled:!0},s=n.mechanism;if(n.mechanism={...r,...s,...t},t&&"data"in t){const o={...s==null?void 0:s.data,...t.data};n.mechanism.data=o}}function cm(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,s=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,s-n),s).map(i=>$o(i,0));const o=Math.min(r-1,s);t.context_line=$o(e[o],t.colno||0),t.post_context=e.slice(Math.min(s+1,r),s+1+n).map(i=>$o(i,0))}function Tc(e){if(um(e))return!0;try{Re(e,"__sentry_captured__",!0)}catch{}return!1}function um(e){try{return e.__sentry_captured__}catch{}}const Vl=1e3;function hn(){return Date.now()/Vl}function lm(){const{performance:e}=W;if(!(e!=null&&e.now)||!e.timeOrigin)return hn;const t=e.timeOrigin;return()=>(t+e.now())/Vl}let Ic;function pe(){return(Ic??(Ic=lm()))()}let Fo;function dm(){var d;const{performance:e}=W;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),s=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=s<t,i=(d=e.timing)==null?void 0:d.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return o||u?s<=c?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function $e(){return Fo||(Fo=dm()),Fo[0]}function fm(e){const t=pe(),n={sid:De(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>hm(n)};return e&&Ln(n,e),n}function Ln(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||pe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:De()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function pm(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Ln(e,n)}function hm(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Ir(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=Ir(r[s],t[s],n-1));return r}function ft(){return De()}function bt(){return De().substring(16)}const di="_sentrySpan";function sn(e,t){t?Re(e,di,t):delete e[di]}function pr(e){return e[di]}const mm=100;class it{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ft(),sampleRand:Math.random()}}clone(){const t=new it;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,sn(t,pr(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Ln(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof it?n.getScopeData():wt(n)?t:void 0,{tags:s,extra:o,user:i,contexts:a,level:c,fingerprint:u=[],propagationContext:d}=r||{};return this._tags={...this._tags,...s},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),u.length&&(this._fingerprint=u),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,sn(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var o;const r=typeof n=="number"?n:mm;if(r<=0)return this;const s={timestamp:hn(),...t,message:t.message?Nn(t.message,2048):t.message};return this._breadcrumbs.push(s),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(o=this._client)==null||o.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:pr(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Ir(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||De();if(!this._client)return C&&_.warn("No client configured on scope - will not capture exception!"),r;const s=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:s,...n,event_id:r},this),r}captureMessage(t,n,r){const s=(r==null?void 0:r.event_id)||De();if(!this._client)return C&&_.warn("No client configured on scope - will not capture message!"),s;const o=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:o,...r,event_id:s},this),s}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||De();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(C&&_.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function gm(){return Tr("defaultCurrentScope",()=>new it)}function _m(){return Tr("defaultIsolationScope",()=>new it)}class ym{constructor(t,n){let r;t?r=t:r=new it;let s;n?s=n:s=new it,this._stack=[{scope:r}],this._isolationScope=s}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(s){throw this._popScope(),s}return fn(r)?r.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function On(){const e=Rt(),t=wr(e);return t.stack=t.stack||new ym(gm(),_m())}function Sm(e){return On().withScope(e)}function bm(e,t){const n=On();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function kc(e){return On().withScope(()=>e(On().getIsolationScope()))}function Em(){return{withIsolationScope:kc,withScope:Sm,withSetScope:bm,withSetIsolationScope:(e,t)=>kc(t),getCurrentScope:()=>On().getScope(),getIsolationScope:()=>On().getIsolationScope()}}function Gt(e){const t=wr(e);return t.acs?t.acs:Em()}function q(){const e=Rt();return Gt(e).getCurrentScope()}function Te(){const e=Rt();return Gt(e).getIsolationScope()}function kr(){return Tr("globalScope",()=>new it)}function Ue(...e){const t=Rt(),n=Gt(t);if(e.length===2){const[r,s]=e;return r?n.withSetScope(r,s):n.withScope(s)}return n.withScope(e[0])}function vm(...e){const t=Rt(),n=Gt(t);if(e.length===2){const[r,s]=e;return r?n.withSetIsolationScope(r,s):n.withIsolationScope(s)}return n.withIsolationScope(e[0])}function R(){return q().getClient()}function Yl(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:s}=t,o={trace_id:n,span_id:s||bt()};return r&&(o.parent_span_id=r),o}const de="sentry.source",no="sentry.sample_rate",Xl="sentry.previous_trace_sample_rate",Ee="sentry.op",J="sentry.origin",Ms="sentry.idle_span_finish_reason",Cr="sentry.measurement_unit",Rr="sentry.measurement_value",fi="sentry.custom_span_name",na="sentry.profile_id",Xn="sentry.exclusive_time",wm="http.request.method",Tm="url.full",Im="sentry.link.type",km=0,ra=1,_e=2;function Kl(e){if(e<400&&e>=100)return{code:ra};if(e>=400&&e<500)switch(e){case 401:return{code:_e,message:"unauthenticated"};case 403:return{code:_e,message:"permission_denied"};case 404:return{code:_e,message:"not_found"};case 409:return{code:_e,message:"already_exists"};case 413:return{code:_e,message:"failed_precondition"};case 429:return{code:_e,message:"resource_exhausted"};case 499:return{code:_e,message:"cancelled"};default:return{code:_e,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:_e,message:"unimplemented"};case 503:return{code:_e,message:"unavailable"};case 504:return{code:_e,message:"deadline_exceeded"};default:return{code:_e,message:"internal_error"}}return{code:_e,message:"unknown_error"}}function hr(e,t){e.setAttribute("http.response.status_code",t);const n=Kl(t);n.message!=="unknown_error"&&e.setStatus(n)}const Jl="_sentryScope",Zl="_sentryIsolationScope";function Cm(e,t,n){e&&(Re(e,Zl,n),Re(e,Jl,t))}function As(e){return{scope:e[Jl],isolationScope:e[Zl]}}const sa="sentry-",Rm=/^sentry-/,xm=8192;function oa(e){const t=Mm(e);if(!t)return;const n=Object.entries(t).reduce((r,[s,o])=>{if(s.match(Rm)){const i=s.slice(sa.length);r[i]=o}return r},{});if(Object.keys(n).length>0)return n}function Ql(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,s])=>(s&&(n[`${sa}${r}`]=s),n),{});return Am(t)}function Mm(e){if(!(!e||!rt(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Cc(n);return Object.entries(r).forEach(([s,o])=>{t[s]=o}),t},{}):Cc(e)}function Cc(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function Am(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],s)=>{const o=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=s===0?o:`${t},${o}`;return i.length>xm?(C&&_.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const Nm=/^o(\d+)\./,Lm=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Om(e){return e==="http"||e==="https"}function mn(e,t=!1){const{host:n,path:r,pass:s,port:o,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&s?`:${s}`:""}@${n}${o?`:${o}`:""}/${r&&`${r}/`}${i}`}function ed(e){const t=Lm.exec(e);if(!t){zt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,s="",o="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return td({host:o,pass:s,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function td(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function Pm(e){if(!C)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(_.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Om(r)?t&&isNaN(parseInt(t,10))?(_.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Dm(e){const t=e.match(Nm);return t==null?void 0:t[1]}function nd(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Dm(n)),r}function rd(e){const t=typeof e=="string"?ed(e):td(e);if(!(!t||!Pm(t)))return t}function on(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const sd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function $m(e){if(!e)return;const t=e.match(sd);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function od(e,t){const n=$m(e),r=oa(t);if(!(n!=null&&n.traceId))return{traceId:ft(),sampleRand:Math.random()};const s=Fm(n,r);r&&(r.sample_rand=s.toString());const{traceId:o,parentSpanId:i,parentSampled:a}=n;return{traceId:o,parentSpanId:i,sampled:a,dsc:r||{},sampleRand:s}}function id(e=ft(),t=bt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ad(e=ft(),t=bt(),n){return`00-${e}-${t}-${n?"01":"00"}`}function Fm(e,t){const n=on(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=on(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function Bm(e,t){const n=nd(e);return t&&n&&t!==n?(_.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(_.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}const cd=0,ia=1;let Rc=!1;function Hm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:s,parent_span_id:o,status:i,origin:a,links:c}=$(e);return{parent_span_id:o,span_id:t,trace_id:n,data:r,op:s,status:i,origin:a,links:c}}function ud(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),s=r?t:$(e).parent_span_id,o=As(e).scope,i=r?(o==null?void 0:o.getPropagationContext().propagationSpanId)||bt():t;return{parent_span_id:s,span_id:i,trace_id:n}}function ld(e){const{traceId:t,spanId:n}=e.spanContext(),r=Vt(e);return id(t,n,r)}function Um(e){const{traceId:t,spanId:n}=e.spanContext(),r=Vt(e);return ad(t,n,r)}function dd(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...s},attributes:o})=>({span_id:t,trace_id:n,sampled:r===ia,attributes:o,...s}))}function tn(e){return typeof e=="number"?xc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xc(e.getTime()):pe()}function xc(e){return e>9999999999?e/1e3:e}function $(e){var r;if(zm(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Wm(e)){const{attributes:s,startTime:o,name:i,endTime:a,status:c,links:u}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:s,description:i,parent_span_id:d,start_timestamp:tn(o),timestamp:tn(a)||void 0,status:fd(c),op:s[Ee],origin:s[J],links:dd(u)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Wm(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function zm(e){return typeof e.getSpanJSON=="function"}function Vt(e){const{traceFlags:t}=e.spanContext();return t===ia}function fd(e){if(!(!e||e.code===km))return e.code===ra?"ok":e.message||"unknown_error"}const nn="_sentryChildSpans",pi="_sentryRootSpan";function pd(e,t){const n=e[pi]||e;Re(t,pi,n),e[nn]?e[nn].add(t):Re(e,nn,new Set([t]))}function jm(e,t){e[nn]&&e[nn].delete(t)}function ar(e){const t=new Set;function n(r){if(!t.has(r)&&Vt(r)){t.add(r);const s=r[nn]?Array.from(r[nn]):[];for(const o of s)n(o)}}return n(e),Array.from(t)}function be(e){return e[pi]||e}function Se(){const e=Rt(),t=Gt(e);return t.getActiveSpan?t.getActiveSpan():pr(q())}function hi(){Rc||(zt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Rc=!0)}function qm(e,t){e.updateName(t),e.setAttributes({[de]:"custom",[fi]:t})}let Mc=!1;function hd(){if(Mc)return;function e(){const t=Se(),n=t&&be(t);if(n){const r="internal_error";C&&_.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:_e,message:r})}}e.tag="sentry_tracingErrorCallback",Mc=!0,$l(e),Fl(e)}function ot(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=R())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const ro="production",md="_frozenDsc";function fs(e,t){Re(e,md,t)}function gd(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},s={environment:n.environment||ro,release:n.release,public_key:r,trace_id:e,org_id:nd(t)};return t.emit("createDsc",s),s}function aa(e,t){const n=t.getPropagationContext();return n.dsc||gd(n.traceId,e)}function at(e){var h;const t=R();if(!t)return{};const n=be(e),r=$(n),s=r.data,o=n.spanContext().traceState,i=(o==null?void 0:o.get("sentry.sample_rate"))??s[no]??s[Xl];function a(m){return(typeof i=="number"||typeof i=="string")&&(m.sample_rate=`${i}`),m}const c=n[md];if(c)return a(c);const u=o==null?void 0:o.get("sentry.dsc"),d=u&&oa(u);if(d)return a(d);const l=gd(e.spanContext().traceId,t),p=s[de],f=r.description;return p!=="url"&&f&&(l.transaction=f),ot()&&(l.sampled=String(Vt(n)),l.sample_rand=(o==null?void 0:o.get("sentry.sample_rand"))??((h=As(n).scope)==null?void 0:h.getPropagationContext().sampleRand.toString())),a(l),t.emit("createDsc",l,n),l}function Gm(e){const t=at(e);return Ql(t)}class kt{constructor(t={}){this._traceId=t.traceId||ft(),this._spanId=t.spanId||bt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:cd}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function We(e,t=100,n=1/0){try{return mi("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function _d(e,t=3,n=100*1024){const r=We(e,t);return Km(r)>n?_d(e,t-1,n):r}function mi(e,t,n=1/0,r=1/0,s=Jm()){const[o,i]=s;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Vm(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(o(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return mi("",f,c-1,r,s)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const p=ql(t);for(const f in p){if(!Object.prototype.hasOwnProperty.call(p,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}const h=p[f];d[f]=mi(f,h,c-1,r,s),l++}return i(t),d}function Vm(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(Ul(t))return"[VueViewModel]";if(rm(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${vt(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Ym(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Ym(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function Xm(e){return~-encodeURI(e).split(/%..|./).length}function Km(e){return Xm(JSON.stringify(e))}function Jm(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function xt(e,t=[]){return[e,t]}function Zm(e,t){const[n,r]=e;return[n,[...r,t]]}function an(e,t){const n=e[1];for(const r of n){const s=r[0].type;if(t(r,s))return!0}return!1}function Ac(e,t){return an(e,(n,r)=>t.includes(r))}function Ns(e){const t=wr(W);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Qm(e){const t=wr(W);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function Ls(e){const[t,n]=e;let r=JSON.stringify(t);function s(o){typeof r=="string"?r=typeof o=="string"?r+o:[Ns(r),o]:r.push(typeof o=="string"?Ns(o):o)}for(const o of n){const[i,a]=o;if(s(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)s(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(We(a))}s(c)}}return typeof r=="string"?r:eg(r)}function eg(e){const t=e.reduce((s,o)=>s+o.length,0),n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function tg(e){let t=typeof e=="string"?Ns(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(Qm(n(i)))}const s=r(),o=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;o.push([i,a?n(a):r()])}return[s,o]}function ng(e){return[{type:"span"},e]}function rg(e){const t=typeof e.data=="string"?Ns(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const sg={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Nc(e){return sg[e]}function ca(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function yd(e,t,n,r){var o;const s=(o=e.sdkProcessingMetadata)==null?void 0:o.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:mn(r)},...s&&{trace:s}}}function gi(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(ig(n)){if(ds(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?ds(e.description,n.name):!0,s=n.op?e.op&&ds(e.op,n.op):!0;if(r&&s)return!0}return!1}function og(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const s of e)s.parent_span_id===r&&(s.parent_span_id=n)}function ig(e){return typeof e=="string"||e instanceof RegExp}function ag(e,t){var r,s,o,i;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((s=e.sdk)==null?void 0:s.packages)||[],...t.packages||[]],settings:(o=e.sdk)!=null&&o.settings||t.settings?{...(i=e.sdk)==null?void 0:i.settings,...t.settings}:void 0},e}function cg(e,t,n,r){const s=ca(n),o={sent_at:new Date().toISOString(),...s&&{sdk:s},...!!r&&t&&{dsn:mn(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return xt(o,[i])}function ug(e,t,n,r){const s=ca(n),o=e.type&&e.type!=="replay_event"?e.type:"event";ag(e,n==null?void 0:n.sdk);const i=yd(e,s,r,t);return delete e.sdkProcessingMetadata,xt(i,[[{type:o},e]])}function lg(e,t){function n(f){return!!f.trace_id&&!!f.public_key}const r=at(e[0]),s=t==null?void 0:t.getDsn(),o=t==null?void 0:t.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!o&&s&&{dsn:mn(s)}},{beforeSendSpan:a,ignoreSpans:c}=(t==null?void 0:t.getOptions())||{},u=c!=null&&c.length?e.filter(f=>!gi($(f),c)):e,d=e.length-u.length;d&&(t==null||t.recordDroppedEvent("before_send","span",d));const l=a?f=>{const h=$(f),m=a(h);return m||(hi(),h)}:$,p=[];for(const f of u){const h=l(f);h&&p.push(ng(h))}return xt(i,p)}function dg(e){if(!C)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=$(e),{spanId:s}=e.spanContext(),o=Vt(e),i=be(e),a=i===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${s}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=$(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}_.log(`${c}
  ${u.join(`
  `)}`)}function fg(e){if(!C)return;const{description:t="< unknown name >",op:n="< unknown op >"}=$(e),{spanId:r}=e.spanContext(),o=be(e)===e,i=`[Tracing] Finishing "${n}" ${o?"root ":""}span "${t}" with ID ${r}`;_.log(i)}function Sd(e,t,n,r=Se()){const s=r&&be(r);s&&(C&&_.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),s.addEvent(e,{[Rr]:t,[Cr]:n}))}function Lc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},s=r[Cr],o=r[Rr];typeof s=="string"&&typeof o=="number"&&(t[n.name]={value:o,unit:s})}),t}const Oc=1e3;class so{constructor(t={}){this._traceId=t.traceId||ft(),this._spanId=t.spanId||bt(),this._startTime=t.startTimestamp||pe(),this._links=t.links,this._attributes={},this.setAttributes({[J]:"manual",[Ee]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?ia:cd}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=tn(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(de,"custom"),this}end(t){this._endTime||(this._endTime=tn(t),fg(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ee],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:fd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[J],profile_id:this._attributes[na],exclusive_time:this._attributes[Xn],measurements:Lc(this._events),is_segment:this._isStandaloneSpan&&be(this)===this||void 0,segment_id:this._isStandaloneSpan?be(this).spanContext().spanId:void 0,links:dd(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){C&&_.log("[Tracing] Adding an event to span:",t);const s=Pc(n)?n:r||pe(),o=Pc(n)?{}:n||{},i={name:t,time:tn(s),attributes:o};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=R();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===be(this)))return;if(this._isStandaloneSpan){this._sampled?hg(lg([this],t)):(C&&_.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(As(this).scope||q()).captureEvent(r)}_convertSpanToTransaction(){var d;if(!Dc($(this)))return;this._name||(C&&_.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=As(this),r=(d=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:d.normalizedRequest;if(this._sampled!==!0)return;const o=ar(this).filter(l=>l!==this&&!pg(l)).map(l=>$(l)).filter(Dc),i=this._attributes[de];delete this._attributes[fi],o.forEach(l=>{delete l.data[fi]});const a={contexts:{trace:Hm(this)},spans:o.length>Oc?o.sort((l,p)=>l.start_timestamp-p.start_timestamp).slice(0,Oc):o,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:at(this)},request:r,...i&&{transaction_info:{source:i}}},c=Lc(this._events);return c&&Object.keys(c).length&&(C&&_.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function Pc(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Dc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function pg(e){return e instanceof so&&e.isStandaloneSpan()}function hg(e){const t=R();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function bd(e,t,n=()=>{}){let r;try{r=e()}catch(s){throw t(s),n(),s}return mg(r,t,n)}function mg(e,t,n){return fn(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function gg(e,t,n){if(!ot(e))return[!1];let r,s;typeof e.tracesSampler=="function"?(s=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?s=t.parentSampled:typeof e.tracesSampleRate<"u"&&(s=e.tracesSampleRate,r=!0);const o=on(s);if(o===void 0)return C&&_.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(s)} of type ${JSON.stringify(typeof s)}.`),[!1];if(!o)return C&&_.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,o,r];const i=n<o;return i||C&&_.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(s)})`),[i,o,r]}const Os="__SENTRY_SUPPRESS_TRACING__";function oo(e,t){const n=xr();if(n.startSpan)return n.startSpan(e,t);const r=la(e),{forceTransaction:s,parentSpan:o,scope:i}=e,a=i==null?void 0:i.clone();return Ue(a,()=>wd(o)(()=>{const u=q(),d=da(u,o),p=e.onlyIfParent&&!d?new kt:ua({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return sn(u,p),bd(()=>t(p),()=>{const{status:f}=$(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:_e,message:"internal_error"})},()=>{p.end()})}))}function _g(e,t){const n=xr();if(n.startSpanManual)return n.startSpanManual(e,t);const r=la(e),{forceTransaction:s,parentSpan:o,scope:i}=e,a=i==null?void 0:i.clone();return Ue(a,()=>wd(o)(()=>{const u=q(),d=da(u,o),p=e.onlyIfParent&&!d?new kt:ua({parentSpan:d,spanArguments:r,forceTransaction:s,scope:u});return sn(u,p),bd(()=>t(p,()=>p.end()),()=>{const{status:f}=$(p);p.isRecording()&&(!f||f==="ok")&&p.setStatus({code:_e,message:"internal_error"})})}))}function Je(e){const t=xr();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=la(e),{forceTransaction:r,parentSpan:s}=e;return(e.scope?i=>Ue(e.scope,i):s!==void 0?i=>cn(s,i):i=>i())(()=>{const i=q(),a=da(i,s);return e.onlyIfParent&&!a?new kt:ua({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const yg=(e,t)=>{const n=Rt(),r=Gt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:s,baggage:o}=e,i=R(),a=oa(o);return i&&!Bm(i,a==null?void 0:a.org_id)?vd(t):Ue(c=>{const u=od(s,o);return c.setPropagationContext(u),t()})};function cn(e,t){const n=xr();return n.withActiveSpan?n.withActiveSpan(e,t):Ue(r=>(sn(r,e||void 0),t(r)))}function Ed(e){const t=xr();return t.suppressTracing?t.suppressTracing(e):Ue(n=>{n.setSDKProcessingMetadata({[Os]:!0});const r=e();return n.setSDKProcessingMetadata({[Os]:void 0}),r})}function vd(e){return Ue(t=>(t.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),C&&_.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),cn(null,e)))}function ua({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!ot()){const i=new kt;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...at(i)};fs(i,a)}return i}const s=Te();let o;if(e&&!n)o=Sg(e,r,t),pd(e,o);else if(e){const i=at(e),{traceId:a,spanId:c}=e.spanContext(),u=Vt(e);o=$c({traceId:a,parentSpanId:c,...t},r,u),fs(o,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...s.getPropagationContext(),...r.getPropagationContext()};o=$c({traceId:i,parentSpanId:c,...t},r,u),a&&fs(o,a)}return dg(o),Cm(o,r,s),o}function la(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=tn(e.startTime),delete r.startTime,r}return n}function xr(){const e=Rt();return Gt(e)}function $c(e,t,n){var h;const r=R(),s=(r==null?void 0:r.getOptions())||{},{name:o=""}=e,i={spanAttributes:{...e.attributes},spanName:o,parentSampled:n};r==null||r.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??n,c=i.spanAttributes,u=t.getPropagationContext(),[d,l,p]=t.getScopeData().sdkProcessingMetadata[Os]?[!1]:gg(s,{name:o,parentSampled:a,attributes:c,parentSampleRate:on((h=u.dsc)==null?void 0:h.sample_rate)},u.sampleRand),f=new so({...e,attributes:{[de]:"custom",[no]:l!==void 0&&p?l:void 0,...c},sampled:d});return!d&&r&&(C&&_.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",f),f}function Sg(e,t,n){const{spanId:r,traceId:s}=e.spanContext(),o=t.getScopeData().sdkProcessingMetadata[Os]?!1:Vt(e),i=o?new so({...n,parentSpanId:r,traceId:s,sampled:o}):new kt({traceId:s});pd(e,i);const a=R();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function da(e,t){if(t)return t;if(t===null)return;const n=pr(e);if(!n)return;const r=R();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?be(n):n}function wd(e){return e!==void 0?t=>cn(e,t):t=>t()}const ps={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},bg="heartbeatFailed",Eg="idleTimeout",vg="finalTimeout",wg="externalFinish";function Td(e,t={}){const n=new Map;let r=!1,s,o=wg,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=ps.idleTimeout,finalTimeout:u=ps.finalTimeout,childSpanTimeout:d=ps.childSpanTimeout,beforeSpanEnd:l}=t,p=R();if(!p||!ot()){const b=new kt,k={sample_rate:"0",sampled:"false",...at(b)};return fs(b,k),b}const f=q(),h=Se(),m=Tg(e);m.end=new Proxy(m.end,{apply(b,k,N){if(l&&l(m),k instanceof kt)return;const[E,...T]=N,P=E||pe(),v=tn(P),L=ar(m).filter(F=>F!==m);if(!L.length)return x(v),Reflect.apply(b,k,[v,...T]);const G=L.map(F=>$(F).timestamp).filter(F=>!!F),O=G.length?Math.max(...G):void 0,z=$(m).start_timestamp,w=Math.min(z?z+u/1e3:1/0,Math.max(z||-1/0,Math.min(v,O||1/0)));return x(w),Reflect.apply(b,k,[w,...T])}});function g(){s&&(clearTimeout(s),s=void 0)}function y(b){g(),s=setTimeout(()=>{!r&&n.size===0&&i&&(o=Eg,m.end(b))},c)}function S(b){s=setTimeout(()=>{!r&&i&&(o=bg,m.end(b))},d)}function A(b){g(),n.set(b,!0);const k=pe();S(k+d/1e3)}function I(b){if(n.has(b)&&n.delete(b),n.size===0){const k=pe();y(k+c/1e3)}}function x(b){r=!0,n.clear(),a.forEach(v=>v()),sn(f,h);const k=$(m),{start_timestamp:N}=k;if(!N)return;k.data[Ms]||m.setAttribute(Ms,o),_.log(`[Tracing] Idle span "${k.op}" finished`);const T=ar(m).filter(v=>v!==m);let P=0;T.forEach(v=>{v.isRecording()&&(v.setStatus({code:_e,message:"cancelled"}),v.end(b),C&&_.log("[Tracing] Cancelling span since span ended early",JSON.stringify(v,void 0,2)));const L=$(v),{timestamp:G=0,start_timestamp:O=0}=L,z=O<=b,w=(u+c)/1e3,F=G-O<=w;if(C){const D=JSON.stringify(v,void 0,2);z?F||_.log("[Tracing] Discarding span since it finished after idle span final timeout",D):_.log("[Tracing] Discarding span since it happened after idle span was finished",D)}(!F||!z)&&(jm(m,v),P++)}),P>0&&m.setAttribute("sentry.idle_span_discarded_spans",P)}return a.push(p.on("spanStart",b=>{if(r||b===m||$(b).timestamp||b instanceof so&&b.isStandaloneSpan())return;ar(m).includes(b)&&A(b.spanContext().spanId)})),a.push(p.on("spanEnd",b=>{r||I(b.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",b=>{b===m&&(i=!0,y(),n.size&&S())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(m.setStatus({code:_e,message:"deadline_exceeded"}),o=vg,m.end())},u),m}function Tg(e){const t=Je(e);return sn(q(),t),C&&_.log("[Tracing] Started span is an idle span"),t}const Bo=0,Fc=1,Bc=2;function pt(e){return new un(t=>{t(e)})}function fa(e){return new un((t,n)=>{n(e)})}class un{constructor(t){this._state=Bo,this._handlers=[],this._runExecutor(t)}then(t,n){return new un((r,s)=>{this._handlers.push([!1,o=>{if(!t)r(o);else try{r(t(o))}catch(i){s(i)}},o=>{if(!n)s(o);else try{r(n(o))}catch(i){s(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new un((n,r)=>{let s,o;return this.then(i=>{o=!1,s=i,t&&t()},i=>{o=!0,s=i,t&&t()}).then(()=>{if(o){r(s);return}n(s)})})}_executeHandlers(){if(this._state===Bo)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Fc&&n[1](this._value),this._state===Bc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(o,i)=>{if(this._state===Bo){if(fn(i)){i.then(r,s);return}this._state=o,this._value=i,this._executeHandlers()}},r=o=>{n(Fc,o)},s=o=>{n(Bc,o)};try{t(r,s)}catch(o){s(o)}}}function Ig(e,t,n,r=0){try{const s=_i(t,n,e,r);return fn(s)?s:pt(s)}catch(s){return fa(s)}}function _i(e,t,n,r){const s=n[r];if(!e||!s)return e;const o=s({...e},t);return C&&o===null&&_.log(`Event processor "${s.id||"?"}" dropped event`),fn(o)?o.then(i=>_i(i,t,n,r+1)):_i(o,t,n,r+1)}function kg(e,t){const{fingerprint:n,span:r,breadcrumbs:s,sdkProcessingMetadata:o}=t;Cg(e,t),r&&Mg(e,r),Ag(e,n),Rg(e,s),xg(e,o)}function Ps(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:p,transactionName:f,span:h}=t;Gr(e,"extra",n),Gr(e,"tags",r),Gr(e,"user",s),Gr(e,"contexts",o),e.sdkProcessingMetadata=Ir(e.sdkProcessingMetadata,a,2),i&&(e.level=i),f&&(e.transactionName=f),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...p}}function Gr(e,t,n){e[t]=Ir(e[t],n,1)}function Cg(e,t){const{extra:n,tags:r,user:s,contexts:o,level:i,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(s).length&&(e.user={...s,...e.user}),Object.keys(o).length&&(e.contexts={...o,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function Rg(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function xg(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Mg(e,t){e.contexts={trace:ud(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:at(t),...e.sdkProcessingMetadata};const n=be(t),r=$(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function Ag(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let Vr,Hc,Yr;function Id(e){const t=W._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return Yr&&n.length===Hc||(Hc=n.length,Yr=n.reduce((r,s)=>{Vr||(Vr={});const o=Vr[s];if(o)r[o[0]]=o[1];else{const i=e(s);for(let a=i.length-1;a>=0;a--){const c=i[a],u=c==null?void 0:c.filename,d=t[s];if(u&&d){r[u]=d,Vr[s]=[u,d];break}}}return r},{})),Yr}function Ng(e,t){const n=Id(e);if(!n)return[];const r=[];for(const s of t)s&&n[s]&&r.push({type:"sourcemap",code_file:s,debug_id:n[s]});return r}function kd(e,t,n,r,s,o){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||De(),timestamp:t.timestamp||hn()},u=n.integrations||e.integrations.map(g=>g.name);Lg(c,e),Dg(c,u),s&&s.emit("applyFrameMetadata",t),t.type===void 0&&Og(c,e.stackParser);const d=Fg(r,n.captureContext);n.mechanism&&It(c,n.mechanism);const l=s?s.getEventProcessors():[],p=kr().getScopeData();if(o){const g=o.getScopeData();Ps(p,g)}if(d){const g=d.getScopeData();Ps(p,g)}const f=[...n.attachments||[],...p.attachments];f.length&&(n.attachments=f),kg(c,p);const h=[...l,...p.eventProcessors];return Ig(h,c,n).then(g=>(g&&Pg(g),typeof i=="number"&&i>0?$g(g,i,a):g))}function Lg(e,t){const{environment:n,release:r,dist:s,maxValueLength:o=250}=t;e.environment=e.environment||n||ro,!e.release&&r&&(e.release=r),!e.dist&&s&&(e.dist=s);const i=e.request;i!=null&&i.url&&(i.url=Nn(i.url,o))}function Og(e,t){var r,s;const n=Id(t);(s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(c=>{c.filename&&(c.debug_id=n[c.filename])})})}function Pg(e){var r,s;const t={};if((s=(r=e.exception)==null?void 0:r.values)==null||s.forEach(o=>{var i,a;(a=(i=o.stacktrace)==null?void 0:i.frames)==null||a.forEach(c=>{c.debug_id&&(c.abs_path?t[c.abs_path]=c.debug_id:c.filename&&(t[c.filename]=c.debug_id),delete c.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([o,i])=>{n.push({type:"sourcemap",code_file:o,debug_id:i})})}function Dg(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function $g(e,t,n){var s,o;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:We(i.data,t,n)}}))},...e.user&&{user:We(e.user,t,n)},...e.contexts&&{contexts:We(e.contexts,t,n)},...e.extra&&{extra:We(e.extra,t,n)}};return(s=e.contexts)!=null&&s.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=We(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>({...i,...i.data&&{data:We(i.data,t,n)}}))),(o=e.contexts)!=null&&o.flags&&r.contexts&&(r.contexts.flags=We(e.contexts.flags,3,n)),r}function Fg(e,t){if(!t)return e;const n=e?e.clone():new it;return n.update(t),n}function Bg(e){if(e)return Hg(e)?{captureContext:e}:Wg(e)?{captureContext:e}:e}function Hg(e){return e instanceof it||typeof e=="function"}const Ug=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Wg(e){return Object.keys(e).some(t=>Ug.includes(t))}function Ut(e,t){return q().captureException(e,Bg(t))}function Ds(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return q().captureMessage(e,n,r)}function Mr(e,t){return q().captureEvent(e,t)}function pa(e,t){Te().setContext(e,t)}function zg(e){Te().setExtras(e)}function jg(e,t){Te().setExtra(e,t)}function qg(e){Te().setTags(e)}function Gg(e,t){Te().setTag(e,t)}function Vg(e){Te().setUser(e)}function Cd(){return Te().lastEventId()}async function Yg(e){const t=R();return t?t.flush(e):(C&&_.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function Xg(e){const t=R();return t?t.close(e):(C&&_.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function Kg(){return!!R()}function Rd(){const e=R();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function xd(e){Te().addEventProcessor(e)}function yi(e){const t=Te(),n=q(),{userAgent:r}=W.navigator||{},s=fm({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),o=t.getSession();return(o==null?void 0:o.status)==="ok"&&Ln(o,{status:"exited"}),ha(),t.setSession(s),s}function ha(){const e=Te(),n=q().getSession()||e.getSession();n&&pm(n),Md(),e.setSession()}function Md(){const e=Te(),t=R(),n=e.getSession();n&&t&&t.captureSession(n)}function Si(e=!1){if(e){ha();return}Md()}const Jg="7";function Ad(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Zg(e){return`${Ad(e)}${e.projectId}/envelope/`}function Qg(e,t){const n={sentry_version:Jg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Nd(e,t,n){return t||`${Zg(e)}?${Qg(e,n)}`}function e_(e,t){const n=rd(e);if(!n)return"";const r=`${Ad(n)}embed/error-page/`;let s=`dsn=${mn(n)}`;for(const o in t)if(o!=="dsn"&&o!=="onClose")if(o==="user"){const i=t.user;if(!i)continue;i.name&&(s+=`&name=${encodeURIComponent(i.name)}`),i.email&&(s+=`&email=${encodeURIComponent(i.email)}`)}else s+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${r}?${s}`}const Uc=[];function t_(e){const t={};return e.forEach(n=>{const{name:r}=n,s=t[r];s&&!s.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function n_(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(s=>{s.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const s=n(t);r=Array.isArray(s)?s:[s]}else r=t;return t_(r)}function r_(e,t){const n={};return t.forEach(r=>{r&&Ld(e,r,n)}),n}function Wc(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Ld(e,t,n){if(n[t.name]){C&&_.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,Uc.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),Uc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(s,o)=>r(s,o,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),s=Object.assign((o,i)=>r(o,i,e),{id:t.name});e.addEventProcessor(s)}C&&_.log(`Integration installed: ${t.name}`)}function bi(e){const t=R();if(!t){C&&_.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function s_(e,t,n){const r=[{type:"client_report"},{timestamp:hn(),discarded_events:e}];return xt(t?{dsn:t}:{},[r])}function Od(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function o_(e){var c;const{trace_id:t,parent_span_id:n,span_id:r,status:s,origin:o,data:i,op:a}=((c=e.contexts)==null?void 0:c.trace)??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:s,timestamp:e.timestamp,trace_id:t??"",origin:o,profile_id:i==null?void 0:i[na],exclusive_time:i==null?void 0:i[Xn],measurements:e.measurements,is_segment:!0}}function i_(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[na]:e.profile_id},...e.exclusive_time&&{[Xn]:e.exclusive_time}}}},measurements:e.measurements}}const zc="Not capturing exception because it's already been captured.",jc="Discarded session because of missing or non-string release",Pd=Symbol.for("SentryInternalError"),Dd=Symbol.for("SentryDoNotSendEventError");function hs(e){return{message:e,[Pd]:!0}}function Ho(e){return{message:e,[Dd]:!0}}function qc(e){return!!e&&typeof e=="object"&&Pd in e}function Gc(e){return!!e&&typeof e=="object"&&Dd in e}class a_{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=rd(t.dsn):C&&_.warn("No DSN provided, client will not send events."),this._dsn){const n=Nd(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const s=De();if(Tc(t))return C&&_.log(zc),s;const o={event_id:s,...n};return this._process(this.eventFromException(t,o).then(i=>this._captureEvent(i,o,r))),o.event_id}captureMessage(t,n,r,s){const o={event_id:De(),...r},i=eo(t)?t:String(t),a=An(t)?this.eventFromMessage(i,n,o):this.eventFromException(t,o);return this._process(a.then(c=>this._captureEvent(c,o,s))),o.event_id}captureEvent(t,n,r){const s=De();if(n!=null&&n.originalException&&Tc(n.originalException))return C&&_.log(zc),s;const o={event_id:s,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||r,c)),o.event_id}captureSession(t){this.sendSession(t),Ln(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(s=>r&&s))):pt(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Ld(this,t,this._integrations),n||Wc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=ug(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=Zm(r,rg(s));this.sendEnvelope(r).then(s=>this.emit("afterSendEvent",t,s))}sendSession(t){const{release:n,environment:r=ro}=this._options;if("aggregates"in t){const o=t.attrs||{};if(!o.release&&!n){C&&_.warn(jc);return}o.release=o.release||n,o.environment=o.environment||r,t.attrs=o}else{if(!t.release&&!n){C&&_.warn(jc);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const s=cg(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(s)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const s=`${t}:${n}`;C&&_.log(`Recording outcome: "${s}"${r>1?` (${r} times)`:""}`),this._outcomes[s]=(this._outcomes[s]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const s=r.indexOf(n);s>-1&&r.splice(s,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(s=>s(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(C&&_.error("Error while sending envelope:",n),{})):(C&&_.error("Transport disabled"),pt({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=r_(this,t),Wc(this,t)}_updateSessionFromEvent(t,n){var c;let r=n.level==="fatal",s=!1;const o=(c=n.exception)==null?void 0:c.values;if(o){s=!0;for(const u of o){const d=u.mechanism;if((d==null?void 0:d.handled)===!1){r=!0;break}}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Ln(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new un(n=>{let r=0;const s=1,o=setInterval(()=>{this._numProcessing==0?(clearInterval(o),n(!0)):(r+=s,t&&r>=t&&(clearInterval(o),n(!1)))},s)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,s){const o=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&(i!=null&&i.length)&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||s.setLastEventId(t.event_id||n.event_id),kd(o,t,n,r,this,s).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:Yl(r),...a.contexts};const c=aa(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=q(),s=Te()){return C&&Ei(t)&&_.log(`Captured error event \`${Od(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,s).then(o=>o.event_id,o=>{C&&(Gc(o)?_.log(o.message):qc(o)?_.warn(o.message):_.warn(o))})}_processEvent(t,n,r,s){const o=this.getOptions(),{sampleRate:i}=o,a=$d(t),c=Ei(t),u=t.type||"error",d=`before send for type \`${u}\``,l=typeof i>"u"?void 0:on(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),fa(Ho(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const p=u==="replay_event"?"replay":u;return this._prepareEvent(t,n,r,s).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",p),Ho("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return f;const m=u_(this,o,f,n);return c_(m,d)}).then(f=>{var g;if(f===null){if(this.recordDroppedEvent("before_send",p),a){const S=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",S)}throw Ho(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||s.getSession();if(c&&h&&this._updateSessionFromEvent(h,f),a){const y=((g=f.sdkProcessingMetadata)==null?void 0:g.spanCountBeforeProcessing)||0,S=f.spans?f.spans.length:0,A=y-S;A>0&&this.recordDroppedEvent("before_send","span",A)}const m=f.transaction_info;if(a&&m&&f.transaction!==t.transaction){const y="custom";f.transaction_info={...m,source:y}}return this.sendEvent(f,n),f}).then(null,f=>{throw Gc(f)||qc(f)?f:(this.captureException(f,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:f}),hs(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[s,o]=n.split(":");return{reason:s,category:o,quantity:r}})}_flushOutcomes(){C&&_.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){C&&_.log("No outcomes to send");return}if(!this._dsn){C&&_.log("No dsn provided, will not send outcomes");return}C&&_.log("Sending outcomes:",t);const n=s_(t,this._options.tunnel&&mn(this._dsn));this.sendEnvelope(n)}}function c_(e,t){const n=`${t} must return \`null\` or a valid event.`;if(fn(e))return e.then(r=>{if(!wt(r)&&r!==null)throw hs(n);return r},r=>{throw hs(`${t} rejected with ${r}`)});if(!wt(e)&&e!==null)throw hs(n);return e}function u_(e,t,n,r){const{beforeSend:s,beforeSendTransaction:o,beforeSendSpan:i,ignoreSpans:a}=t;let c=n;if(Ei(c)&&s)return s(c,r);if($d(c)){if(i||a){const u=o_(c);if(a!=null&&a.length&&gi(u,a))return null;if(i){const d=i(u);d?c=Ir(n,i_(d)):hi()}if(c.spans){const d=[],l=c.spans;for(const f of l){if(a!=null&&a.length&&gi(f,a)){og(l,f);continue}if(i){const h=i(f);h?d.push(h):(hi(),d.push(f))}else d.push(f)}const p=c.spans.length-d.length;p&&e.recordDroppedEvent("before_send","span",p),c.spans=d}}if(o){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return o(c,r)}}return c}function Ei(e){return e.type===void 0}function $d(e){return e.type==="transaction"}function l_(e,t){return t?Ue(t,()=>{const n=Se(),r=n?ud(n):Yl(t);return[n?at(n):aa(e,t),r]}):[void 0,void 0]}const d_={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function f_(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function p_(e,t,n,r){const s={};return t!=null&&t.sdk&&(s.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(s.dsn=mn(r)),xt(s,[f_(e)])}const h_=100;function m_(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function mt(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function g_(e,t){const n=ma(),r=Fd(e);r===void 0?n.set(e,[t]):(n.set(e,[...r,t]),r.length>=h_&&ms(e,r))}function $s(e,t=R(),n=q(),r=g_){var E;if(!t){C&&_.warn("No client available to capture log.");return}const{release:s,environment:o,enableLogs:i=!1,beforeSendLog:a}=t.getOptions();if(!i){C&&_.warn("logging option not enabled, log will not be captured.");return}const[,c]=l_(t,n),u={...e.attributes},{user:{id:d,email:l,username:p}}=__(n);mt(u,"user.id",d,!1),mt(u,"user.email",l,!1),mt(u,"user.name",p,!1),mt(u,"sentry.release",s),mt(u,"sentry.environment",o);const{name:f,version:h}=((E=t.getSdkMetadata())==null?void 0:E.sdk)??{};mt(u,"sentry.sdk.name",f),mt(u,"sentry.sdk.version",h);const m=t.getIntegrationByName("Replay");mt(u,"sentry.replay_id",m==null?void 0:m.getReplayId());const g=e.message;if(eo(g)){const{__sentry_template_string__:T,__sentry_template_values__:P=[]}=g;P!=null&&P.length&&(u["sentry.message.template"]=T),P.forEach((v,L)=>{u[`sentry.message.parameter.${L}`]=v})}const y=pr(n);mt(u,"sentry.trace.parent_span_id",y==null?void 0:y.spanContext().spanId);const S={...e,attributes:u};t.emit("beforeCaptureLog",S);const A=a?zt(()=>a(S)):S;if(!A){t.recordDroppedEvent("before_send","log_item",1),C&&_.warn("beforeSendLog returned null, log will not be captured.");return}const{level:I,message:x,attributes:b={},severityNumber:k}=A,N={timestamp:pe(),level:I,body:x,trace_id:c==null?void 0:c.trace_id,severity_number:k??d_[I],attributes:Object.keys(b).reduce((T,P)=>(T[P]=m_(b[P]),T),{})};r(t,N),t.emit("afterCaptureLog",A)}function ms(e,t){const n=t??Fd(e)??[];if(n.length===0)return;const r=e.getOptions(),s=p_(n,r._metadata,r.tunnel,e.getDsn());ma().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(s)}function Fd(e){return ma().get(e)}function __(e){const t=kr().getScopeData();return Ps(t,Te().getScopeData()),Ps(t,e.getScopeData()),t}function ma(){return Tr("clientToLogBufferMap",()=>new WeakMap)}function y_(e,t){t.debug===!0&&(C?_.enable():zt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),q().update(t.initialScope);const r=new e(t);return Bd(r),r.init(),r}function Bd(e){q().setClient(e)}const Hd=Symbol.for("SentryBufferFullError");function S_(e){const t=[];function n(){return e===void 0||t.length<e}function r(i){return t.splice(t.indexOf(i),1)[0]||Promise.resolve(void 0)}function s(i){if(!n())return fa(Hd);const a=i();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function o(i){return new un((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{i&&i>0&&a(!1)},i);t.forEach(l=>{pt(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:s,drain:o}}const b_=60*1e3;function Ud(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?b_:r-t}function E_(e,t){return e[t]||e.all||0}function Wd(e,t,n=Date.now()){return E_(e,t)>n}function zd(e,{statusCode:t,headers:n},r=Date.now()){const s={...e},o=n==null?void 0:n["x-sentry-rate-limits"],i=n==null?void 0:n["retry-after"];if(o)for(const a of o.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),p=(isNaN(l)?60:l)*1e3;if(!u)s.all=r+p;else for(const f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(s[f]=r+p):s[f]=r+p}else i?s.all=r+Ud(i,r):t===429&&(s.all=r+60*1e3);return s}const v_=64;function jd(e,t,n=S_(e.bufferSize||v_)){let r={};const s=i=>n.drain(i);function o(i){const a=[];if(an(i,(l,p)=>{const f=Nc(p);Wd(r,f)?e.recordDroppedEvent("ratelimit_backoff",f):a.push(l)}),a.length===0)return pt({});const c=xt(i[0],a),u=l=>{an(c,(p,f)=>{e.recordDroppedEvent(l,Nc(f))})},d=()=>t({body:Ls(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&C&&_.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=zd(r,l),l),l=>{throw u("network_error"),C&&_.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===Hd)return C&&_.error("Skipped sending event because buffer is full."),u("queue_overflow"),pt({});throw l})}return{send:o,flush:s}}const Uo=100,Wo=5e3,w_=36e5;function T_(e){function t(...n){C&&_.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const s=n.createStore(n);let o=Wo,i;function a(l,p,f){return Ac(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,p,f):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const p=await s.shift();p&&(t("Attempting to send previously queued event"),p[0].sent_at=new Date().toISOString(),d(p,!0).catch(f=>{t("Failed to retry sending",f)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(o),o=Math.min(o*2,w_))}async function d(l,p=!1){var f,h;if(!p&&Ac(l,["replay_event","replay_recording"]))return await s.push(l),c(Uo),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const m=await r.send(l);let g=Uo;if(m){if((f=m.headers)!=null&&f["retry-after"])g=Ud(m.headers["retry-after"]);else if((h=m.headers)!=null&&h["x-sentry-rate-limits"])g=6e4;else if((m.statusCode||0)>=400)return m}return c(g),o=Wo,m}catch(m){if(await a(l,m,o))return p?await s.unshift(l):await s.push(l),u(),t("Error sending. Event queued.",m),{};throw m}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(o=Wo,c(Uo)),r.flush(l))}}}function qd(e,t){let n;return an(e,(r,s)=>(t.includes(s)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function I_(e,t){return n=>{const r=e(n);return{...r,send:async s=>{const o=qd(s,["event","transaction","profile","replay_event"]);return o&&(o.release=t),r.send(s)}}}}function k_(e,t){return xt(t?{...e[0],dsn:t}:e[0],e[1])}function C_(e,t){return n=>{const r=e(n),s=new Map;function o(c,u){const d=u?`${c}:${u}`:c;let l=s.get(d);if(!l){const p=ed(c);if(!p)return;const f=Nd(p,n.tunnel);l=u?I_(e,u)({...n,url:f}):e({...n,url:f}),s.set(d,l)}return[c,l]}async function i(c){function u(f){const h=f!=null&&f.length?f:["event"];return qd(c,h)}const d=t({envelope:c,getEvent:u}).map(f=>typeof f=="string"?o(f,void 0):o(f.dsn,f.release)).filter(f=>!!f),l=d.length?d:[["",r]];return(await Promise.all(l.map(([f,h])=>h.send(k_(c,f)))))[0]}async function a(c){const u=[...s.values(),r];return(await Promise.all(u.map(l=>l.flush(c)))).every(l=>l)}return{send:i,flush:a}}}const R_="thismessage:/";function ga(e){return"isRelative"in e}function _a(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?R_:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const s=new URL(e,r);return n?{isRelative:n,pathname:s.pathname,search:s.search,hash:s.hash}:s}catch{}}function x_(e){if(ga(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function rn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Gd(e){return e.split(/[?#]/,1)[0]}function Vd(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return A_(e,n)||M_(e,r)}function M_(e,t){return t?Vc(e)===Vc(t):!1}function A_(e,t){const n=_a(e);return!n||ga(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function Vc(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Yd(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}const N_=Yd;function L_(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Xd(e,t,n=[t],r="npm"){const s=e._metadata||{};s.sdk||(s.sdk={name:`sentry.javascript.${t}`,packages:n.map(o=>({name:`${r}:@sentry/${o}`,version:yt})),version:yt}),e._metadata=s}function ya(e={}){const t=e.client||R();if(!Rd()||!t)return{};const n=Rt(),r=Gt(n);if(r.getTraceData)return r.getTraceData(e);const s=e.scope||q(),o=e.span||Se(),i=o?ld(o):O_(s),a=o?at(o):aa(t,s),c=Ql(a);if(!sd.test(i))return _.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":i,baggage:c};if(e.propagateTraceparent){const l=o?Um(o):P_(s);l&&(d.traceparent=l)}return d}function O_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return id(t,r,n)}function P_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return ad(t,r,n)}function D_(e,t,n){let r,s,o;const i=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function c(){return u(),r=e(),r}function u(){s!==void 0&&clearTimeout(s),o!==void 0&&clearTimeout(o),s=o=void 0}function d(){return s!==void 0||o!==void 0?c():r}function l(){return s&&clearTimeout(s),s=a(c,t),i&&o===void 0&&(o=a(c,i)),r}return l.cancel=u,l.flush=d,l}const $_=100;function ct(e,t){const n=R(),r=Te();if(!n)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=$_}=n.getOptions();if(o<=0)return;const a={timestamp:hn(),...e},c=s?zt(()=>s(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,o))}let Yc;const F_="FunctionToString",Xc=new WeakMap,B_=()=>({name:F_,setupOnce(){Yc=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ta(this),n=Xc.has(R())&&t!==void 0?t:this;return Yc.apply(n,e)}}catch{}},setup(e){Xc.set(e,!0)}}),Kd=B_,H_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],U_="EventFilters",Jd=(e={})=>{let t;return{name:U_,setup(n){const r=n.getOptions();t=Kc(e,r)},processEvent(n,r,s){if(!t){const o=s.getOptions();t=Kc(e,o)}return W_(n,t)?null:n}}},Zd=(e={})=>({...Jd(e),name:"InboundFilters"});function Kc(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:H_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function W_(e,t){if(e.type){if(e.type==="transaction"&&j_(e,t.ignoreTransactions))return C&&_.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Kt(e)}`),!0}else{if(z_(e,t.ignoreErrors))return C&&_.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Kt(e)}`),!0;if(Y_(e))return C&&_.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Kt(e)}`),!0;if(q_(e,t.denyUrls))return C&&_.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Kt(e)}.
Url: ${Fs(e)}`),!0;if(!G_(e,t.allowUrls))return C&&_.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Kt(e)}.
Url: ${Fs(e)}`),!0}return!1}function z_(e,t){return t!=null&&t.length?Od(e).some(n=>st(n,t)):!1}function j_(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?st(n,t):!1}function q_(e,t){if(!(t!=null&&t.length))return!1;const n=Fs(e);return n?st(n,t):!1}function G_(e,t){if(!(t!=null&&t.length))return!0;const n=Fs(e);return n?st(n,t):!0}function V_(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Fs(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(o=>{var i,a,c;return((i=o.mechanism)==null?void 0:i.parent_id)===void 0&&((c=(a=o.stacktrace)==null?void 0:a.frames)==null?void 0:c.length)}),s=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return s?V_(s):null}catch{return C&&_.error(`Cannot extract url for event ${Kt(e)}`),null}}function Y_(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function X_(e,t,n,r,s,o){var a;if(!((a=s.exception)!=null&&a.values)||!o||!Tt(o.originalException,Error))return;const i=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;i&&(s.exception.values=vi(e,t,r,o.originalException,n,s.exception.values,i,0))}function vi(e,t,n,r,s,o,i,a){if(o.length>=n+1)return o;let c=[...o];if(Tt(r[s],Error)){Jc(i,a);const u=e(t,r[s]),d=c.length;Zc(u,s,d,a),c=vi(e,t,n,r[s],s,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Tt(u,Error)){Jc(i,a);const l=e(t,u),p=c.length;Zc(l,`errors[${d}]`,p,a),c=vi(e,t,n,u,s,[l,...c],l,p)}}),c}function Jc(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function Zc(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const Qd=new Map,Qc=new Set;function K_(e){if(W._sentryModuleMetadata)for(const t of Object.keys(W._sentryModuleMetadata)){const n=W._sentryModuleMetadata[t];if(Qc.has(t))continue;Qc.add(t);const r=e(t);for(const s of r.reverse())if(s.filename){Qd.set(s.filename,n);break}}}function J_(e,t){return K_(e),Qd.get(t)}function ef(e,t){try{t.exception.values.forEach(n=>{if(n.stacktrace)for(const r of n.stacktrace.frames||[]){if(!r.filename||r.module_metadata)continue;const s=J_(e,r.filename);s&&(r.module_metadata=s)}})}catch{}}function tf(e){try{e.exception.values.forEach(t=>{if(t.stacktrace)for(const n of t.stacktrace.frames||[])delete n.module_metadata})}catch{}}const Z_=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{an(t,(n,r)=>{if(r==="event"){const s=Array.isArray(n)?n[1]:void 0;s&&(tf(s),n[1]=s)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;ef(n,t)})}});function Sa(e){const t="console";jt(t,e),qt(t,Q_)}function Q_(){"console"in W&&Ji.forEach(function(e){e in W.console&&Pe(W.console,e,function(t){return Rs[e]=t,function(...n){Ke("console",{args:n,level:e});const s=Rs[e];s==null||s.apply(W.console,n)}})})}function ba(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const ey="CaptureConsole",ty=(e={})=>{const t=e.levels||Ji,n=e.handled??!0;return{name:ey,setup(r){"console"in W&&Sa(({args:s,level:o})=>{R()!==r||!t.includes(o)||ry(s,o,n)})}}},ny=ty;function ry(e,t,n){const r={level:ba(t),extra:{arguments:e}};Ue(s=>{if(s.addEventProcessor(a=>(a.logger="console",It(a,{handled:n,type:"auto.core.capture_console"}),a)),t==="assert"){if(!e[0]){const a=`Assertion failed: ${xs(e.slice(1)," ")||"console.assert"}`;s.setExtra("arguments",e.slice(1)),Ds(a,r)}return}const o=e.find(a=>a instanceof Error);if(o){Ut(o,r);return}const i=xs(e," ");Ds(i,r)})}const sy="Dedupe",oy=()=>{let e;return{name:sy,processEvent(t){if(t.type)return t;try{if(iy(t,e))return C&&_.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},nf=oy;function iy(e,t){return t?!!(ay(e,t)||cy(e,t)):!1}function ay(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sf(e,t)||!rf(e,t))}function cy(e,t){const n=eu(t),r=eu(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sf(e,t)||!rf(e,t))}function rf(e,t){let n=ui(e),r=ui(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let s=0;s<r.length;s++){const o=r[s],i=n[s];if(o.filename!==i.filename||o.lineno!==i.lineno||o.colno!==i.colno||o.function!==i.function)return!1}return!0}function sf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function eu(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}const uy="ExtraErrorData",ly=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:uy,processEvent(r,s,o){const{maxValueLength:i=250}=o.getOptions();return fy(r,s,t,n,i)}}},dy=ly;function fy(e,t={},n,r,s){if(!t.originalException||!St(t.originalException))return e;const o=t.originalException.name||t.originalException.constructor.name,i=of(t.originalException,r,s);if(i){const a={...e.contexts},c=We(i,n);return wt(c)&&(Re(c,"__sentry_skip_normalization__",!0),a[o]=c),{...e,contexts:a}}return e}function of(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],s={};for(const o of Object.keys(e)){if(r.indexOf(o)!==-1)continue;const i=e[o];s[o]=St(i)||typeof i=="string"?Nn(`${i}`,n):i}if(t&&e.cause!==void 0)if(St(e.cause)){const o=e.cause.name||e.cause.constructor.name;s.cause={[o]:of(e.cause,!1,n)}}else s.cause=e.cause;if(typeof e.toJSON=="function"){const o=e.toJSON();for(const i of Object.keys(o)){const a=o[i];s[i]=St(a)?a.toString():a}}return s}catch(r){C&&_.error("Unable to extract extra data from the Error object:",r)}return null}function py(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const s=e[r];s==="."?e.splice(r,1):s===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const hy=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function my(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=hy.exec(t);return n?n.slice(1):[]}function tu(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const s=r>=0?e[r]:"/";s&&(t=`${s}/${t}`,n=s.charAt(0)==="/")}return t=py(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function nu(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function gy(e,t){e=tu(e).slice(1),t=tu(t).slice(1);const n=nu(e.split("/")),r=nu(t.split("/")),s=Math.min(n.length,r.length);let o=s;for(let a=0;a<s;a++)if(n[a]!==r[a]){o=a;break}let i=[];for(let a=o;a<n.length;a++)i.push("..");return i=i.concat(r.slice(o)),i.join("/")}function _y(e,t){return my(e)[2]||""}const yy="RewriteFrames",Sy=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in W&&!!W.window,s=e.iteratee||by({isBrowser:r,root:t,prefix:n});function o(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){var c;return{...a,frames:(c=a==null?void 0:a.frames)==null?void 0:c.map(u=>s(u))}}return{name:yy,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=o(c)),c}}};function by({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const s=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(s||o){const i=s?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?gy(t,i):_y(i);r.filename=`${n}${a}`}return r}}const Ey=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],vy=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],wy={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},af=["select","insert","upsert","update","delete"];function io(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function ao(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function Ty(e,t={}){var n;switch(e){case"GET":return"select";case"POST":return(n=t.Prefer)!=null&&n.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function Iy(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let s;return n!=null&&n.startsWith("fts")?s="textSearch":n!=null&&n.startsWith("plfts")?s="textSearch[plain]":n!=null&&n.startsWith("phfts")?s="textSearch[phrase]":n!=null&&n.startsWith("wfts")?s="textSearch[websearch]":s=n&&wy[n]||"filter",`${s}(${e}, ${r.join(".")})`}function ru(e,t=!1){return new Proxy(e,{apply(n,r,s){return oo({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[J]:"auto.db.supabase",[Ee]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},o=>Reflect.apply(n,r,s).then(i=>(i&&typeof i=="object"&&"error"in i&&i.error?(o.setStatus({code:_e}),Ut(i.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):o.setStatus({code:ra}),o.end(),i)).catch(i=>{throw o.setStatus({code:_e}),o.end(),Ut(i,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),i}).then(...s))}})}function ky(e){const t=e.auth;if(!(!t||ao(e.auth))){for(const n of Ey){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=ru(r))}for(const n of vy){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=ru(r,!0))}io(e.auth)}}function Cy(e){ao(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const s=Reflect.apply(t,n,r),o=s.constructor;return xy(o),s}}),io(e.prototype.from))}function Ry(e){ao(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){var f;const s=af,o=n,i=Ty(o.method,o.headers);if(!s.includes(i)||!((f=o==null?void 0:o.url)!=null&&f.pathname)||typeof o.url.pathname!="string")return Reflect.apply(t,n,r);const a=o.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[h,m]of o.url.searchParams.entries())u.push(Iy(h,m));const d=Object.create(null);if(wt(o.body))for(const[h,m]of Object.entries(o.body))d[h]=m;const l=`${i==="select"?"":`${i}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,p={"db.table":c,"db.schema":o.schema,"db.url":o.url.origin,"db.sdk":o.headers["X-Client-Info"],"db.system":"postgresql","db.operation":i,[J]:"auto.db.supabase",[Ee]:"db"};return u.length&&(p["db.query"]=u),Object.keys(d).length&&(p["db.body"]=d),oo({name:l,attributes:p},h=>Reflect.apply(t,n,[]).then(m=>{if(h&&(m&&typeof m=="object"&&"status"in m&&hr(h,m.status||500),h.end()),m.error){const S=new Error(m.error.message);m.error.code&&(S.code=m.error.code),m.error.details&&(S.details=m.error.details);const A={};u.length&&(A.query=u),Object.keys(d).length&&(A.body=d),Ut(S,I=>(I.addEventProcessor(x=>(It(x,{handled:!1,type:"auto.db.supabase.postgres"}),x)),I.setContext("supabase",A),I))}const g={type:"supabase",category:`db.${i}`,message:l},y={};return u.length&&(y.query=u),Object.keys(d).length&&(y.body=d),Object.keys(y).length&&(g.data=y),ct(g),m},m=>{throw h&&(hr(h,500),h.end()),m}).then(...r))}}),io(e.prototype.then))}function xy(e){for(const t of af)ao(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,s){const o=Reflect.apply(n,r,s),i=o.constructor;return C&&_.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),Ry(i),o}}),io(e.prototype[t]))}const cf=e=>{if(!e){C&&_.warn("Supabase integration was not installed because no Supabase client was provided.");return}const t=e.constructor===Function?e:e.constructor;Cy(t),ky(e)},My="Supabase",Ay=e=>({setupOnce(){cf(e)},name:My}),Ny=e=>Ay(e.supabaseClient),Ly=10,Oy="ZodErrors";function Py(e){return St(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function Dy(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function $y(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function Fy(e){const t=new Set;for(const r of e.issues){const s=$y(r.path);s.length>0&&t.add(s)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const s=e.issues[0];s!==void 0&&"expected"in s&&typeof s.expected=="string"&&(r=s.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${Nn(n.join(", "),100)}`}function By(e,t=!1,n,r){var s;if(!((s=n.exception)!=null&&s.values)||!r.originalException||!Py(r.originalException)||r.originalException.issues.length===0)return n;try{const i=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(Dy);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:i})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:Fy(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":i.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}const Hy=(e={})=>{const t=e.limit??Ly;return{name:Oy,processEvent(n,r){return By(t,e.saveZodIssuesAsAttachment,n,r)}}},Uy=Hy,Wy=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{an(n,(r,s)=>{if(s==="event"){const o=Array.isArray(r)?r[1]:void 0;o&&(tf(o),r[1]=o)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;ef(r,n)})},processEvent(t){const n=zy(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](o=>!o.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function zy(e){const t=ui(e);if(t)return t.filter(n=>!!n.filename).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(su)).map(r=>r.slice(su.length)):[])}const su="_sentryBundlerPluginAppKey:",jy=100,qy=10,Xr="flag.evaluation.";function Ar(e){const n=q().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function Pn(e,t,n=jy){const r=q().getScopeData().contexts;r.flags||(r.flags={values:[]});const s=r.flags.values;Gy(s,e,t,n)}function Gy(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){C&&_.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const s=e.findIndex(o=>o.flag===t);s!==-1&&e.splice(s,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function Dn(e,t,n=qy){if(typeof t!="boolean")return;const r=Se();if(!r)return;const s=$(r).data;if(`${Xr}${e}`in s){r.setAttribute(`${Xr}${e}`,t);return}Object.keys(s).filter(i=>i.startsWith(Xr)).length<n&&r.setAttribute(`${Xr}${e}`,t)}const Vy=()=>({name:"FeatureFlags",processEvent(e,t,n){return Ar(e)},addFeatureFlag(e,t){Pn(e,t),Dn(e,t)}});function Yy(e,t,n,r,s){if(!e.fetchData)return;const{method:o,url:i}=e.fetchData,a=ot()&&t(i);if(e.endTimestamp&&a){const f=e.fetchData.__span;if(!f)return;const h=r[f];h&&(Ky(h,e),delete r[f]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof s=="object"?s:{spanOrigin:s},d=!!Se(),l=a&&d?Je(Zy(i,o,c)):new kt;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const f=e.args[0],h=e.args[1]||{},m=Xy(f,h,ot()&&d?l:void 0,u);m&&(e.args[1]=h,h.headers=m)}const p=R();if(p){const f={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};p.emit("beforeOutgoingRequestSpan",l,f)}return l}function Xy(e,t,n,r){const s=ya({span:n,propagateTraceparent:r}),o=s["sentry-trace"],i=s.baggage,a=s.traceparent;if(!o)return;const c=t.headers||(Wl(e)?e.headers:void 0);if(c)if(Jy(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",o),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),i){const d=u.get("baggage");d?Kr(d)||u.set("baggage",`${d},${i}`):u.set("baggage",i)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",o]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&Kr(l[1]));return i&&!d&&u.push(["baggage",i]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,p=l?Array.isArray(l)?[...l]:[l]:[],f=l&&(Array.isArray(l)?l.find(m=>Kr(m)):Kr(l));i&&!f&&p.push(i);const h={...c,"sentry-trace":u??o,baggage:p.length>0?p.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...s}}function Ky(e,t){var n,r;if(t.response){hr(e,t.response.status);const s=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(s){const o=parseInt(s);o>0&&e.setAttribute("http.response_content_length",o)}}else t.error&&e.setStatus({code:_e,message:"internal_error"});e.end()}function Kr(e){return e.split(",").some(t=>t.trim().startsWith(sa))}function Jy(e){return typeof Headers<"u"&&Tt(e,Headers)}function Zy(e,t,n){const r=_a(e);return{name:r?`${t} ${x_(r)}`:t,attributes:Qy(e,r,t,n)}}function Qy(e,t,n,r){const s={url:e,type:"fetch","http.method":n,[J]:r,[Ee]:"http.client"};return t&&(ga(t)||(s["http.url"]=t.href,s["server.address"]=t.host),t.search&&(s["http.query"]=t.search),t.hash&&(s["http.fragment"]=t.hash)),s}function uf(e,t={},n=q()){const{message:r,name:s,email:o,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:o,name:s,message:r,url:i,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=(n==null?void 0:n.getClient())||R();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function wi(e,t,n){return"util"in W&&typeof W.util.format=="function"?W.util.format(...e):eS(e,t,n)}function eS(e,t,n){return e.map(r=>An(r)?String(r):JSON.stringify(We(r,t,n))).join(" ")}const tS="ConsoleLogs",ou={[J]:"auto.console.logging"},nS=(e={})=>{const t=e.levels||Ji;return{name:tS,setup(n){const{enableLogs:r,normalizeDepth:s=3,normalizeMaxBreadth:o=1e3}=n.getOptions();if(!r){C&&_.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Sa(({args:i,level:a})=>{if(R()!==n||!t.includes(a))return;if(a==="assert"){if(!i[0]){const u=i.slice(1),d=u.length>0?`Assertion failed: ${wi(u,s,o)}`:"Assertion failed";$s({level:"error",message:d,attributes:ou})}return}const c=a==="log";$s({level:c?"info":a,message:wi(i,s,o),severityNumber:c?10:void 0,attributes:ou})})}}},rS=nS,sS=["trace","debug","info","warn","error","fatal"];function oS(e={}){const t=new Set(e.levels??sS),n=e.client;return{log(r){const{type:s,level:o,message:i,args:a,tag:c,date:u,...d}=r,l=n||R();if(!l)return;const p=cS(s,o);if(!t.has(p))return;const{normalizeDepth:f=3,normalizeMaxBreadth:h=1e3}=l.getOptions(),m=[];i&&m.push(i),a&&a.length>0&&m.push(wi(a,f,h));const g=m.join(" ");d["sentry.origin"]="auto.logging.consola",c&&(d["consola.tag"]=c),s&&(d["consola.type"]=s),o!=null&&typeof o=="number"&&(d["consola.level"]=o),$s({level:p,message:g,attributes:d})}}}const iS={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},aS={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"};function cS(e,t){if(e==="verbose")return"debug";if(e==="silent")return"trace";if(e){const n=iS[e];if(n)return n}if(typeof t=="number"){const n=aS[t];if(n)return n}return"info"}function lf(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const $n=W;function uS(){return"history"in $n&&!!$n.history}function lS(){if(!("fetch"in $n))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ti(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function df(){var n;if(typeof EdgeRuntime=="string")return!0;if(!lS())return!1;if(Ti($n.fetch))return!0;let e=!1;const t=$n.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=Ti(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){C&&_.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function dS(){return"ReportingObserver"in $n}function Ea(e,t){const n="fetch";jt(n,e),qt(n,()=>ff(void 0,t))}function fS(e){const t="fetch-body-resolved";jt(t,e),qt(t,()=>ff(hS))}function ff(e,t=!1){t&&!df()||Pe(W,"fetch",function(n){return function(...r){const s=new Error,{method:o,url:i}=mS(r),a={args:r,fetchData:{method:o,url:i},startTimestamp:pe()*1e3,virtualError:s,headers:gS(r)};return e||Ke("fetch",{...a}),n.apply(W,r).then(async c=>(e?e(c):Ke("fetch",{...a,endTimestamp:pe()*1e3,response:c}),c),c=>{if(Ke("fetch",{...a,endTimestamp:pe()*1e3,error:c}),St(c)&&c.stack===void 0&&(c.stack=s.stack,Re(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function pS(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),s=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let o=!0;for(;o;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),o=!1)}catch{o=!1}finally{clearTimeout(i)}}clearTimeout(s),r.releaseLock(),n.cancel().then(null,()=>{})}}function hS(e){let t;try{t=e.clone()}catch{return}pS(t,()=>{Ke("fetch-body-resolved",{endTimestamp:pe()*1e3,response:e})})}function Ii(e,t){return!!e&&typeof e=="object"&&!!e[t]}function iu(e){return typeof e=="string"?e:e?Ii(e,"url")?e.url:e.toString?e.toString():"":""}function mS(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:iu(n),method:Ii(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:iu(t),method:Ii(t,"method")?String(t.method).toUpperCase():"GET"}}function gS(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(Wl(t))return new Headers(t.headers)}catch{}}function _S(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function yS(){return"npm"}function SS(){return!_S()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function ki(){return typeof window<"u"&&(!SS()||bS())}function bS(){const e=W.process;return(e==null?void 0:e.type)==="renderer"}const nt=W,oe=nt.document,ir=nt.navigator,pf="Report a Bug",ES="Cancel",vS="Send Bug Report",wS="Confirm",TS="Report a Bug",IS="your.email@example.org",kS="Email",CS="What's the bug? What did you expect?",RS="Description",xS="Your Name",MS="Name",AS="Thank you for your report!",NS="(required)",LS="Add a screenshot",OS="Remove screenshot",PS="Highlight",DS="Hide",$S="Remove",FS="widget",BS="api",HS=5e3,hf=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=R();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&q().setTags(e.tags);const r=uf({source:BS,url:pn(),...e},t);return new Promise((s,o)=>{const i=setTimeout(()=>o("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u!=null&&u.statusCode&&u.statusCode>=200&&u.statusCode<300?s(r):(u==null?void 0:u.statusCode)===403?o("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):o("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},gs=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function US(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(ir.userAgent)||/Macintosh/i.test(ir.userAgent)&&ir.maxTouchPoints&&ir.maxTouchPoints>1||!isSecureContext)}function Jr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{var n,r;(n=t.onFormOpen)==null||n.call(t),(r=e.onFormOpen)==null||r.call(e)},onFormClose:()=>{var n,r;(n=t.onFormClose)==null||n.call(t),(r=e.onFormClose)==null||r.call(e)},onSubmitSuccess:(n,r)=>{var s,o;(s=t.onSubmitSuccess)==null||s.call(t,n,r),(o=e.onSubmitSuccess)==null||o.call(e,n,r)},onSubmitError:n=>{var r,s;(r=t.onSubmitError)==null||r.call(t,n),(s=e.onSubmitError)==null||s.call(e,n)},onFormSubmitted:()=>{var n,r;(n=t.onFormSubmitted)==null||n.call(t),(r=e.onFormSubmitted)==null||r.call(e)},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function WS(e){const t=oe.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function je(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const _n=20,zS="http://www.w3.org/2000/svg";function jS(){const e=a=>nt.document.createElementNS(zS,a),t=je(e("svg"),{width:`${_n}`,height:`${_n}`,viewBox:`0 0 ${_n} ${_n}`,fill:"var(--actor-color, var(--foreground))"}),n=je(e("g"),{clipPath:"url(#clip0_57_80)"}),r=je(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const s=e("defs"),o=je(e("clipPath"),{id:"clip0_57_80"}),i=je(e("rect"),{width:`${_n}`,height:`${_n}`,fill:"white"});return o.appendChild(i),s.appendChild(o),t.appendChild(s).appendChild(o).appendChild(i),t}function qS({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const s=oe.createElement("button");if(s.type="button",s.className="widget__actor",s.ariaHidden="false",s.ariaLabel=t||e||pf,s.appendChild(jS()),e){const i=oe.createElement("span");i.appendChild(oe.createTextNode(e)),s.appendChild(i)}const o=WS(r);return{el:s,appendToDom(){n.appendChild(o),n.appendChild(s)},removeFromDom(){s.remove(),o.remove()},show(){s.ariaHidden="false"},hide(){s.ariaHidden="true"}}}const mf="rgba(88, 74, 192, 1)",GS={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:mf,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},au={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:mf,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function cu(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function VS({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const s=oe.createElement("style");return s.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${cu(e==="dark"?{...au,...t}:{...GS,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${cu({...au,...t})}
  }
}`:""}
}
`,r&&s.setAttribute("nonce",r),s}const gf=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:s="sentry-feedback",autoInject:o=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:p={email:"email",name:"username"},tags:f,styleNonce:h,scriptNonce:m,colorScheme:g="system",themeLight:y={},themeDark:S={},addScreenshotButtonLabel:A=LS,cancelButtonLabel:I=ES,confirmButtonLabel:x=wS,emailLabel:b=kS,emailPlaceholder:k=IS,formTitle:N=TS,isRequiredLabel:E=NS,messageLabel:T=RS,messagePlaceholder:P=CS,nameLabel:v=MS,namePlaceholder:L=xS,removeScreenshotButtonLabel:G=OS,submitButtonLabel:O=vS,successMessageText:z=AS,triggerLabel:w=pf,triggerAriaLabel:F="",highlightToolText:D=PS,hideToolText:V=DS,removeHighlightText:ne=$S,onFormOpen:me,onFormClose:xe,onSubmitSuccess:we,onSubmitError:Mt,onFormSubmitted:Yt}={})=>{const ht={id:s,autoInject:o,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:p,tags:f,styleNonce:h,scriptNonce:m,colorScheme:g,themeDark:S,themeLight:y,triggerLabel:w,triggerAriaLabel:F,cancelButtonLabel:I,submitButtonLabel:O,confirmButtonLabel:x,formTitle:N,emailLabel:b,emailPlaceholder:k,messageLabel:T,messagePlaceholder:P,nameLabel:v,namePlaceholder:L,successMessageText:z,isRequiredLabel:E,addScreenshotButtonLabel:A,removeScreenshotButtonLabel:G,highlightToolText:D,hideToolText:V,removeHighlightText:ne,onFormClose:xe,onFormOpen:me,onSubmitError:Mt,onSubmitSuccess:we,onFormSubmitted:Yt};let Qe=null,At=[];const Nt=ee=>{if(!Qe){const le=oe.createElement("div");le.id=String(ee.id),oe.body.appendChild(le),Qe=le.attachShadow({mode:"open"}),Qe.appendChild(VS(ee))}return Qe},rr=async ee=>{const le=ee.enableScreenshot&&US();let Fe,Ce;try{Fe=(t?t():await e("feedbackModalIntegration",m))(),bi(Fe)}catch{throw gs&&_.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const Me=le?n?n():await e("feedbackScreenshotIntegration",m):void 0;Me&&(Ce=Me(),bi(Ce))}catch{gs&&_.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const fe=Fe.createDialog({options:{...ee,onFormClose:()=>{var Me;fe==null||fe.close(),(Me=ee.onFormClose)==null||Me.call(ee)},onFormSubmitted:()=>{var Me;fe==null||fe.close(),(Me=ee.onFormSubmitted)==null||Me.call(ee)}},screenshotIntegration:Ce,sendFeedback:hf,shadow:Nt(ee)});return fe},jr=(ee,le={})=>{const Fe=Jr(ht,le),Ce=typeof ee=="string"?oe.querySelector(ee):typeof ee.addEventListener=="function"?ee:null;if(!Ce)throw gs&&_.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let fe=null;const Me=async()=>{fe||(fe=await rr({...Fe,onFormSubmitted:()=>{var Ae;fe==null||fe.removeFromDom(),(Ae=Fe.onFormSubmitted)==null||Ae.call(Fe)}})),fe.appendToDom(),fe.open()};Ce.addEventListener("click",Me);const Z=()=>{At=At.filter(Ae=>Ae!==Z),fe==null||fe.removeFromDom(),fe=null,Ce.removeEventListener("click",Me)};return At.push(Z),Z},sr=(ee={})=>{const le=Jr(ht,ee),Fe=Nt(le),Ce=qS({triggerLabel:le.triggerLabel,triggerAriaLabel:le.triggerAriaLabel,shadow:Fe,styleNonce:h});return jr(Ce.el,{...le,onFormOpen(){Ce.hide()},onFormClose(){Ce.show()},onFormSubmitted(){Ce.show()}}),Ce};return{name:"Feedback",setupOnce(){!ki()||!ht.autoInject||(oe.readyState==="loading"?oe.addEventListener("DOMContentLoaded",()=>sr().appendToDom()):sr().appendToDom())},attachTo:jr,createWidget(ee={}){const le=sr(Jr(ht,ee));return le.appendToDom(),le},async createForm(ee={}){return rr(Jr(ht,ee))},remove(){var ee;Qe&&((ee=Qe.parentElement)==null||ee.remove(),Qe=null),At.forEach(le=>le()),At=[]}}};function YS(){const e=R();return e==null?void 0:e.getIntegrationByName("Feedback")}var co,ae,_f,Jt,uu,yf,Ci,mr={},va=[],XS=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,wa=Array.isArray;function Dt(e,t){for(var n in t)e[n]=t[n];return e}function Sf(e){var t=e.parentNode;t&&t.removeChild(e)}function X(e,t,n){var r,s,o,i={};for(o in t)o=="key"?r=t[o]:o=="ref"?s=t[o]:i[o]=t[o];if(arguments.length>2&&(i.children=arguments.length>3?co.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)i[o]===void 0&&(i[o]=e.defaultProps[o]);return _s(e,i,r,s,null)}function _s(e,t,n,r,s){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:s??++_f,__i:-1,__u:0};return s==null&&ae.vnode!=null&&ae.vnode(o),o}function Nr(e){return e.children}function ys(e,t){this.props=e,this.context=t}function Fn(e,t){if(t==null)return e.__?Fn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Fn(e):null}function KS(e,t,n){var r,s=e.__v,o=s.__e,i=e.__P;if(i)return(r=Dt({},s)).__v=s.__v+1,ae.vnode&&ae.vnode(r),Ta(i,r,s,e.__n,i.ownerSVGElement!==void 0,32&s.__u?[o]:null,t,o??Fn(s),!!(32&s.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&bf(r),r}function bf(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return bf(e)}}function lu(e){(!e.__d&&(e.__d=!0)&&Jt.push(e)&&!Bs.__r++||uu!==ae.debounceRendering)&&((uu=ae.debounceRendering)||yf)(Bs)}function Bs(){var e,t,n,r=[],s=[];for(Jt.sort(Ci);e=Jt.shift();)e.__d&&(n=Jt.length,t=KS(e,r,s)||t,n===0||Jt.length>n?(Ri(r,t,s),s.length=r.length=0,t=void 0,Jt.sort(Ci)):t&&ae.__c&&ae.__c(t,va));t&&Ri(r,t,s),Bs.__r=0}function Ef(e,t,n,r,s,o,i,a,c,u,d){var l,p,f,h,m,g=r&&r.__k||va,y=t.length;for(n.__d=c,JS(n,t,g),c=n.__d,l=0;l<y;l++)(f=n.__k[l])!=null&&typeof f!="boolean"&&typeof f!="function"&&(p=f.__i===-1?mr:g[f.__i]||mr,f.__i=l,Ta(e,f,p,s,o,i,a,c,u,d),h=f.__e,f.ref&&p.ref!=f.ref&&(p.ref&&Ia(p.ref,null,f),d.push(f.ref,f.__c||h,f)),m==null&&h!=null&&(m=h),65536&f.__u||p.__k===f.__k?c=vf(f,c,e):typeof f.type=="function"&&f.__d!==void 0?c=f.__d:h&&(c=h.nextSibling),f.__d=void 0,f.__u&=-196609);n.__d=c,n.__e=m}function JS(e,t,n){var r,s,o,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(s=e.__k[r]=(s=t[r])==null||typeof s=="boolean"||typeof s=="function"?null:typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?_s(null,s,null,null,s):wa(s)?_s(Nr,{children:s},null,null,null):s.constructor===void 0&&s.__b>0?_s(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s)!=null?(s.__=e,s.__b=e.__b+1,a=ZS(s,n,i=r+l,d),s.__i=a,o=null,a!==-1&&(d--,(o=n[a])&&(o.__u|=131072)),o==null||o.__v===null?(a==-1&&l--,typeof s.type!="function"&&(s.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(s.__u|=65536))):(o=n[r])&&o.key==null&&o.__e&&(o.__e==e.__d&&(e.__d=Fn(o)),xi(o,o,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(o=n[r])!=null&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=Fn(o)),xi(o,o))}function vf(e,t,n){var r,s;if(typeof e.type=="function"){for(r=e.__k,s=0;r&&s<r.length;s++)r[s]&&(r[s].__=e,t=vf(r[s],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function ZS(e,t,n,r){var s=e.key,o=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&s==c.key&&o===c.type)return n;if(r>(c!=null&&!(131072&c.__u)?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&!(131072&c.__u)&&s==c.key&&o===c.type)return i;i--}if(a<t.length){if((c=t[a])&&!(131072&c.__u)&&s==c.key&&o===c.type)return a;a++}}return-1}function du(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||XS.test(t)?n:n+"px"}function Zr(e,t,n,r,s){var o;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||du(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||du(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?pu:fu,o)):e.removeEventListener(t,o?pu:fu,o);else{if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function fu(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ae.event?ae.event(e):e)}}function pu(e){if(this.l)return this.l[e.type+!0](ae.event?ae.event(e):e)}function Ta(e,t,n,r,s,o,i,a,c,u){var d,l,p,f,h,m,g,y,S,A,I,x,b,k,N,E=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),o=[a=t.__e=n.__e]),(d=ae.__b)&&d(t);e:if(typeof E=="function")try{if(y=t.props,S=(d=E.contextType)&&r[d.__c],A=d?S?S.props.value:d.__:r,n.__c?g=(l=t.__c=n.__c).__=l.__E:("prototype"in E&&E.prototype.render?t.__c=l=new E(y,A):(t.__c=l=new ys(y,A),l.constructor=E,l.render=eb),S&&S.sub(l),l.props=y,l.state||(l.state={}),l.context=A,l.__n=r,p=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),E.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Dt({},l.__s)),Dt(l.__s,E.getDerivedStateFromProps(y,l.__s))),f=l.props,h=l.state,l.__v=t,p)E.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if(E.getDerivedStateFromProps==null&&y!==f&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,A),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,A)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(T){T&&(T.__=t)}),I=0;I<l._sb.length;I++)l.__h.push(l._sb[I]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,A),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(f,h,m)})}if(l.context=A,l.props=y,l.__P=e,l.__e=!1,x=ae.__r,b=0,"prototype"in E&&E.prototype.render){for(l.state=l.__s,l.__d=!1,x&&x(t),d=l.render(l.props,l.state,l.context),k=0;k<l._sb.length;k++)l.__h.push(l._sb[k]);l._sb=[]}else do l.__d=!1,x&&x(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++b<25);l.state=l.__s,l.getChildContext!=null&&(r=Dt(Dt({},r),l.getChildContext())),p||l.getSnapshotBeforeUpdate==null||(m=l.getSnapshotBeforeUpdate(f,h)),Ef(e,wa(N=d!=null&&d.type===Nr&&d.key==null?d.props.children:d)?N:[N],t,n,r,s,o,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),g&&(l.__E=l.__=null)}catch(T){t.__v=null,c||o!=null?(t.__e=a,t.__u|=c?160:32,o[o.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ae.__e(T,t,n)}else o==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=QS(n.__e,t,n,r,s,o,i,c,u);(d=ae.diffed)&&d(t)}function Ri(e,t,n){for(var r=0;r<n.length;r++)Ia(n[r],n[++r],n[++r]);ae.__c&&ae.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(o){o.call(s)})}catch(o){ae.__e(o,s.__v)}})}function QS(e,t,n,r,s,o,i,a,c){var u,d,l,p,f,h,m,g=n.props,y=t.props,S=t.type;if(S==="svg"&&(s=!0),o!=null){for(u=0;u<o.length;u++)if((f=o[u])&&"setAttribute"in f==!!S&&(S?f.localName===S:f.nodeType===3)){e=f,o[u]=null;break}}if(e==null){if(S===null)return document.createTextNode(y);e=s?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,y.is&&y),o=null,a=!1}if(S===null)g===y||a&&e.data===y||(e.data=y);else{if(o=o&&co.call(e.childNodes),g=n.props||mr,!a&&o!=null)for(g={},u=0;u<e.attributes.length;u++)g[(f=e.attributes[u]).name]=f.value;for(u in g)f=g[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=f:u==="key"||u in y||Zr(e,u,null,f,s));for(u in y)f=y[u],u=="children"?p=f:u=="dangerouslySetInnerHTML"?d=f:u=="value"?h=f:u=="checked"?m=f:u==="key"||a&&typeof f!="function"||g[u]===f||Zr(e,u,f,g[u],s);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),Ef(e,wa(p)?p:[p],t,n,r,s&&S!=="foreignObject",o,i,o?o[0]:n.__k&&Fn(n,0),a,c),o!=null)for(u=o.length;u--;)o[u]!=null&&Sf(o[u]);a||(u="value",h!==void 0&&(h!==e[u]||S==="progress"&&!h||S==="option"&&h!==g[u])&&Zr(e,u,h,g[u],!1),u="checked",m!==void 0&&m!==e[u]&&Zr(e,u,m,g[u],!1))}return e}function Ia(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ae.__e(r,n)}}function xi(e,t,n){var r,s;if(ae.unmount&&ae.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ia(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){ae.__e(o,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&xi(r[s],t,n||typeof e.type!="function");n||e.__e==null||Sf(e.__e),e.__=e.__e=e.__d=void 0}function eb(e,t,n){return this.constructor(e,n)}function tb(e,t,n){var r,s,o,i;ae.__&&ae.__(e,t),s=(r=!1)?null:t.__k,o=[],i=[],Ta(t,e=t.__k=X(Nr,null,[e]),s||mr,mr,t.ownerSVGElement!==void 0,s?null:t.firstChild?co.call(t.childNodes):null,o,s?s.__e:t.firstChild,r,i),e.__d=void 0,Ri(o,e,i)}co=va.slice,ae={__e:function(e,t,n,r){for(var s,o,i;t=t.__;)if((s=t.__c)&&!s.__)try{if((o=s.constructor)&&o.getDerivedStateFromError!=null&&(s.setState(o.getDerivedStateFromError(e)),i=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),i=s.__d),i)return s.__E=s}catch(a){e=a}throw e}},_f=0,ys.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Dt({},this.state),typeof e=="function"&&(e=e(Dt({},n),this.props)),e&&Dt(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),lu(this))},ys.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),lu(this))},ys.prototype.render=Nr,Jt=[],yf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ci=function(e,t){return e.__v.__b-t.__v.__b},Bs.__r=0;var Ct,ie,zo,hu,Bn=0,wf=[],Ss=[],he=ae,mu=he.__b,gu=he.__r,_u=he.diffed,yu=he.__c,Su=he.unmount,bu=he.__;function gn(e,t){he.__h&&he.__h(ie,e,Bn||t),Bn=0;var n=ie.__H||(ie.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Ss}),n.__[e]}function Zt(e){return Bn=1,Tf(kf,e)}function Tf(e,t,n){var r=gn(Ct++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):kf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ie,!ie.u)){var s=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!o||o.call(this,a,c,u);var l=!1;return d.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!o||o.call(this,a,c,u))};ie.u=!0;var o=ie.shouldComponentUpdate,i=ie.componentWillUpdate;ie.componentWillUpdate=function(a,c,u){if(this.__e){var d=o;o=void 0,s(a,c,u),o=d}i&&i.call(this,a,c,u)},ie.shouldComponentUpdate=s}return r.__N||r.__}function nb(e,t){var n=gn(Ct++,3);!he.__s&&ka(n.__H,t)&&(n.__=e,n.i=t,ie.__H.__h.push(n))}function If(e,t){var n=gn(Ct++,4);!he.__s&&ka(n.__H,t)&&(n.__=e,n.i=t,ie.__h.push(n))}function rb(e){return Bn=5,Lr(function(){return{current:e}},[])}function sb(e,t,n){Bn=6,If(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function Lr(e,t){var n=gn(Ct++,7);return ka(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function xn(e,t){return Bn=8,Lr(function(){return e},t)}function ob(e){var t=ie.context[e.__c],n=gn(Ct++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ie)),t.props.value):e.__}function ib(e,t){he.useDebugValue&&he.useDebugValue(t?t(e):e)}function ab(e){var t=gn(Ct++,10),n=Zt();return t.__=e,ie.componentDidCatch||(ie.componentDidCatch=function(r,s){t.__&&t.__(r,s),n[1](r)}),[n[0],function(){n[1](void 0)}]}function cb(){var e=gn(Ct++,11);if(!e.__){for(var t=ie.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function ub(){for(var e;e=wf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(bs),e.__H.__h.forEach(Mi),e.__H.__h=[]}catch(t){e.__H.__h=[],he.__e(t,e.__v)}}he.__b=function(e){ie=null,mu&&mu(e)},he.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),bu&&bu(e,t)},he.__r=function(e){gu&&gu(e),Ct=0;var t=(ie=e.__c).__H;t&&(zo===ie?(t.__h=[],ie.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Ss,n.__N=n.i=void 0})):(t.__h.forEach(bs),t.__h.forEach(Mi),t.__h=[],Ct=0)),zo=ie},he.diffed=function(e){_u&&_u(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(wf.push(t)!==1&&hu===he.requestAnimationFrame||((hu=he.requestAnimationFrame)||lb)(ub)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Ss&&(n.__=n.__V),n.i=void 0,n.__V=Ss})),zo=ie=null},he.__c=function(e,t){t.some(function(n){try{n.__h.forEach(bs),n.__h=n.__h.filter(function(r){return!r.__||Mi(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],he.__e(r,n.__v)}}),yu&&yu(e,t)},he.unmount=function(e){Su&&Su(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{bs(r)}catch(s){t=s}}),n.__H=void 0,t&&he.__e(t,n.__v))};var Eu=typeof requestAnimationFrame=="function";function lb(e){var t,n=function(){clearTimeout(r),Eu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Eu&&(t=requestAnimationFrame(n))}function bs(e){var t=ie,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ie=t}function Mi(e){var t=ie;e.__c=e.__(),ie=t}function ka(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function kf(e,t){return typeof t=="function"?t(e):t}const db=Object.defineProperty({__proto__:null,useCallback:xn,useContext:ob,useDebugValue:ib,useEffect:nb,useErrorBoundary:ab,useId:cb,useImperativeHandle:sb,useLayoutEffect:If,useMemo:Lr,useReducer:Tf,useRef:rb,useState:Zt},Symbol.toStringTag,{value:"Module"}),fb="http://www.w3.org/2000/svg";function pb(){const e=r=>oe.createElementNS(fb,r),t=je(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=je(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function hb({options:e}){const t=Lr(()=>({__html:pb().outerHTML}),[]);return X("h2",{class:"dialog__header"},X("span",{class:"dialog__title"},e.formTitle),e.showBranding?X("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function mb(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function jo(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function gb({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:s,onSubmitSuccess:o,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:p,cancelButtonLabel:f,emailLabel:h,emailPlaceholder:m,isEmailRequired:g,isNameRequired:y,messageLabel:S,messagePlaceholder:A,nameLabel:I,namePlaceholder:x,submitButtonLabel:b,isRequiredLabel:k}=e,[N,E]=Zt(!1),[T,P]=Zt(null),[v,L]=Zt(!1),G=u==null?void 0:u.input,[O,z]=Zt(null),w=xn(V=>{z(V),L(!1)},[]),F=xn(V=>{const ne=mb(V,{emailLabel:h,isEmailRequired:g,isNameRequired:y,messageLabel:S,nameLabel:I});return ne.length>0?P(`Please enter in the following required fields: ${ne.join(", ")}`):P(null),ne.length===0},[h,g,y,S,I]),D=xn(async V=>{E(!0);try{if(V.preventDefault(),!(V.target instanceof HTMLFormElement))return;const ne=new FormData(V.target),me=await(u&&v?u.value():void 0),xe={name:jo(ne,"name"),email:jo(ne,"email"),message:jo(ne,"message"),attachments:me?[me]:void 0};if(!F(xe))return;try{const we=await s({name:xe.name,email:xe.email,message:xe.message,source:FS,tags:d},{attachments:xe.attachments});o(xe,we)}catch(we){gs&&_.error(we),P(we),i(we)}}finally{E(!1)}},[u&&v,o,i]);return X("form",{class:"form",onSubmit:D},G&&v?X(G,{onError:w}):null,X("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:N},X("div",{class:"form__top"},T?X("div",{class:"form__error-container"},T):null,c?X("label",{for:"name",class:"form__label"},X(qo,{label:I,isRequiredLabel:k,isRequired:y}),X("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:x,required:y,type:"text"})):X("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?X("label",{for:"email",class:"form__label"},X(qo,{label:h,isRequiredLabel:k,isRequired:g}),X("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:g,type:"email"})):X("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),X("label",{for:"message",class:"form__label"},X(qo,{label:S,isRequiredLabel:k,isRequired:!0}),X("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:A,required:!0,rows:5})),G?X("label",{for:"screenshot",class:"form__label"},X("button",{class:"btn btn--default",disabled:N,type:"button",onClick:()=>{z(null),L(V=>!V)}},v?p:l),O?X("div",{class:"form__error-container"},O.message):null):null),X("div",{class:"btn-group"},X("button",{class:"btn btn--primary",disabled:N,type:"submit"},b),X("button",{class:"btn btn--default",disabled:N,type:"button",onClick:r},f))))}function qo({label:e,isRequired:t,isRequiredLabel:n}){return X("span",{class:"form__label__text"},e,t&&X("span",{class:"form__label__text--required"},n))}const Qr=16,vu=17,_b="http://www.w3.org/2000/svg";function yb(){const e=c=>nt.document.createElementNS(_b,c),t=je(e("svg"),{width:`${Qr}`,height:`${vu}`,viewBox:`0 0 ${Qr} ${vu}`,fill:"inherit"}),n=je(e("g"),{clipPath:"url(#clip0_57_156)"}),r=je(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),s=je(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(s,r);const o=e("defs"),i=je(e("clipPath"),{id:"clip0_57_156"}),a=je(e("rect"),{width:`${Qr}`,height:`${Qr}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),o.appendChild(i),t.appendChild(o).appendChild(i).appendChild(a),t}function Sb({open:e,onFormSubmitted:t,...n}){const r=n.options,s=Lr(()=>({__html:yb().outerHTML}),[]),[o,i]=Zt(null),a=xn(()=>{o&&(clearTimeout(o),i(null)),t()},[o]),c=xn((u,d)=>{n.onSubmitSuccess(u,d),i(setTimeout(()=>{t(),i(null)},HS))},[t]);return X(Nr,null,o?X("div",{class:"success__position",onClick:a},X("div",{class:"success__content"},r.successMessageText,X("span",{class:"success__icon",dangerouslySetInnerHTML:s}))):X("dialog",{class:"dialog",onClick:r.onFormClose,open:e},X("div",{class:"dialog__position"},X("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},X(hb,{options:r}),X(gb,{...n,onSubmitSuccess:c})))))}const bb=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,Eb=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,vb=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,wb=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,Tb=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function Ib(e){const t=oe.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${bb}
${Eb}
${vb}
${wb}
${Tb}
`,e&&t.setAttribute("nonce",e),t}function kb(){const e=q().getUser(),t=Te().getUser(),n=kr().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const Cb=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const s=r,o=e.useSentryUser,i=kb(),a=oe.createElement("div"),c=Ib(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!s.contains(c)&&!s.contains(a)&&(s.appendChild(c),s.appendChild(a))},removeFromDom(){a.remove(),c.remove(),oe.body.style.overflow=u},open(){var f,h;p(!0),(f=e.onFormOpen)==null||f.call(e),(h=R())==null||h.emit("openFeedbackWidget"),u=oe.body.style.overflow,oe.body.style.overflow="hidden"},close(){p(!1),oe.body.style.overflow=u}},l=t==null?void 0:t.createInput({h:X,hooks:db,dialog:d,options:e}),p=f=>{tb(X(Sb,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&(i==null?void 0:i[o.name])||"",defaultEmail:o&&(i==null?void 0:i[o.email])||"",onFormClose:()=>{var h;p(!1),(h=e.onFormClose)==null||h.call(e)},onSubmit:n,onSubmitSuccess:(h,m)=>{var g;p(!1),(g=e.onSubmitSuccess)==null||g.call(e,h,m)},onSubmitError:h=>{var m;(m=e.onSubmitError)==null||m.call(e,h)},onFormSubmitted:()=>{var h;(h=e.onFormSubmitted)==null||h.call(e)},open:f}),a)};return d}});function Rb({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function xb(e){const t=oe.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function Mb({h:e}){return function({action:n,setAction:r,options:s}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},s.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},s.hideToolText)))}}function Ab({hooks:e}){function t(){const[n,r]=e.useState(nt.devicePixelRatio??1);return e.useEffect(()=>{const s=()=>{r(nt.devicePixelRatio)},o=matchMedia(`(resolution: ${nt.devicePixelRatio}dppx)`);return o.addEventListener("change",s),()=>{o.removeEventListener("change",s)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:s,onAfterScreenshot:o,onError:i}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await ir.mediaDevices.getDisplayMedia({video:{width:nt.innerWidth*a,height:nt.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=oe.createElement("video");await new Promise((l,p)=>{d.srcObject=u,d.onloadedmetadata=()=>{s(d,a),u.getTracks().forEach(f=>f.stop()),l()},d.play().catch(p)}),o()})().catch(i)},[])}}function Nb(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Lt(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Go(e,t){Lt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function Vo(e,t,n){Lt(e,{alpha:!0},(r,s)=>{n.length&&(s.fillStyle="rgba(0, 0, 0, 0.25)",s.fillRect(0,0,r.width,r.height)),n.forEach(o=>{Nb(o,s,t)})})}function Lb({h:e,hooks:t,outputBuffer:n,dialog:r,options:s}){const o=Ab({hooks:t}),i=Mb({h:e}),a=Rb({h:e}),c={__html:xb(s.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[p,f]=t.useState("highlight"),[h,m]=t.useState([]),g=t.useRef(null),y=t.useRef(null),S=t.useRef(null),A=t.useRef(null),[I,x]=t.useState(1),b=t.useMemo(()=>{const v=oe.getElementById(s.id);if(!v)return"white";const L=getComputedStyle(v);return L.getPropertyValue("--button-primary-background")||L.getPropertyValue("--accent-background")},[s.id]);t.useLayoutEffect(()=>{const v=()=>{const L=g.current;L&&(Lt(l.canvas,{alpha:!1},G=>{const O=Math.min(L.clientWidth/G.width,L.clientHeight/G.height);x(O)}),(L.clientHeight===0||L.clientWidth===0)&&setTimeout(v,0))};return v(),nt.addEventListener("resize",v),()=>{nt.removeEventListener("resize",v)}},[l]);const k=t.useCallback((v,L)=>{Lt(v,{alpha:!0},(G,O)=>{O.scale(L,L),G.width=l.canvas.width,G.height=l.canvas.height})},[l]);t.useEffect(()=>{k(y.current,l.dpi),Go(y.current,l.canvas)},[l]),t.useEffect(()=>{k(S.current,l.dpi),Lt(S.current,{alpha:!0},(v,L)=>{L.clearRect(0,0,v.width,v.height)}),Vo(S.current,b,h)},[h,b]),t.useEffect(()=>{k(n,l.dpi),Go(n,l.canvas),Lt(oe.createElement("canvas"),{alpha:!0},(v,L)=>{L.scale(l.dpi,l.dpi),v.width=l.canvas.width,v.height=l.canvas.height,Vo(v,b,h),Go(n,v)})},[h,l,b]);const N=v=>{if(!p||!A.current)return;const L=A.current.getBoundingClientRect(),G={type:p,x:v.offsetX/I,y:v.offsetY/I},O=(F,D)=>{const V=(D.clientX-L.x)/I,ne=(D.clientY-L.y)/I;return{type:F.type,x:Math.min(F.x,V),y:Math.min(F.y,ne),w:Math.abs(V-F.x),h:Math.abs(ne-F.y)}},z=F=>{Lt(S.current,{alpha:!0},(D,V)=>{V.clearRect(0,0,D.width,D.height)}),Vo(S.current,b,[...h,O(G,F)])},w=F=>{const D=O(G,F);D.w*I>=1&&D.h*I>=1&&m(V=>[...V,D]),oe.removeEventListener("mousemove",z),oe.removeEventListener("mouseup",w)};oe.addEventListener("mousemove",z),oe.addEventListener("mouseup",w)},E=t.useCallback(v=>L=>{L.preventDefault(),L.stopPropagation(),m(G=>{const O=[...G];return O.splice(v,1),O})},[]),T={width:`${l.canvas.width*I}px`,height:`${l.canvas.height*I}px`},P=v=>{v.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:s.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:g},e("canvas",{ref:y,id:"background",style:T}),e("canvas",{ref:S,id:"foreground",style:T}),e("div",{ref:A,onMouseDown:N,style:T},h.map((v,L)=>e("div",{key:L,class:"editor__rect",style:{top:`${v.y*I}px`,left:`${v.x*I}px`,width:`${v.w*I}px`,height:`${v.h*I}px`}},e("button",{"aria-label":s.removeHighlightText,onClick:E(L),onMouseDown:P,onMouseUp:P,type:"button"},e(a,null))))))),e(i,{options:s,action:p,setAction:f}))};return function({onError:p}){const[f,h]=t.useState();return o({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((m,g)=>{Lt(oe.createElement("canvas"),{alpha:!1},(y,S)=>{S.scale(g,g),y.width=m.videoWidth,y.height=m.videoHeight,S.drawImage(m,0,0,y.width,y.height),h({canvas:y,dpi:g})}),n.width=m.videoWidth,n.height=m.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(m=>{u.display="block",p(m)},[])}),f?e(d,{screenshot:f}):e("div",null)}}const Ob=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const s=oe.createElement("canvas");return{input:Lb({h:e,hooks:t,outputBuffer:s,dialog:n,options:r}),value:async()=>{const o=await new Promise(i=>{s.toBlob(i,"image/png")});if(o)return{data:new Uint8Array(await o.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),M=W;let Ai=0;function Cf(){return Ai>0}function Pb(){Ai++,setTimeout(()=>{Ai--})}function Hn(e,t={}){function n(s){return typeof s=="function"}if(!n(e))return e;try{const s=e.__sentry_wrapped__;if(s)return typeof s=="function"?s:e;if(ta(e))return e}catch{return e}const r=function(...s){try{const o=s.map(i=>Hn(i,t));return e.apply(this,o)}catch(o){throw Pb(),Ue(i=>{i.addEventProcessor(a=>(t.mechanism&&(li(a,void 0),It(a,t.mechanism)),a.extra={...a.extra,arguments:s},a)),Ut(o)}),o}};try{for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(r[s]=e[s])}catch{}jl(r,e),Re(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ca(){const e=pn(),{referrer:t}=M.document||{},{userAgent:n}=M.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}const Db={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata"},wu=M;async function Rf(e,t){const n=Db[e],r=wu.Sentry=wu.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const s=r[e];if(typeof s=="function"&&!("_isShim"in s))return s;const o=$b(n),i=M.document.createElement("script");i.src=o,i.crossOrigin="anonymous",i.referrerPolicy="strict-origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,p)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",p)}),c=M.document.currentScript,u=M.document.body||M.document.head||(c==null?void 0:c.parentElement);if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function $b(e){var r;const t=R(),n=((r=t==null?void 0:t.getOptions())==null?void 0:r.cdnBaseUrl)||"https://browser.sentry-cdn.com";return new URL(`/${yt}/${e}.min.js`,n).toString()}const Fb=gf({lazyLoadIntegration:Rf}),Tu=gf({getModalIntegration:()=>Cb,getScreenshotIntegration:()=>Ob});function Kn(e,t,n,r){$s({level:e,message:t,attributes:n,severityNumber:r})}function Bb(e,t){Kn("trace",e,t)}function Hb(e,t){Kn("debug",e,t)}function Ub(e,t){Kn("info",e,t)}function Wb(e,t){Kn("warn",e,t)}function zb(e,t){Kn("error",e,t)}function jb(e,t){Kn("fatal",e,t)}const qb=Object.freeze(Object.defineProperty({__proto__:null,debug:Hb,error:zb,fatal:jb,fmt:N_,info:Ub,trace:Bb,warn:Wb},Symbol.toStringTag,{value:"Module"}));function uo(e,t){const n=Ra(e,t),r={type:Kb(t),value:Jb(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function Gb(e,t,n,r){const s=R(),o=s==null?void 0:s.getOptions().normalizeDepth,i=eE(t),a={__serialized__:_d(t,o)};if(i)return{exception:{values:[uo(e,i)]},extra:a};const c={exception:{values:[{type:to(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Zb(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=Ra(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function Yo(e,t){return{exception:{values:[uo(e,t)]}}}function Ra(e,t){const n=t.stacktrace||t.stack||"",r=Yb(t),s=Xb(t);try{return e(n,r,s)}catch{}return[]}const Vb=/Minified React error #\d+;/i;function Yb(e){return e&&Vb.test(e.message)?1:0}function Xb(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function xf(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function Kb(e){const t=e==null?void 0:e.name;return!t&&xf(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function Jb(e){const t=e==null?void 0:e.message;return xf(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function Mf(e,t,n,r){const s=(n==null?void 0:n.syntheticException)||void 0,o=xa(e,t,s,r);return It(o),o.level="error",n!=null&&n.event_id&&(o.event_id=n.event_id),pt(o)}function Af(e,t,n="info",r,s){const o=(r==null?void 0:r.syntheticException)||void 0,i=Ni(e,t,o,s);return i.level=n,r!=null&&r.event_id&&(i.event_id=r.event_id),pt(i)}function xa(e,t,n,r,s){let o;if(Hl(t)&&t.error)return Yo(e,t.error);if(Ec(t)||em(t)){const i=t;if("stack"in t)o=Yo(e,t);else{const a=i.name||(Ec(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;o=Ni(e,c,n,r),li(o,c)}return"code"in i&&(o.tags={...o.tags,"DOMException.code":`${i.code}`}),o}return St(t)?Yo(e,t):wt(t)||to(t)?(o=Gb(e,t,n,s),It(o,{synthetic:!0}),o):(o=Ni(e,t,n,r),li(o,`${t}`),It(o,{synthetic:!0}),o)}function Ni(e,t,n,r){const s={};if(r&&n){const o=Ra(e,n);o.length&&(s.exception={values:[{value:t,stacktrace:{frames:o}}]}),It(s,{synthetic:!0})}if(eo(t)){const{__sentry_template_string__:o,__sentry_template_values__:i}=t;return s.logentry={message:o,params:i},s}return s.message=t,s}function Zb(e,{isUnhandledRejection:t}){const n=im(e),r=t?"promise rejection":"exception";return Hl(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:to(e)?`Event \`${Qb(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function Qb(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function eE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const tE=5e3;class Nf extends a_{constructor(t){var a;const n=nE(t),r=M.SENTRY_SDK_SOURCE||yS();Xd(n,"browser",["browser"],r),(a=n._metadata)!=null&&a.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:s,sendClientReports:o,enableLogs:i}=this._options;M.document&&(o||i)&&M.document.addEventListener("visibilitychange",()=>{M.document.visibilityState==="hidden"&&(o&&this._flushOutcomes(),i&&ms(this))}),i&&(this.on("flush",()=>{ms(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{ms(this)},tE)})),s&&this.on("beforeSendSession",L_)}eventFromException(t,n){return Mf(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return Af(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,s){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,s)}}function nE(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=M.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Un=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,U=W,rE=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Or=(e,t,n,r)=>{let s,o;return i=>{t.value>=0&&(i||r)&&(o=t.value-(s??0),(o||s===void 0)&&(s=t.value,t.delta=o,t.rating=rE(t.value,n),e(t)))}},sE=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Pr=(e=!0)=>{var n,r;const t=(r=(n=U.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Jn=()=>{const e=Pr();return(e==null?void 0:e.activationStart)??0},Dr=(e,t=-1)=>{var o,i;const n=Pr();let r="navigate";return n&&((o=U.document)!=null&&o.prerendering||Jn()>0?r="prerender":(i=U.document)!=null&&i.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:sE(),navigationType:r}},Xo=new WeakMap;function Ma(e,t){return Xo.get(e)||Xo.set(e,new t),Xo.get(e)}class Hs{constructor(){Hs.prototype.__init.call(this),Hs.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var s;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(s=this._onAfterProcessingUnexpectedShift)==null||s.call(this,t)}}const Zn=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(s=>{Promise.resolve().then(()=>{t(s.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Aa=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let cr=-1;const oE=()=>{var e,t;return((e=U.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=U.document)!=null&&t.prerendering)?0:1/0},Us=e=>{U.document.visibilityState==="hidden"&&cr>-1&&(cr=e.type==="visibilitychange"?e.timeStamp:0,aE())},iE=()=>{addEventListener("visibilitychange",Us,!0),addEventListener("prerenderingchange",Us,!0)},aE=()=>{removeEventListener("visibilitychange",Us,!0),removeEventListener("prerenderingchange",Us,!0)},Na=()=>{var e;if(U.document&&cr<0){const t=Jn();cr=(U.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??oE(),iE()}return{get firstHiddenTime(){return cr}}},lo=e=>{var t;(t=U.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},cE=[1800,3e3],uE=(e,t={})=>{lo(()=>{const n=Na(),r=Dr("FCP");let s;const i=Zn("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Jn(),0),r.entries.push(c),s(!0)))});i&&(s=Or(e,r,cE,t.reportAllChanges))})},lE=[.1,.25],dE=(e,t={})=>{uE(Aa(()=>{var a,c;const n=Dr("CLS",0);let r;const s=Ma(t,Hs),o=u=>{for(const d of u)s._processEntry(d);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},i=Zn("layout-shift",o);i&&(r=Or(e,n,lE,t.reportAllChanges),(a=U.document)==null||a.addEventListener("visibilitychange",()=>{var u;((u=U.document)==null?void 0:u.visibilityState)==="hidden"&&(o(i.takeRecords()),r(!0))}),(c=U==null?void 0:U.setTimeout)==null||c.call(U,r))}))};let Lf=0,Ko=1/0,es=0;const fE=e=>{e.forEach(t=>{t.interactionId&&(Ko=Math.min(Ko,t.interactionId),es=Math.max(es,t.interactionId),Lf=es?(es-Ko)/7+1:0)})};let Li;const Of=()=>Li?Lf:performance.interactionCount||0,pE=()=>{"interactionCount"in performance||Li||(Li=Zn("event",fE,{type:"event",buffered:!0,durationThreshold:0}))},Jo=10;let Pf=0;const hE=()=>Of()-Pf;class Ws{constructor(){Ws.prototype.__init.call(this),Ws.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Pf=Of(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(hE()/50));return this._longestInteractionList[t]}_processEntry(t){var s,o;if((s=this._onBeforeProcessingEntry)==null||s.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Jo||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((i,a)=>a._latency-i._latency),this._longestInteractionList.length>Jo){const i=this._longestInteractionList.splice(Jo);for(const a of i)this._longestInteractionMap.delete(a.id)}(o=this._onAfterProcessingINPCandidate)==null||o.call(this,r)}}}const La=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=U.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};U.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},Df=e=>{var n;const t=U.requestIdleCallback||U.setTimeout;((n=U.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=Aa(e),t(e),La(e))},mE=[200,500],gE=40,_E=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&lo(()=>{pE();const n=Dr("INP");let r;const s=Ma(t,Ws),o=a=>{Df(()=>{for(const u of a)s._processEntry(u);const c=s._estimateP98LongestInteraction();c&&c._latency!==n.value&&(n.value=c._latency,n.entries=c.entries,r())})},i=Zn("event",o,{durationThreshold:t.durationThreshold??gE});r=Or(e,n,mE,t.reportAllChanges),i&&(i.observe({type:"first-input",buffered:!0}),La(()=>{o(i.takeRecords()),r(!0)}))})};class yE{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const SE=[2500,4e3],bE=(e,t={})=>{lo(()=>{const n=Na(),r=Dr("LCP");let s;const o=Ma(t,yE),i=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)o._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-Jn(),0),r.entries=[u],s())},a=Zn("largest-contentful-paint",i);if(a){s=Or(e,r,SE,t.reportAllChanges);const c=Aa(()=>{i(a.takeRecords()),a.disconnect(),s(!0)});for(const u of["keydown","click","visibilitychange"])U.document&&addEventListener(u,()=>Df(c),{capture:!0,once:!0})}})},EE=[800,1800],Oi=e=>{var t,n;(t=U.document)!=null&&t.prerendering?lo(()=>Oi(e)):((n=U.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Oi(e),!0):setTimeout(e)},vE=(e,t={})=>{const n=Dr("TTFB"),r=Or(e,n,EE,t.reportAllChanges);Oi(()=>{const s=Pr();s&&(n.value=Math.max(s.responseStart-Jn(),0),n.entries=[s],r(!0))})},ur={},zs={};let $f,Ff,Bf,Hf;function Oa(e,t=!1){return fo("cls",e,TE,$f,t)}function Pa(e,t=!1){return fo("lcp",e,IE,Ff,t)}function wE(e){return fo("ttfb",e,kE,Bf)}function Uf(e){return fo("inp",e,CE,Hf)}function ln(e,t){return Wf(e,t),zs[e]||(RE(e),zs[e]=!0),zf(e,t)}function $r(e,t){const n=ur[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(s){Un&&_.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${vt(r)}
Error:`,s)}}function TE(){return dE(e=>{$r("cls",{metric:e}),$f=e},{reportAllChanges:!0})}function IE(){return bE(e=>{$r("lcp",{metric:e}),Ff=e},{reportAllChanges:!0})}function kE(){return vE(e=>{$r("ttfb",{metric:e}),Bf=e})}function CE(){return _E(e=>{$r("inp",{metric:e}),Hf=e})}function fo(e,t,n,r,s=!1){Wf(e,t);let o;return zs[e]||(o=n(),zs[e]=!0),r&&t({metric:r}),zf(e,t,s?o:void 0)}function RE(e){const t={};e==="event"&&(t.durationThreshold=0),Zn(e,n=>{$r(e,{entries:n})},t)}function Wf(e,t){ur[e]=ur[e]||[],ur[e].push(t)}function zf(e,t,n){return()=>{n&&n();const r=ur[e];if(!r)return;const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}function xE(e){return"duration"in e}function Zo(e){return typeof e=="number"&&isFinite(e)}function Wt(e,t,n,{...r}){const s=$(e).start_timestamp;return s&&s>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),cn(e,()=>{const o=Je({startTime:t,...r});return o&&o.end(n),o})}function Da(e){var g;const t=R();if(!t)return;const{name:n,transaction:r,attributes:s,startTime:o}=e,{release:i,environment:a,sendDefaultPii:c}=t.getOptions(),u=t.getIntegrationByName("Replay"),d=u==null?void 0:u.getReplayId(),l=q(),p=l.getUser(),f=p!==void 0?p.email||p.id||p.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const m={release:i,environment:a,user:f||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":(g=U.navigator)==null?void 0:g.userAgent,"client.address":c?"{{auto}}":void 0,...s};return Je({name:n,attributes:m,startTime:o,experimental:{standalone:!0}})}function Fr(){return U.addEventListener&&U.performance}function ye(e){return e/1e3}function ME(e){let t="unknown",n="unknown",r="";for(const s of e){if(s==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(s))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=s}return r===e&&(t=r),{name:t,version:n}}function jf(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function qf(e,t){let n,r=!1;function s(a){!r&&n&&t(a,n),r=!0}La(()=>{s("pagehide")});const o=e.on("beforeStartNavigationSpan",(a,c)=>{c!=null&&c.isRedirect||(s("navigation"),Iu(o,i))}),i=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,Iu(i)})}function Iu(...e){e.forEach(t=>t&&setTimeout(t,0))}function AE(e){let t=0,n;if(!jf("layout-shift"))return;const r=Oa(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);qf(e,(s,o)=>{NE(t,n,o,s),r()})}function NE(e,t,n,r){var u;Un&&_.log(`Sending CLS span (${e})`);const s=ye(($e()||0)+((t==null?void 0:t.startTime)||0)),o=q().getScopeData().transactionName,i=t?Ze((u=t.sources[0])==null?void 0:u.node):"Layout shift",a={[J]:"auto.http.browser.cls",[Ee]:"ui.webvital.cls",[Xn]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((d,l)=>{a[`cls.source.${l+1}`]=Ze(d.node)});const c=Da({name:i,transaction:o,attributes:a,startTime:s});c&&(c.addEvent("cls",{[Cr]:"",[Rr]:e}),c.end(s))}function LE(e){let t=0,n;if(!jf("largest-contentful-paint"))return;const r=Pa(({metric:s})=>{const o=s.entries[s.entries.length-1];o&&(t=s.value,n=o)},!0);qf(e,(s,o)=>{OE(t,n,o,s),r()})}function OE(e,t,n,r){Un&&_.log(`Sending LCP span (${e})`);const s=ye(($e()||0)+((t==null?void 0:t.startTime)||0)),o=q().getScopeData().transactionName,i=t?Ze(t.element):"Largest contentful paint",a={[J]:"auto.http.browser.lcp",[Ee]:"ui.webvital.lcp",[Xn]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ze(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Da({name:i,transaction:o,attributes:a,startTime:s});c&&(c.addEvent("lcp",{[Cr]:"millisecond",[Rr]:e}),c.end(s))}function Ve(e=0){return(($e()||performance.timeOrigin)+e)/1e3}function Gf(e){var n;const t={};if(e.nextHopProtocol!=null){const{name:r,version:s}=ME(e.nextHopProtocol);t["network.protocol.version"]=s,t["network.protocol.name"]=r}return $e()||(n=Fr())!=null&&n.timeOrigin?{...t,"http.request.redirect_start":Ve(e.redirectStart),"http.request.redirect_end":Ve(e.redirectEnd),"http.request.worker_start":Ve(e.workerStart),"http.request.fetch_start":Ve(e.fetchStart),"http.request.domain_lookup_start":Ve(e.domainLookupStart),"http.request.domain_lookup_end":Ve(e.domainLookupEnd),"http.request.connect_start":Ve(e.connectStart),"http.request.secure_connection_start":Ve(e.secureConnectionStart),"http.request.connection_end":Ve(e.connectEnd),"http.request.request_start":Ve(e.requestStart),"http.request.response_start":Ve(e.responseStart),"http.request.response_end":Ve(e.responseEnd),"http.request.time_to_first_byte":(e.responseStart??0)/1e3}:t}const PE=2147483647;let ku=0,tt={},He,vn;function DE({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=Fr();if(r&&$e()){r.mark&&U.performance.mark("sentry-tracing-init");const s=t?LE(n):UE(),o=WE(),i=e?AE(n):HE();return()=>{s==null||s(),o(),i==null||i()}}return()=>{}}function $E(){ln("longtask",({entries:e})=>{const t=Se();if(!t)return;const{op:n,start_timestamp:r}=$(t);for(const s of e){const o=ye($e()+s.startTime),i=ye(s.duration);n==="navigation"&&r&&o<r||Wt(t,o,o+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[J]:"auto.ui.browser.metrics"}})}})}function FE(){new PerformanceObserver(t=>{const n=Se();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const s=ye($e()+r.startTime),{start_timestamp:o,op:i}=$(n);if(i==="navigation"&&o&&s<o)continue;const a=ye(r.duration),c={[J]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:p,sourceFunctionName:f,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,p&&(c["code.filepath"]=p),f&&(c["code.function"]=f),h!==-1&&(c["browser.script.source_char_position"]=h),Wt(n,s,s+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function BE(){ln("event",({entries:e})=>{const t=Se();if(t){for(const n of e)if(n.name==="click"){const r=ye($e()+n.startTime),s=ye(n.duration),o={name:Ze(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[J]:"auto.ui.browser.metrics"}},i=zl(n.target);i&&(o.attributes["ui.component_name"]=i),Wt(t,r,r+s,o)}}})}function HE(){return Oa(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(tt.cls={value:e.value,unit:""},vn=t)},!0)}function UE(){return Pa(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(tt.lcp={value:e.value,unit:"millisecond"},He=t)},!0)}function WE(){return wE(({metric:e})=>{e.entries[e.entries.length-1]&&(tt.ttfb={value:e.value,unit:"millisecond"})})}function zE(e,t){const n=Fr(),r=$e();if(!(n!=null&&n.getEntries)||!r)return;const s=ye(r),o=n.getEntries(),{op:i,start_timestamp:a}=$(e);o.slice(ku).forEach(c=>{const u=ye(c.startTime),d=ye(Math.max(0,c.duration));if(!(i==="navigation"&&a&&s+u<a))switch(c.entryType){case"navigation":{GE(e,c,s);break}case"mark":case"paint":case"measure":{jE(e,c,u,d,s,t.ignorePerformanceApiSpans);const l=Na(),p=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&p&&(tt.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&p&&(tt.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{XE(e,c,c.name,u,d,s,t.ignoreResourceSpans);break}}}),ku=Math.max(o.length-1,0),KE(e),i==="pageload"&&(QE(tt),t.recordClsOnPageloadSpan||delete tt.cls,t.recordLcpOnPageloadSpan||delete tt.lcp,Object.entries(tt).forEach(([c,u])=>{Sd(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",s),e.setAttribute("performance.activationStart",Jn()),JE(e,t)),He=void 0,vn=void 0,tt={}}function jE(e,t,n,r,s,o){if(["mark","measure"].includes(t.entryType)&&st(t.name,o))return;const i=Pr(!1),a=ye(i?i.requestStart:0),c=s+Math.max(n,a),u=s+n,d=u+r,l={[J]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),qE(l,t),c<=d&&Wt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function qE(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,s]of Object.entries(n))if(s&&An(s))e[`sentry.browser.measure.detail.${r}`]=s;else if(s!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(s)}catch{}return}if(An(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function GE(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ts(e,t,r,n)}),ts(e,t,"secureConnection",n,"TLS/SSL"),ts(e,t,"fetch",n,"cache"),ts(e,t,"domainLookup",n,"DNS"),YE(e,t,n)}function ts(e,t,n,r,s=n){const o=VE(n),i=t[o],a=t[`${n}Start`];!a||!i||Wt(e,r+ye(a),r+ye(i),{op:`browser.${s}`,name:t.name,attributes:{[J]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function VE(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function YE(e,t,n){const r=n+ye(t.requestStart),s=n+ye(t.responseEnd),o=n+ye(t.responseStart);t.responseEnd&&(Wt(e,r,s,{op:"browser.request",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}),Wt(e,o,s,{op:"browser.response",name:t.name,attributes:{[J]:"auto.ui.browser.metrics"}}))}function XE(e,t,n,r,s,o,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i!=null&&i.includes(a))return;const c={[J]:"auto.resource.browser.metrics"},u=rn(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(U.location.origin),ZE(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const d={...c,...Gf(t)},l=o+r,p=l+s;Wt(e,l,p,{name:n.replace(U.location.origin,""),op:a,attributes:d})}function KE(e){const t=U.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Zo(n.rtt)&&(tt["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Zo(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Zo(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function JE(e,t){He&&t.recordLcpOnPageloadSpan&&(He.element&&e.setAttribute("lcp.element",Ze(He.element)),He.id&&e.setAttribute("lcp.id",He.id),He.url&&e.setAttribute("lcp.url",He.url.trim().slice(0,200)),He.loadTime!=null&&e.setAttribute("lcp.loadTime",He.loadTime),He.renderTime!=null&&e.setAttribute("lcp.renderTime",He.renderTime),e.setAttribute("lcp.size",He.size)),vn!=null&&vn.sources&&t.recordClsOnPageloadSpan&&vn.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ze(n.node)))}function ZE(e,t,n){n.forEach(([r,s])=>{const o=e[r];o!=null&&(typeof o=="number"&&o<PE||typeof o=="string")&&(t[s]=o)})}function QE(e){const t=Pr(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function ev(){return Fr()&&$e()?ln("element",tv):()=>{}}const tv=({entries:e})=>{const t=Se(),n=t?be(t):void 0,r=n?$(n).description:q().getScopeData().transactionName;e.forEach(s=>{var f,h;const o=s;if(!o.identifier)return;const i=o.name,a=o.renderTime,c=o.loadTime,[u,d]=c?[ye(c),"load-time"]:a?[ye(a),"render-time"]:[pe(),"entry-emission"],l=i==="image-paint"?ye(Math.max(0,(a??0)-(c??0))):0,p={[J]:"auto.ui.browser.elementtiming",[Ee]:"ui.elementtiming",[de]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":o.id,"element.type":((h=(f=o.element)==null?void 0:f.tagName)==null?void 0:h.toLowerCase())||"unknown","element.size":o.naturalWidth&&o.naturalHeight?`${o.naturalWidth}x${o.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":o.url||void 0,"element.identifier":o.identifier,"element.paint_type":i};oo({name:`element[${o.identifier}]`,attributes:p,startTime:u,onlyIfParent:!0},m=>{m.end(u+l)})})},nv=1e3;let Cu,Pi,Di;function Vf(e){const t="dom";jt(t,e),qt(t,rv)}function rv(){if(!U.document)return;const e=Ke.bind(null,"dom"),t=Ru(e,!0);U.document.addEventListener("click",t,!1),U.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var o,i;const s=(o=U[n])==null?void 0:o.prototype;(i=s==null?void 0:s.hasOwnProperty)!=null&&i.call(s,"addEventListener")&&(Pe(s,"addEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},p=l[c]=l[c]||{refCount:0};if(!p.handler){const f=Ru(e);p.handler=f,a.call(this,c,f,d)}p.refCount++}catch{}return a.call(this,c,u,d)}}),Pe(s,"removeEventListener",function(a){return function(c,u,d){if(c==="click"||c=="keypress")try{const l=this.__sentry_instrumentation_handlers__||{},p=l[c];p&&(p.refCount--,p.refCount<=0&&(a.call(this,c,p.handler,d),p.handler=void 0,delete l[c]),Object.keys(l).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,c,u,d)}}))})}function sv(e){if(e.type!==Pi)return!1;try{if(!e.target||e.target._sentryId!==Di)return!1}catch{}return!0}function ov(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Ru(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=iv(n);if(ov(n.type,r))return;Re(n,"_sentryCaptured",!0),r&&!r._sentryId&&Re(r,"_sentryId",De());const s=n.type==="keypress"?"input":n.type;sv(n)||(e({event:n,name:s,global:t}),Pi=n.type,Di=r?r._sentryId:void 0),clearTimeout(Cu),Cu=U.setTimeout(()=>{Di=void 0,Pi=void 0},nv)}}function iv(e){try{return e.target}catch{return null}}let ns;function po(e){const t="history";jt(t,e),qt(t,av)}function av(){if(U.addEventListener("popstate",()=>{const t=U.location.href,n=ns;if(ns=t,n===t)return;Ke("history",{from:n,to:t})}),!uS())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const s=ns,o=cv(String(r));if(ns=o,s===o)return t.apply(this,n);Ke("history",{from:s,to:o})}return t.apply(this,n)}}Pe(U.history,"pushState",e),Pe(U.history,"replaceState",e)}function cv(e){try{return new URL(e,U.location.origin).toString()}catch{return e}}const Es={};function $a(e){const t=Es[e];if(t)return t;let n=U[e];if(Ti(n))return Es[e]=n.bind(U);const r=U.document;if(r&&typeof r.createElement=="function")try{const s=r.createElement("iframe");s.hidden=!0,r.head.appendChild(s);const o=s.contentWindow;o!=null&&o[e]&&(n=o[e]),r.head.removeChild(s)}catch(s){Un&&_.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,s)}return n&&(Es[e]=n.bind(U))}function uv(e){Es[e]=void 0}function Br(...e){return $a("setTimeout")(...e)}const _t="__sentry_xhr_v3__";function Fa(e){const t="xhr";jt(t,e),qt(t,lv)}function lv(){if(!U.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const s=new Error,o=pe()*1e3,i=rt(r[0])?r[0].toUpperCase():void 0,a=dv(r[1]);if(!i||!a)return t.apply(n,r);n[_t]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[_t];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:pe()*1e3,startTimestamp:o,xhr:n,virtualError:s};Ke("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[p,f]=l,h=d[_t];return h&&rt(p)&&rt(f)&&(h.request_headers[p.toLowerCase()]=f),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const s=n[_t];if(!s)return t.apply(n,r);r[0]!==void 0&&(s.body=r[0]);const o={startTimestamp:pe()*1e3,xhr:n};return Ke("xhr",o),t.apply(n,r)}})}function dv(e){if(rt(e))return e;try{return e.toString()}catch{}}function Yf(e){return new URLSearchParams(e).toString()}function js(e,t=_){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Yf(e)];if(!e)return[void 0]}catch(n){return Un&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Un&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ba(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const Qo=[],vs=new Map,fv=60;function pv(){if(Fr()&&$e()){const t=hv();return()=>{t()}}return()=>{}}const xu={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function hv(){return Uf(mv)}const mv=({metric:e})=>{if(e.value==null)return;const t=ye(e.value);if(t>fv)return;const n=e.entries.find(h=>h.duration===e.value&&xu[h.name]);if(!n)return;const{interactionId:r}=n,s=xu[n.name],o=ye($e()+n.startTime),i=Se(),a=i?be(i):void 0,u=(r!=null?vs.get(r):void 0)||a,d=u?$(u).description:q().getScopeData().transactionName,l=Ze(n.target),p={[J]:"auto.http.browser.inp",[Ee]:`ui.interaction.${s}`,[Xn]:n.duration},f=Da({name:l,transaction:d,attributes:p,startTime:o});f&&(f.addEvent("inp",{[Cr]:"millisecond",[Rr]:e.value}),f.end(o+t))};function gv(){const e=({entries:t})=>{const n=Se(),r=n&&be(n);t.forEach(s=>{if(!xE(s)||!r)return;const o=s.interactionId;if(o!=null&&!vs.has(o)){if(Qo.length>10){const i=Qo.shift();vs.delete(i)}Qo.push(o),vs.set(o,r)}})};ln("event",e),ln("first-input",e)}function Ha(e,t=$a("fetch")){let n=0,r=0;async function s(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw uv("fetch"),c}finally{n-=i,r--}}return jd(e,s)}const _v=10,yv=20,Sv=30,bv=40,Ev=50;function Wn(e,t,n,r){const s={filename:e,function:t==="<anonymous>"?dt:t,in_app:!0};return n!==void 0&&(s.lineno=n),r!==void 0&&(s.colno=r),s}const vv=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,wv=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Tv=/\((\S*)(?::(\d+))(?::(\d+))\)/,Iv=/at (.+?) ?\(data:(.+?),/,kv=e=>{const t=e.match(Iv);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=vv.exec(e);if(n){const[,s,o,i]=n;return Wn(s,dt,+o,+i)}const r=wv.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=Tv.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[o,i]=Qf(r[1]||dt,r[2]);return Wn(i,o,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Xf=[Sv,kv],Cv=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Rv=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xv=e=>{const t=Cv.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const o=Rv.exec(t[3]);o&&(t[1]=t[1]||"eval",t[3]=o[1],t[4]=o[2],t[5]="")}let r=t[3],s=t[1]||dt;return[s,r]=Qf(s,r),Wn(r,s,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Kf=[Ev,xv],Mv=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Av=e=>{const t=Mv.exec(e);return t?Wn(t[2],t[1]||dt,+t[3],t[4]?+t[4]:void 0):void 0},Nv=[bv,Av],Lv=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Ov=e=>{const t=Lv.exec(e);return t?Wn(t[2],t[3]||dt,+t[1]):void 0},Pv=[_v,Ov],Dv=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,$v=e=>{const t=Dv.exec(e);return t?Wn(t[5],t[3]||t[4]||dt,+t[1],+t[2]):void 0},Fv=[yv,$v],Jf=[Xf,Kf],Zf=Dl(...Jf),Qf=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:dt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function Bv(e,{metadata:t,tunnel:n,dsn:r}){const s={event_id:e.event_id,sent_at:new Date().toISOString(),...(t==null?void 0:t.sdk)&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:mn(r)}},o=Hv(e);return xt(s,[o])}function Hv(e){return[{type:"user_report"},e]}const K=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,rs=1024,Uv="Breadcrumbs",Wv=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Uv,setup(n){t.console&&Sa(qv(n)),t.dom&&Vf(jv(n,t.dom)),t.xhr&&Fa(Gv(n)),t.fetch&&Ea(Vv(n)),t.history&&po(Yv(n)),t.sentry&&n.on("beforeSendEvent",zv(n))}}},ep=Wv;function zv(e){return function(n){R()===e&&ct({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Kt(n)},{event:n})}}function jv(e,t){return function(r){if(R()!==e)return;let s,o,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>rs&&(K&&_.warn(`\`dom.maxStringLength\` cannot exceed ${rs}, but a value of ${a} was configured. Sentry will use ${rs} instead.`),a=rs),typeof i=="string"&&(i=[i]);try{const u=r.event,d=Xv(u)?u.target:u;s=Ze(d,{keyAttrs:i,maxStringLength:a}),o=zl(d)}catch{s="<unknown>"}if(s.length===0)return;const c={category:`ui.${r.name}`,message:s};o&&(c.data={"ui.component_name":o}),ct(c,{event:r.event,name:r.name,global:r.global})}}function qv(e){return function(n){if(R()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:ba(n.level),message:xs(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${xs(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ct(r,{input:n.args,level:n.level})}}function Gv(e){return function(n){if(R()!==e)return;const{startTimestamp:r,endTimestamp:s}=n,o=n.xhr[_t];if(!r||!s||!o)return;const{method:i,url:a,status_code:c,body:u}=o,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:s},p={category:"xhr",data:d,type:"http",level:lf(c)};e.emit("beforeOutgoingRequestBreadcrumb",p,l),ct(p,l)}}function Vv(e){return function(n){if(R()!==e)return;const{startTimestamp:r,endTimestamp:s}=n;if(s&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const o=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:s},a={category:"fetch",data:o,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),ct(a,i)}else{const o=n.response,i={...n.fetchData,status_code:o==null?void 0:o.status};n.fetchData.request_body_size,n.fetchData.response_body_size,o==null||o.status;const a={input:n.args,response:o,startTimestamp:r,endTimestamp:s},c={category:"fetch",data:i,type:"http",level:lf(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),ct(c,a)}}}function Yv(e){return function(n){if(R()!==e)return;let r=n.from,s=n.to;const o=rn(M.location.href);let i=r?rn(r):void 0;const a=rn(s);i!=null&&i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(s=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),ct({category:"navigation",data:{from:r,to:s}})}}function Xv(e){return!!e&&!!e.target}const Kv=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Jv="BrowserApiErrors",Zv=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:Jv,setupOnce(){t.setTimeout&&Pe(M,"setTimeout",Mu),t.setInterval&&Pe(M,"setInterval",Mu),t.requestAnimationFrame&&Pe(M,"requestAnimationFrame",Qv),t.XMLHttpRequest&&"XMLHttpRequest"in M&&Pe(XMLHttpRequest.prototype,"send",e0);const n=t.eventTarget;n&&(Array.isArray(n)?n:Kv).forEach(s=>t0(s,t))}}},tp=Zv;function Mu(e){return function(...t){const n=t[0];return t[0]=Hn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${vt(e)}`}}),e.apply(this,t)}}function Qv(e){return function(t){return e.apply(this,[Hn(t,{mechanism:{data:{handler:vt(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function e0(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(s=>{s in n&&typeof n[s]=="function"&&Pe(n,s,function(o){const i={mechanism:{data:{handler:vt(o)},handled:!1,type:`auto.browser.browserapierrors.xhr.${s}`}},a=ta(o);return a&&(i.mechanism.data.handler=vt(a)),Hn(o,i)})}),e.apply(this,t)}}function t0(e,t){var s,o;const r=(s=M[e])==null?void 0:s.prototype;(o=r==null?void 0:r.hasOwnProperty)!=null&&o.call(r,"addEventListener")&&(Pe(r,"addEventListener",function(i){return function(a,c,u){try{n0(c)&&(c.handleEvent=Hn(c.handleEvent,{mechanism:{data:{handler:vt(c),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&r0(this,a,c),i.apply(this,[a,Hn(c,{mechanism:{data:{handler:vt(c),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),u])}}),Pe(r,"removeEventListener",function(i){return function(a,c,u){try{const d=c.__sentry_wrapped__;d&&i.call(this,a,d,u)}catch{}return i.call(this,a,c,u)}}))}function n0(e){return typeof e.handleEvent=="function"}function r0(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const np=()=>({name:"BrowserSession",setupOnce(){if(typeof M.document>"u"){K&&_.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}yi({ignoreDuration:!0}),Si(),po(({from:e,to:t})=>{e!==void 0&&e!==t&&(yi({ignoreDuration:!0}),Si())})}}),s0="GlobalHandlers",o0=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:s0,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(i0(n),Au("onerror")),t.onunhandledrejection&&(a0(n),Au("onunhandledrejection"))}}},rp=o0;function i0(e){$l(t=>{const{stackParser:n,attachStacktrace:r}=sp();if(R()!==e||Cf())return;const{msg:s,url:o,line:i,column:a,error:c}=t,u=l0(xa(n,c||s,void 0,r,!1),o,i,a);u.level="error",Mr(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function a0(e){Fl(t=>{const{stackParser:n,attachStacktrace:r}=sp();if(R()!==e||Cf())return;const s=c0(t),o=An(s)?u0(s):xa(n,s,void 0,r,!0);o.level="error",Mr(o,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function c0(e){if(An(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function u0(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function l0(e,t,n,r){const s=e.exception=e.exception||{},o=s.values=s.values||[],i=o[0]=o[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=d0(t)??pn();return c.length===0&&c.push({colno:u,filename:l,function:dt,in_app:!0,lineno:d}),e}function Au(e){K&&_.log(`Global Handler attached: ${e}`)}function sp(){const e=R();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function d0(e){if(!(!rt(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}const op=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!M.navigator&&!M.location&&!M.document)return;const t=Ca(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),f0="cause",p0=5,h0="LinkedErrors",m0=(e={})=>{const t=e.limit||p0,n=e.key||f0;return{name:h0,preprocessEvent(r,s,o){const i=o.getOptions();X_(uo,i.stackParser,n,t,r,s)}}},ip=m0;function g0(){return _0()?(K&&zt(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function _0(){var o;if(typeof M.window>"u")return!1;const e=M;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((o=t==null?void 0:t.runtime)!=null&&o.id))return!1;const n=pn(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(M===M.top&&r.some(i=>n.startsWith(`${i}://`)))}function ap(e){return[Zd(),Kd(),tp(),ep(),rp(),ip(),nf(),op(),np()]}function y0(e={}){const t=!e.skipBrowserExtensionCheck&&g0(),n={...e,enabled:t?!1:e.enabled,stackParser:Kh(e.stackParser||Zf),integrations:n_({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?ap():e.defaultIntegrations}),transport:e.transport||Ha};return y_(Nf,n)}function S0(){}function b0(e){e()}function $i(e={}){const t=M.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){K&&_.error("[showReportDialog] Global document not defined");return}const r=q(),s=R(),o=s==null?void 0:s.getDsn();if(!o){K&&_.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||Cd()},a=M.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=e_(o,i);const{onLoad:c,onClose:u}=i;if(c&&(a.onload=c),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{M.removeEventListener("message",d)}};M.addEventListener("message",d)}n.appendChild(a)}const E0=W,v0="ReportingObserver",Nu=new WeakMap,w0=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(Nu.has(R()))for(const s of r)Ue(o=>{o.setExtra("url",s.url);const i=`ReportingObserver [${s.type}]`;let a="No details available";if(s.body){const c={};for(const u in s.body)c[u]=s.body[u];if(o.setExtra("body",c),s.type==="crash"){const u=s.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=s.body.message||a}Ds(`${i}: ${a}`)})}return{name:v0,setupOnce(){if(!dS())return;new E0.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Nu.set(r,!0)}}},T0=w0,I0="HttpClient",k0=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:I0,setup(n){P0(n,t),D0(n,t)}}},C0=k0;function R0(e,t,n,r,s){if(up(e,n.status,n.url)){const o=$0(t,r);let i,a,c,u;dp()&&([i,c]=Lu("Cookie",o),[a,u]=Lu("Set-Cookie",n));const d=lp({url:o.url,method:o.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:s,type:"fetch"});Mr(d)}}function Lu(e,t){const n=A0(t.headers);let r;try{const s=n[e]||n[e.toLowerCase()]||void 0;s&&(r=cp(s))}catch{}return[n,r]}function x0(e,t,n,r,s){if(up(e,t.status,t.responseURL)){let o,i,a;if(dp()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=cp(u))}catch{}try{a=N0(t)}catch{}o=r}const c=lp({url:t.responseURL,method:n,status:t.status,requestHeaders:o,responseHeaders:a,responseCookies:i,error:s,type:"xhr"});Mr(c)}}function M0(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function cp(e){return e.split("; ").reduce((t,n)=>{const[r,s]=n.split("=");return r&&s&&(t[r]=s),t},{})}function A0(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function N0(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return s&&o&&(n[s]=o),n},{}):{}}function L0(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function O0(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function P0(e,t){df()&&Ea(n=>{if(R()!==e)return;const{response:r,args:s,error:o,virtualError:i}=n,[a,c]=s;r&&R0(t,a,r,c,o||i)},!1)}function D0(e,t){"XMLHttpRequest"in W&&Fa(n=>{if(R()!==e)return;const{error:r,virtualError:s}=n,o=n.xhr,i=o[_t];if(!i)return;const{method:a,request_headers:c}=i;try{x0(t,o,a,c,r||s)}catch(u){K&&_.warn("Error while extracting response event form XHR response",u)}})}function up(e,t,n){return O0(e.failedRequestStatusCodes,t)&&L0(e.failedRequestTargets,n)&&!Vd(n,R())}function lp(e){const t=R(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,s=`HTTP Client Error with status code: ${e.status}`,o={message:s,exception:{values:[{type:"Error",value:s,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:M0(e.responseHeaders)}}};return It(o,{type:`auto.http.client.${e.type}`,handled:!1}),o}function $0(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function dp(){const e=R();return e?!!e.getOptions().sendDefaultPii:!1}const ei=W,F0=7,B0="ContextLines",H0=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:F0;return{name:B0,processEvent(n){return W0(n,t)}}},U0=H0;function W0(e,t){var a;const n=ei.document,r=ei.location&&Gd(ei.location.href);if(!n||!r)return e;const s=(a=e.exception)==null?void 0:a.values;if(!(s!=null&&s.length))return e;const o=n.documentElement.innerHTML;if(!o)return e;const i=["<!DOCTYPE html>","<html>",...o.split(`
`),"</html>"];return s.forEach(c=>{const u=c.stacktrace;u!=null&&u.frames&&(u.frames=u.frames.map(d=>z0(d,i,r,t)))}),e}function z0(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||cm(t,e,r),e}const j0="GraphQLClient",q0=e=>({name:j0,setup(t){G0(t,e),V0(t,e)}});function G0(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const o=$(n).data||{};if(!(o[Ee]==="http.client"))return;const c=o[Tm]||o["http.url"],u=o[wm]||o["http.method"];if(!rt(c)||!rt(u))return;const{endpoints:d}=t,l=st(c,d),p=pp(r);if(l&&p){const f=hp(p);if(f){const h=fp(f);n.updateName(`${u} ${c} (${h})`),n.setAttribute("graphql.document",p)}}})}function V0(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:s,type:o,data:i}=n;if(o==="http"&&(s==="fetch"||s==="xhr")){const d=i==null?void 0:i.url,{endpoints:l}=t,p=st(d,l),f=pp(r);if(p&&i&&f){const h=hp(f);if(!i.graphql&&h){const m=fp(h);i["graphql.document"]=h.query,i["graphql.operation"]=m}}}})}function fp(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:s}=Y0(t);return r?`${s} ${r}`:`${s}`}function pp(e){const t="xhr"in e;let n;if(t){const r=e.xhr[_t];n=r&&js(r.body)[0]}else{const r=Ba(e.input);n=js(r)[0]}return n}function Y0(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const s=e.match(n);return s?{operationType:s[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function hp(e){let t;try{const n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}const X0=q0,ue=W,Ua="sentryReplaySession",K0="replay_event",Wa="Unable to send Replay",J0=3e5,Z0=9e5,Q0=5e3,ew=5500,tw=6e4,nw=5e3,rw=3,Ou=15e4,ss=5e3,sw=3e3,ow=300,za=2e7,iw=4999,aw=15e3,Pu=36e5;var cw=Object.defineProperty,uw=(e,t,n)=>t in e?cw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Du=(e,t,n)=>uw(e,typeof t!="symbol"?t+"":t,n),ve=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(ve||{});function lw(e){return e.nodeType===e.ELEMENT_NODE}function lr(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function dr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function dw(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function fw(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function qs(e){try{const t=e.rules||e.cssRules;return t?dw(Array.from(t,mp).join("")):null}catch{return null}}function pw(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,s=r[n],o=r.getPropertyPriority(s);t+=`${s}:${r.getPropertyValue(s)}${o?" !important":""};`}return`${e.selectorText} { ${t} }`}function mp(e){let t;if(mw(e))try{t=qs(e.styleSheet)||fw(e)}catch{}else if(gw(e)){let n=e.cssText;const r=e.selectorText.includes(":"),s=typeof e.style.all=="string"&&e.style.all;if(s&&(n=pw(e)),r&&(n=hw(n)),r||s)return n}return t||e.cssText}function hw(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function mw(e){return"styleSheet"in e}function gw(e){return"selectorText"in e}let gp=class{constructor(){Du(this,"idNodeMap",new Map),Du(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function _w(){return new gp}function ho({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function gr({isMasked:e,element:t,value:n,maskInputFn:r}){let s=n||"";return e?(r&&(s=r(s,t)),"*".repeat(s.length)):s}function zn(e){return e.toLowerCase()}function Fi(e){return e.toUpperCase()}const $u="__rrweb_original__";function yw(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let s=0;s<e.height;s+=n){const o=t.getImageData,i=$u in o?o[$u]:o;if(new Uint32Array(i.call(t,r,s,Math.min(n,e.width-r),Math.min(n,e.height-s)).data.buffer).some(c=>c!==0))return!1}return!0}function ja(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?zn(t):null}function Gs(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function _p(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,s=n.pathname.match(r);return(s==null?void 0:s[1])??null}const Fu={};function yp(e){const t=Fu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Fu[e]=r.bind(window)}function Bi(...e){return yp("setTimeout")(...e)}function Sp(...e){return yp("clearTimeout")(...e)}function bp(e){try{return e.contentDocument}catch{}}let Sw=1;const bw=new RegExp("[^a-z0-9-_:]"),_r=-2;function qa(){return Sw++}function Ew(e){if(e instanceof HTMLFormElement)return"form";const t=zn(e.tagName);return bw.test(t)?"div":t}function vw(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let yn,Bu;const ww=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Tw=/^(?:[a-z+]+:)?\/\//i,Iw=/^www\..*/i,kw=/^(data:)([^,]*),(.*)/i;function Vs(e,t){return(e||"").replace(ww,(n,r,s,o,i,a)=>{const c=s||i||a,u=r||o||"";if(!c)return n;if(Tw.test(c)||Iw.test(c))return`url(${u}${c}${u})`;if(kw.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${vw(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const p of l)p!=="."&&(p===".."?d.pop():d.push(p));return`url(${u}${d.join("/")}${u})`})}const Cw=/^[^ \t\n\r\u000c]+/,Rw=/^[, \t\n\r\u000c]+/;function xw(e,t){if(t.trim()==="")return t;let n=0;function r(o){let i;const a=o.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const s=[];for(;r(Rw),!(n>=t.length);){let o=r(Cw);if(o.slice(-1)===",")o=wn(e,o.substring(0,o.length-1)),s.push(o);else{let i="";o=wn(e,o);let a=!1;for(;;){const c=t.charAt(n);if(c===""){s.push((o+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,s.push((o+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return s.join(", ")}const Hu=new WeakMap;function wn(e,t){return!t||t.trim()===""?t:mo(e,t)}function Mw(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function mo(e,t){let n=Hu.get(e);if(n||(n=e.createElement("a"),Hu.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Ep(e,t,n,r,s,o){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?wn(e,r):n==="srcset"?xw(e,r):n==="style"?Vs(r,mo(e)):t==="object"&&n==="data"?wn(e,r):typeof o=="function"?o(n,r,s):r)}function vp(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function Aw(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let s=e.classList.length;s--;){const o=e.classList[s];if(t.test(o))return!0}if(n)return e.matches(n)}catch{}return!1}function Nw(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Qt(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Qt(e.parentNode,t,n,r+1)}function Tn(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Nw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function jn(e,t,n,r,s,o){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(o){if(c=Qt(i,Tn(r,s)),c<0)return!0;a=Qt(i,Tn(t,n),c>=0?c:1/0)}else{if(a=Qt(i,Tn(t,n)),a<0)return!1;c=Qt(i,Tn(r,s),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!o}catch{}return!!o}function Lw(e,t,n){const r=e.contentWindow;if(!r)return;let s=!1,o;try{o=r.document.readyState}catch{return}if(o!=="complete"){const a=Bi(()=>{s||(t(),s=!0)},n);e.addEventListener("load",()=>{Sp(a),s=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return Bi(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Ow(e,t,n){let r=!1,s;try{s=e.sheet}catch{return}if(s)return;const o=Bi(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Sp(o),r=!0,t()})}function Pw(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,inlineStylesheet:f,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:S,recordCanvas:A,keepIframeSrcFn:I,newlyAddedElement:x=!1}=t,b=Dw(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:ve.Document,childNodes:[],compatMode:e.compatMode}:{type:ve.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:ve.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return Fw(e,{doc:n,blockClass:s,blockSelector:o,unblockSelector:i,inlineStylesheet:f,maskAttributeFn:c,maskInputOptions:h,maskInputFn:g,dataURLOptions:y,inlineImages:S,recordCanvas:A,keepIframeSrcFn:I,newlyAddedElement:x,rootId:b,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p});case e.TEXT_NODE:return $w(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:p,maskTextFn:m,maskInputOptions:h,maskInputFn:g,rootId:b});case e.CDATA_SECTION_NODE:return{type:ve.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:ve.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function Dw(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function $w(e,t){var y;const{maskAllText:n,maskTextClass:r,unmaskTextClass:s,maskTextSelector:o,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let p=e.textContent;const f=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,m=l==="TEXTAREA"?!0:void 0;if(f&&p){try{e.nextSibling||e.previousSibling||(y=e.parentNode.sheet)!=null&&y.cssRules&&(p=qs(e.parentNode.sheet))}catch(S){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${S}`,e)}p=Vs(p,mo(t.doc))}h&&(p="SCRIPT_PLACEHOLDER");const g=jn(e,r,o,s,i,n);if(!f&&!h&&!m&&p&&g&&(p=a?a(p,e.parentElement):p.replace(/[\S]/g,"*")),m&&p&&(c.textarea||g)&&(p=u?u(p,e.parentNode):p.replace(/[\S]/g,"*")),l==="OPTION"&&p){const S=ho({type:null,tagName:l,maskInputOptions:c});p=gr({isMasked:jn(e,r,o,s,i,S),element:e,value:p,maskInputFn:u})}return{type:ve.Text,textContent:p||"",isStyle:f,rootId:d}}function Fw(e,t){const{doc:n,blockClass:r,blockSelector:s,unblockSelector:o,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:p,keepIframeSrcFn:f,newlyAddedElement:h=!1,rootId:m,maskTextClass:g,unmaskTextClass:y,maskTextSelector:S,unmaskTextSelector:A}=t,I=Aw(e,r,s,o),x=Ew(e);let b={};const k=e.attributes.length;for(let E=0;E<k;E++){const T=e.attributes[E];T.name&&!vp(x,T.name,T.value)&&(b[T.name]=Ep(n,x,zn(T.name),T.value,e,c))}if(x==="link"&&i){const E=Array.from(n.styleSheets).find(P=>P.href===e.href);let T=null;E&&(T=qs(E)),T&&(b.rel=null,b.href=null,b.crossorigin=null,b._cssText=Vs(T,E.href))}if(x==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const E=qs(e.sheet);E&&(b._cssText=Vs(E,mo(n)))}if(x==="input"||x==="textarea"||x==="select"||x==="option"){const E=e,T=ja(E),P=Gs(E,Fi(x),T),v=E.checked;if(T!=="submit"&&T!=="button"&&P){const L=jn(E,g,S,y,A,ho({type:T,tagName:Fi(x),maskInputOptions:a}));b.value=gr({isMasked:L,element:E,value:P,maskInputFn:u})}v&&(b.checked=v)}if(x==="option"&&(e.selected&&!a.select?b.selected=!0:delete b.selected),x==="canvas"&&p){if(e.__context==="2d")yw(e)||(b.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const E=e.toDataURL(d.type,d.quality),T=n.createElement("canvas");T.width=e.width,T.height=e.height;const P=T.toDataURL(d.type,d.quality);E!==P&&(b.rr_dataURL=E)}}if(x==="img"&&l){yn||(yn=n.createElement("canvas"),Bu=yn.getContext("2d"));const E=e,T=E.currentSrc||E.getAttribute("src")||"<unknown-src>",P=E.crossOrigin,v=()=>{E.removeEventListener("load",v);try{yn.width=E.naturalWidth,yn.height=E.naturalHeight,Bu.drawImage(E,0,0),b.rr_dataURL=yn.toDataURL(d.type,d.quality)}catch(L){if(E.crossOrigin!=="anonymous"){E.crossOrigin="anonymous",E.complete&&E.naturalWidth!==0?v():E.addEventListener("load",v);return}else console.warn(`Cannot inline img src=${T}! Error: ${L}`)}E.crossOrigin==="anonymous"&&(P?b.crossOrigin=P:E.removeAttribute("crossorigin"))};E.complete&&E.naturalWidth!==0?v():E.addEventListener("load",v)}if((x==="audio"||x==="video")&&(b.rr_mediaState=e.paused?"paused":"played",b.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(b.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(b.rr_scrollTop=e.scrollTop)),I){const{width:E,height:T}=e.getBoundingClientRect();b={class:b.class,rr_width:`${E}px`,rr_height:`${T}px`}}x==="iframe"&&!f(b.src)&&(!I&&!bp(e)&&(b.rr_src=b.src),delete b.src);let N;try{customElements.get(x)&&(N=!0)}catch{}return{type:ve.Element,tagName:x,attributes:b,childNodes:[],isSVG:Mw(e)||void 0,needBlock:I,rootId:m,isCustom:N}}function ce(e){return e==null?"":e.toLowerCase()}function Bw(e,t){if(t.comment&&e.type===ve.Comment)return!0;if(e.type===ve.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&_p(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ce(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ce(e.attributes.name)==="application-name"||ce(e.attributes.rel)==="icon"||ce(e.attributes.rel)==="apple-touch-icon"||ce(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ce(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ce(e.attributes.property).match(/^(og|twitter|fb):/)||ce(e.attributes.name).match(/^(og|twitter):/)||ce(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ce(e.attributes.name)==="robots"||ce(e.attributes.name)==="googlebot"||ce(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ce(e.attributes.name)==="author"||ce(e.attributes.name)==="generator"||ce(e.attributes.name)==="framework"||ce(e.attributes.name)==="publisher"||ce(e.attributes.name)==="progid"||ce(e.attributes.property).match(/^article:/)||ce(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ce(e.attributes.name)==="google-site-verification"||ce(e.attributes.name)==="yandex-verification"||ce(e.attributes.name)==="csrf-token"||ce(e.attributes.name)==="p:domain_verify"||ce(e.attributes.name)==="verify-v1"||ce(e.attributes.name)==="verification"||ce(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function In(e,t){const{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p=!1,inlineStylesheet:f=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:A={},inlineImages:I=!1,recordCanvas:x=!1,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N=5e3,onBlockedImageLoad:E,onStylesheetLoad:T,stylesheetLoadTimeout:P=5e3,keepIframeSrcFn:v=()=>!1,newlyAddedElement:L=!1}=t;let{preserveWhiteSpace:G=!0}=t;const O=Pw(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:A,inlineImages:I,recordCanvas:x,keepIframeSrcFn:v,newlyAddedElement:L});if(!O)return console.warn(e,"not serialized"),null;let z;r.hasNode(e)?z=r.getId(e):Bw(O,S)||!G&&O.type===ve.Text&&!O.isStyle&&!O.textContent.replace(/^\s+|\s+$/gm,"").length?z=_r:z=qa();const w=Object.assign(O,{id:z});if(r.add(e,w),z===_r)return null;b&&b(e);let F=!p;if(w.type===ve.Element){F=F&&!w.needBlock;const D=e.shadowRoot;D&&dr(D)&&(w.isShadowHost=!0)}if((w.type===ve.Document||w.type===ve.Element)&&F){S.headWhitespace&&w.type===ve.Element&&w.tagName==="head"&&(G=!1);const D={doc:n,mirror:r,blockClass:s,blockSelector:o,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:p,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:A,inlineImages:I,recordCanvas:x,preserveWhiteSpace:G,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N,onBlockedImageLoad:E,onStylesheetLoad:T,stylesheetLoadTimeout:P,keepIframeSrcFn:v},V=e.childNodes?Array.from(e.childNodes):[];for(const ne of V){const me=In(ne,D);me&&w.childNodes.push(me)}if(lw(e)&&e.shadowRoot)for(const ne of Array.from(e.shadowRoot.childNodes)){const me=In(ne,D);me&&(dr(e.shadowRoot)&&(me.isShadow=!0),w.childNodes.push(me))}}if(e.parentNode&&lr(e.parentNode)&&dr(e.parentNode)&&(w.isShadow=!0),w.type===ve.Element&&w.tagName==="iframe"&&!w.needBlock&&Lw(e,()=>{const D=bp(e);if(D&&k){const V=In(D,{doc:D,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:A,inlineImages:I,recordCanvas:x,preserveWhiteSpace:G,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:P,keepIframeSrcFn:v});V&&k(e,V)}},N),w.type===ve.Element&&w.tagName==="img"&&!e.complete&&w.needBlock){const D=e,V=()=>{if(D.isConnected&&!D.complete&&E)try{const ne=D.getBoundingClientRect();ne.width>0&&ne.height>0&&E(D,w,ne)}catch{}D.removeEventListener("load",V)};D.isConnected&&D.addEventListener("load",V)}return w.type===ve.Element&&w.tagName==="link"&&typeof w.attributes.rel=="string"&&(w.attributes.rel==="stylesheet"||w.attributes.rel==="preload"&&typeof w.attributes.href=="string"&&_p(w.attributes.href)==="css")&&Ow(e,()=>{if(T){const D=In(e,{doc:n,mirror:r,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:f,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S,dataURLOptions:A,inlineImages:I,recordCanvas:x,preserveWhiteSpace:G,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:N,onStylesheetLoad:T,stylesheetLoadTimeout:P,keepIframeSrcFn:v});D&&T(e,D)}},P),w.type===ve.Element&&delete w.needBlock,w}function Hw(e,t){const{mirror:n=new gp,blockClass:r="rr-block",blockSelector:s=null,unblockSelector:o=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:p=!1,recordCanvas:f=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:S=!1,dataURLOptions:A,preserveWhiteSpace:I,onSerialize:x,onIframeLoad:b,iframeLoadTimeout:k,onBlockedImageLoad:N,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:P=()=>!1}=t||{};return In(e,{doc:e,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:A,inlineImages:p,recordCanvas:f,preserveWhiteSpace:I,onSerialize:x,onIframeLoad:b,iframeLoadTimeout:k,onBlockedImageLoad:N,onStylesheetLoad:E,stylesheetLoadTimeout:T,keepIframeSrcFn:P,newlyAddedElement:!1})}function Oe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const Sn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Uu={map:{},getId(){return console.error(Sn),-1},getNode(){return console.error(Sn),null},removeNodeFromMap(){console.error(Sn)},has(){return console.error(Sn),!1},reset(){console.error(Sn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Uu=new Proxy(Uu,{get(e,t,n){return t==="map"&&console.error(Sn),Reflect.get(e,t,n)}}));function yr(e,t,n={}){let r=null,s=0;return function(...o){const i=Date.now();!s&&n.leading===!1&&(s=i);const a=t-(i-s),c=this;a<=0||a>t?(r&&(Vw(r),r=null),s=i,e.apply(c,o)):!r&&n.trailing!==!1&&(r=go(()=>{s=n.leading===!1?0:Date.now(),r=null,e.apply(c,o)},a))}}function wp(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){go(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>wp(e,t,o||{},!0)}function Ga(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}let Ys=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Ys=()=>new Date().getTime());function Tp(e){var n,r,s,o,i,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((s=t==null?void 0:t.body)==null?void 0:s.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((i=(o=t==null?void 0:t.body)==null?void 0:o.parentElement)==null?void 0:i.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function Ip(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function kp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Cp(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ze(e,t,n,r,s){if(!e)return!1;const o=Cp(e);if(!o)return!1;const i=Tn(t,n);if(!s){const u=r&&o.matches(r);return i(o)&&!u}const a=Qt(o,i);let c=-1;return a<0?!1:(r&&(c=Qt(o,Tn(null,r))),a>-1&&c<0?!0:a<c)}function Uw(e,t){return t.getId(e)!==-1}function ti(e,t){return t.getId(e)===_r}function Rp(e,t){if(lr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Rp(e.parentNode,t):!0:!0}function Hi(e){return!!e.changedTouches}function Ww(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function xp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Mp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Ui(e){return!!(e!=null&&e.shadowRoot)}class zw{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ap(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function jw(e){let t=e,n;for(;n=Ap(t);)t=n;return t}function qw(e){const t=e.ownerDocument;if(!t)return!1;const n=jw(e);return t.contains(n)}function Np(e){const t=e.ownerDocument;return t?t.contains(e)||qw(e):!1}const Wu={};function Va(e){const t=Wu[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return Wu[e]=r.bind(window)}function Gw(...e){return Va("requestAnimationFrame")(...e)}function go(...e){return Va("setTimeout")(...e)}function Vw(...e){return Va("clearTimeout")(...e)}var Y=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(Y||{}),j=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(j||{}),Le=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Le||{}),gt=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(gt||{}),bn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(bn||{});function Ya(e){try{return e.contentDocument}catch{}}function Yw(e){try{return e.contentWindow}catch{}}function zu(e){return"__ln"in e}class Xw{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&zu(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&zu(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const ju=(e,t)=>`${e}@${t}`;class Kw{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new Xw,s=c=>{let u=c,d=_r;for(;d===_r;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},o=c=>{if(!c.parentNode||!Np(c))return;const u=lr(c.parentNode)?this.mirror.getId(Ap(c)):this.mirror.getId(c.parentNode),d=s(c);if(u===-1||d===-1)return r.addNode(c);const l=In(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:p=>{xp(p,this.mirror)&&!ze(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(p),Mp(p,this.mirror)&&this.stylesheetManager.trackLinkElement(p),Ui(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(p,f)=>{ze(p,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(p,f),p.contentWindow&&this.canvasManager.addWindow(p.contentWindow),this.shadowDomManager.observeAttachShadow(p))},onStylesheetLoad:(p,f)=>{this.stylesheetManager.attachLinkElement(p,f)},onBlockedImageLoad:(p,f,{width:h,height:m})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:f.id,attributes:{style:{width:`${h}px`,height:`${m}px`}}}]})}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)qu(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||o(c);for(const c of this.addedSet)!Gu(this.droppedSet,c)&&!qu(this.removes,c,this.mirror)||Gu(this.movedSet,c)?o(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=s(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(s(d.value)===-1)continue;if(l!==-1){c=d;break}else{const f=d.value;if(f.parentNode&&f.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=f.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),o(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!ti(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:jn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Cp(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,s=t.target.getAttribute(r);if(r==="value"){const i=ja(n),a=n.tagName;s=Gs(n,a,i);const c=ho({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=jn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);s=gr({isMasked:u,element:n,value:s,maskInputFn:this.maskInputFn})}if(ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(s))if(!Ya(n))r="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o),this.attributeMap.set(t.target,o)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!vp(n.tagName,r)&&(o.attributes[r]=Ep(this.doc,zn(n.tagName),zn(r),s,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?o.styleDiff[a]=c:o.styleDiff[a]=[c,u]:o._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(o.styleDiff[a]=!1)}break}case"childList":{if(ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),s=lr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ti(n,this.mirror)||!Uw(n,this.mirror)||(this.addedSet.has(n)?(Wi(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Rp(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[ju(r,s)]?Wi(this.movedSet,n):this.removes.push({parentId:s,id:r,isShadow:lr(t.target)&&dr(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(ti(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[ju(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ze(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Ui(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Wi(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Wi(e,r))}function qu(e,t,n){return e.length===0?!1:Jw(e,t,n)}function Jw(e,t,n){let r=t.parentNode;for(;r;){const s=n.getId(r);if(e.some(o=>o.id===s))return!0;r=r.parentNode}return!1}function Gu(e,t){return e.size===0?!1:Lp(e,t)}function Lp(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Lp(e,n):!1}let fr;function Zw(e){fr=e}function Qw(){fr=void 0}const te=e=>fr?(...n)=>{try{return e(...n)}catch(r){if(fr&&fr(r)===!0)return()=>{};throw r}}:e,kn=[];function Hr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Op(e,t){var i,a;const n=new Kw;kn.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const s=(a=(i=window==null?void 0:window.Zone)==null?void 0:i.__symbol__)==null?void 0:a.call(i,"MutationObserver");s&&window[s]&&(r=window[s]);const o=new r(te(c=>{e.onMutation&&e.onMutation(c)===!1||n.processMutations.bind(n)(c)}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o}function eT({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const s=typeof t.mousemove=="number"?t.mousemove:50,o=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=yr(te(l=>{const p=Date.now()-a;e(i.map(f=>(f.timeOffset-=p,f)),l),i=[],a=null}),o),u=te(yr(te(l=>{const p=Hr(l),{clientX:f,clientY:h}=Hi(l)?l.changedTouches[0]:l;a||(a=Ys()),i.push({x:f,y:h,id:r.getId(p),timeOffset:Ys()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?j.Drag:l instanceof MouseEvent?j.MouseMove:j.TouchMove)}),s,{trailing:!1})),d=[Oe("mousemove",u,n),Oe("touchmove",u,n),Oe("drag",u,n)];return te(()=>{d.forEach(l=>l())})}function tT({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>p=>{const f=Hr(p);if(ze(f,r,s,o,!0))return;let h=null,m=l;if("pointerType"in p){switch(p.pointerType){case"mouse":h=gt.Mouse;break;case"touch":h=gt.Touch;break;case"pen":h=gt.Pen;break}h===gt.Touch?Le[l]===Le.MouseDown?m="TouchStart":Le[l]===Le.MouseUp&&(m="TouchEnd"):gt.Pen}else Hi(p)&&(h=gt.Touch);h!==null?(u=h,(m.startsWith("Touch")&&h===gt.Touch||m.startsWith("Mouse")&&h===gt.Mouse)&&(h=null)):Le[l]===Le.Click&&(h=u,u=null);const g=Hi(p)?p.changedTouches[0]:p;if(!g)return;const y=n.getId(f),{clientX:S,clientY:A}=g;te(e)({type:Le[m],id:y,x:S,y:A,...h!==null&&{pointerType:h}})};return Object.keys(Le).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let p=zn(l);const f=d(l);if(window.PointerEvent)switch(Le[l]){case Le.MouseDown:case Le.MouseUp:p=p.replace("mouse","pointer");break;case Le.TouchStart:case Le.TouchEnd:return}c.push(Oe(p,f,t))}),te(()=>{c.forEach(l=>l())})}function Pp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,sampling:i}){const a=te(yr(te(c=>{const u=Hr(c);if(!u||ze(u,r,s,o,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Tp(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Oe("scroll",a,t)}function nT({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const s=te(yr(te(()=>{const o=Ip(),i=kp();(n!==o||r!==i)&&(e({width:Number(i),height:Number(o)}),n=o,r=i)}),200));return Oe("resize",s,t)}const rT=["INPUT","TEXTAREA","SELECT"],Vu=new WeakMap;function sT({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:p,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:m}){function g(k){let N=Hr(k);const E=k.isTrusted,T=N&&Fi(N.tagName);if(T==="OPTION"&&(N=N.parentElement),!N||!T||rT.indexOf(T)<0||ze(N,r,s,o,!0))return;const P=N;if(P.classList.contains(i)||a&&P.matches(a))return;const v=ja(N);let L=Gs(P,T,v),G=!1;const O=ho({maskInputOptions:c,tagName:T,type:v}),z=jn(N,p,h,f,m,O);(v==="radio"||v==="checkbox")&&(G=N.checked),L=gr({isMasked:z,element:N,value:L,maskInputFn:u}),y(N,l?{text:L,isChecked:G,userTriggered:E}:{text:L,isChecked:G});const w=N.name;v==="radio"&&w&&G&&t.querySelectorAll(`input[type="radio"][name="${w}"]`).forEach(F=>{if(F!==N){const D=gr({isMasked:z,element:F,value:Gs(F,T,v),maskInputFn:u});y(F,l?{text:D,isChecked:!G,userTriggered:!1}:{text:D,isChecked:!G})}})}function y(k,N){const E=Vu.get(k);if(!E||E.text!==N.text||E.isChecked!==N.isChecked){Vu.set(k,N);const T=n.getId(k);te(e)({...N,id:T})}}const A=(d.input==="last"?["change"]:["input","change"]).map(k=>Oe(k,te(g),t)),I=t.defaultView;if(!I)return()=>{A.forEach(k=>k())};const x=I.Object.getOwnPropertyDescriptor(I.HTMLInputElement.prototype,"value"),b=[[I.HTMLInputElement.prototype,"value"],[I.HTMLInputElement.prototype,"checked"],[I.HTMLSelectElement.prototype,"value"],[I.HTMLTextAreaElement.prototype,"value"],[I.HTMLSelectElement.prototype,"selectedIndex"],[I.HTMLOptionElement.prototype,"selected"]];return x&&x.set&&A.push(...b.map(k=>wp(k[0],k[1],{set(){te(g)({target:this,isTrusted:!1})}},!1,I))),te(()=>{A.forEach(k=>k())})}function Xs(e){const t=[];function n(r,s){if(os("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||os("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||os("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||os("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);s.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);s.unshift(i)}return s}return n(e,t)}function Ot(e,t,n){let r,s;return e?(e.ownerNode?r=t.getId(e.ownerNode):s=n.getId(e),{styleId:s,id:r}):{}}function oT({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const s=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:te((d,l,p)=>{const[f,h]=p,{id:m,styleId:g}=Ot(l,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,adds:[{rule:f,index:h}]}),d.apply(l,p)})});const o=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:te((d,l,p)=>{const[f]=p,{id:h,styleId:m}=Ot(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,removes:[{index:f}]}),d.apply(l,p)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:te((d,l,p)=>{const[f]=p,{id:h,styleId:m}=Ot(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replace:f}),d.apply(l,p)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:te((d,l,p)=>{const[f]=p,{id:h,styleId:m}=Ot(l,t,n.styleMirror);return(h&&h!==-1||m&&m!==-1)&&e({id:h,styleId:m,replaceSync:f}),d.apply(l,p)})}));const c={};is("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(is("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),is("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),is("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:te((p,f,h)=>{const[m,g]=h,{id:y,styleId:S}=Ot(f.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||S&&S!==-1)&&e({id:y,styleId:S,adds:[{rule:m,index:[...Xs(f),g||0]}]}),p.apply(f,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:te((p,f,h)=>{const[m]=h,{id:g,styleId:y}=Ot(f.parentStyleSheet,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,removes:[{index:[...Xs(f),m]}]}),p.apply(f,h)})})}),te(()=>{r.CSSStyleSheet.prototype.insertRule=s,r.CSSStyleSheet.prototype.deleteRule=o,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Dp({mirror:e,stylesheetManager:t},n){var i,a,c;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const s=n.nodeName==="#document"?(i=n.defaultView)==null?void 0:i.Document:(c=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:c.ShadowRoot,o=s!=null&&s.prototype?Object.getOwnPropertyDescriptor(s==null?void 0:s.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!s||!o?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){var u;return(u=o.get)==null?void 0:u.call(this)},set(u){var l;const d=(l=o.set)==null?void 0:l.call(this,u);if(r!==null&&r!==-1)try{t.adoptStyleSheets(u,r)}catch{}return d}}),te(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set})}))}function iT({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:s}){const o=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:te((a,c,u)=>{var m;const[d,l,p]=u;if(n.has(d))return o.apply(c,[d,l,p]);const{id:f,styleId:h}=Ot((m=c.parentRule)==null?void 0:m.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,set:{property:d,value:l,priority:p},index:Xs(c.parentRule)}),a.apply(c,u)})});const i=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:te((a,c,u)=>{var f;const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:p}=Ot((f=c.parentRule)==null?void 0:f.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||p&&p!==-1)&&e({id:l,styleId:p,remove:{property:d},index:Xs(c.parentRule)}),a.apply(c,u)})}),te(()=>{s.CSSStyleDeclaration.prototype.setProperty=o,s.CSSStyleDeclaration.prototype.removeProperty=i})}function aT({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:s,sampling:o,doc:i}){const a=te(u=>yr(te(d=>{const l=Hr(d);if(!l||ze(l,t,n,r,!0))return;const{currentTime:p,volume:f,muted:h,playbackRate:m}=l;e({type:u,id:s.getId(l),currentTime:p,volume:f,muted:h,playbackRate:m})}),o.media||500)),c=[Oe("play",a(bn.Play),i),Oe("pause",a(bn.Pause),i),Oe("seeked",a(bn.Seeked),i),Oe("volumechange",a(bn.VolumeChange),i),Oe("ratechange",a(bn.RateChange),i)];return te(()=>{c.forEach(u=>u())})}function cT({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],s=new WeakMap,o=n.FontFace;n.FontFace=function(c,u,d){const l=new o(c,u,d);return s.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=Ga(t.fonts,"add",function(a){return function(c){return go(te(()=>{const u=s.get(c);u&&(e(u),s.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=o}),r.push(i),te(()=>{r.forEach(a=>a())})}function uT(e){const{doc:t,mirror:n,blockClass:r,blockSelector:s,unblockSelector:o,selectionCb:i}=e;let a=!0;const c=te(()=>{const u=t.getSelection();if(!u||a&&(u!=null&&u.isCollapsed))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let p=0;p<l;p++){const f=u.getRangeAt(p),{startContainer:h,startOffset:m,endContainer:g,endOffset:y}=f;ze(h,r,s,o,!0)||ze(g,r,s,o,!0)||d.push({start:n.getId(h),startOffset:m,end:n.getId(g),endOffset:y})}i({ranges:d})});return c(),Oe("selectionchange",c)}function lT({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Ga(n.customElements,"define",function(s){return function(o,i,a){try{t({define:{name:o}})}catch{}return s.apply(this,[o,i,a])}})}function dT(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Op(e,e.doc));const s=eT(e),o=tT(e),i=Pp(e),a=nT(e,{win:n}),c=sT(e),u=aT(e);let d=()=>{},l=()=>{},p=()=>{},f=()=>{};e.recordDOM&&(d=oT(e,{win:n}),l=Dp(e,e.doc),p=iT(e,{win:n}),e.collectFonts&&(f=cT(e)));const h=uT(e),m=lT(e),g=[];for(const y of e.plugins)g.push(y.observer(y.callback,n,y.options));return te(()=>{kn.forEach(y=>y.reset()),r==null||r.disconnect(),s(),o(),i(),a(),c(),u(),d(),l(),p(),f(),h(),m(),g.forEach(y=>y())})}function os(e){return typeof window[e]<"u"}function is(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class zi{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,s){const o=r||this.getIdToRemoteIdMap(t),i=s||this.getRemoteIdToIdMap(t);let a=o.get(n);return a||(a=this.generateIdFn(),o.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),s=this.getRemoteIdToIdMap(t);return n.map(o=>this.getId(t,o,r,s))}getRemoteId(t,n,r){const s=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const o=s.get(n);return o||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(s=>this.getRemoteId(t,s,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class fT{constructor(){this.crossOriginIframeMirror=new zi(qa),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class pT{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new zi(qa),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new zi(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var s,o;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=t.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(o=this.loadListener)==null||o.call(this,t);const r=Ya(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const s=this.crossOriginIframeMap.get(t.source);if(!s)return;const o=this.transformCrossOriginEvent(s,n.data.event);o&&this.wrappedEmit(o,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case Y.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const s=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,s),this.patchRootIdOnNode(n.data.node,s),{timestamp:n.timestamp,type:Y.IncrementalSnapshot,data:{source:j.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case Y.Meta:case Y.Load:case Y.DomContentLoaded:return!1;case Y.Plugin:return n;case Y.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case Y.IncrementalSnapshot:switch(n.data.source){case j.Mutation:return n.data.adds.forEach(s=>{this.replaceIds(s,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(s.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(s.node,o)}),n.data.removes.forEach(s=>{this.replaceIds(s,t,["parentId","id"])}),n.data.attributes.forEach(s=>{this.replaceIds(s,t,["id"])}),n.data.texts.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case j.Drag:case j.TouchMove:case j.MouseMove:return n.data.positions.forEach(s=>{this.replaceIds(s,t,["id"])}),n;case j.ViewportResize:return!1;case j.MediaInteraction:case j.MouseInteraction:case j.Scroll:case j.CanvasMutation:case j.Input:return this.replaceIds(n.data,t,["id"]),n;case j.StyleSheetRule:case j.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case j.Font:return n;case j.Selection:return n.data.ranges.forEach(s=>{this.replaceIds(s,t,["start","end"])}),n;case j.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(s=>{this.replaceStyleIds(s,t,["styleId"])}),n}}return!1}replace(t,n,r,s){for(const o of s)!Array.isArray(n[o])&&typeof n[o]!="number"||(Array.isArray(n[o])?n[o]=t.getIds(r,n[o]):n[o]=t.getId(r,n[o]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==ve.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class hT{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class mT{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!dr(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Op({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Pp({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),go(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Dp({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Ya(t),r=Yw(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Ga(t.prototype,"attachShadow",function(s){return function(o){const i=s.call(this,o);return this.shadowRoot&&Np(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var Yu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gT=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var as=0;as<Yu.length;as++)gT[Yu.charCodeAt(as)]=as;class Xu{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class _T{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new zw,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},s=[];for(const o of t){let i;this.styleMirror.has(o)?i=this.styleMirror.getId(o):(i=this.styleMirror.add(o),s.push({styleId:i,rules:Array.from(o.rules||CSSRule,(a,c)=>({rule:mp(a),index:c}))})),r.styleIds.push(i)}s.length>0&&(r.styles=s),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class yT{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(s=>s!==n)}add(t,n){this.active||(this.active=!0,Gw(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let ge,Ks;var Al;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Al=e.contentWindow)==null?void 0:Al.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const et=_w();function Et(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:s="rr-block",blockSelector:o=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:p=null,unmaskTextSelector:f=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:S,maskInputFn:A,maskTextFn:I,maxCanvasSize:x=null,packFn:b,sampling:k={},dataURLOptions:N={},mousemoveWait:E,recordDOM:T=!0,recordCanvas:P=!1,recordCrossOriginIframes:v=!1,recordAfter:L=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:G=!1,collectFonts:O=!1,inlineImages:z=!1,plugins:w,keepIframeSrcFn:F=()=>!1,ignoreCSSAttributes:D=new Set([]),errorHandler:V,onMutation:ne,getCanvasManager:me}=e;Zw(V);const xe=v?window.parent===window:!0;let we=!1;if(!xe)try{window.parent.document&&(we=!1)}catch{we=!0}if(xe&&!t)throw new Error("emit function is required");if(!xe&&!we)return()=>{};E!==void 0&&k.mousemove===void 0&&(k.mousemove=E),et.reset();const Mt=m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:g!==void 0?g:{},Yt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};Ww();let ht,Qe=0;const At=Z=>{for(const Ae of w||[])Ae.eventProcessor&&(Z=Ae.eventProcessor(Z));return b&&!we&&(Z=b(Z)),Z};ge=(Z,Ae)=>{var Be;const Q=Z;if(Q.timestamp=Ys(),(Be=kn[0])!=null&&Be.isFrozen()&&Q.type!==Y.FullSnapshot&&!(Q.type===Y.IncrementalSnapshot&&Q.data.source===j.Mutation)&&kn.forEach(Ge=>Ge.unfreeze()),xe)t==null||t(At(Q),Ae);else if(we){const Ge={type:"rrweb",event:At(Q),origin:window.location.origin,isCheckout:Ae};window.parent.postMessage(Ge,"*")}if(Q.type===Y.FullSnapshot)ht=Q,Qe=0;else if(Q.type===Y.IncrementalSnapshot){if(Q.data.source===j.Mutation&&Q.data.isAttachIframe)return;Qe++;const Ge=r&&Qe>=r,re=n&&ht&&Q.timestamp-ht.timestamp>n;(Ge||re)&&Me(!0)}};const Nt=Z=>{ge({type:Y.IncrementalSnapshot,data:{source:j.Mutation,...Z}})},rr=Z=>ge({type:Y.IncrementalSnapshot,data:{source:j.Scroll,...Z}}),jr=Z=>ge({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...Z}}),sr=Z=>ge({type:Y.IncrementalSnapshot,data:{source:j.AdoptedStyleSheet,...Z}}),ee=new _T({mutationCb:Nt,adoptedStyleSheetCb:sr}),le=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new fT:new pT({mirror:et,mutationCb:Nt,stylesheetManager:ee,recordCrossOriginIframes:v,wrappedEmit:ge});for(const Z of w||[])Z.getMirror&&Z.getMirror({nodeMirror:et,crossOriginIframeMirror:le.crossOriginIframeMirror,crossOriginIframeStyleMirror:le.crossOriginIframeStyleMirror});const Fe=new yT,Ce=bT(me,{mirror:et,win:window,mutationCb:Z=>ge({type:Y.IncrementalSnapshot,data:{source:j.CanvasMutation,...Z}}),recordCanvas:P,blockClass:s,blockSelector:o,unblockSelector:i,maxCanvasSize:x,sampling:k.canvas,dataURLOptions:N,errorHandler:V}),fe=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new hT:new mT({mutationCb:Nt,scrollCb:rr,bypassOptions:{onMutation:ne,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:Mt,dataURLOptions:N,maskAttributeFn:S,maskTextFn:I,maskInputFn:A,recordCanvas:P,inlineImages:z,sampling:k,slimDOMOptions:Yt,iframeManager:le,stylesheetManager:ee,canvasManager:Ce,keepIframeSrcFn:F,processedNodeManager:Fe},mirror:et}),Me=(Z=!1)=>{if(!T)return;ge({type:Y.Meta,data:{href:window.location.href,width:kp(),height:Ip()}},Z),ee.reset(),fe.init(),kn.forEach(Q=>Q.lock());const Ae=Hw(document,{mirror:et,blockClass:s,blockSelector:o,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,inlineStylesheet:h,maskAllInputs:Mt,maskAttributeFn:S,maskInputFn:A,maskTextFn:I,slimDOM:Yt,dataURLOptions:N,recordCanvas:P,inlineImages:z,onSerialize:Q=>{xp(Q,et)&&le.addIframe(Q),Mp(Q,et)&&ee.trackLinkElement(Q),Ui(Q)&&fe.addShadowRoot(Q.shadowRoot,document)},onIframeLoad:(Q,Be)=>{le.attachIframe(Q,Be),Q.contentWindow&&Ce.addWindow(Q.contentWindow),fe.observeAttachShadow(Q)},onStylesheetLoad:(Q,Be)=>{ee.attachLinkElement(Q,Be)},onBlockedImageLoad:(Q,Be,{width:Ge,height:re})=>{Nt({adds:[],removes:[],texts:[],attributes:[{id:Be.id,attributes:{style:{width:`${Ge}px`,height:`${re}px`}}}]})},keepIframeSrcFn:F});if(!Ae)return console.warn("Failed to snapshot the document");ge({type:Y.FullSnapshot,data:{node:Ae,initialOffset:Tp(window)}}),kn.forEach(Q=>Q.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ee.adoptStyleSheets(document.adoptedStyleSheets,et.getId(document))};Ks=Me;try{const Z=[],Ae=Be=>{var Ge;return te(dT)({onMutation:ne,mutationCb:Nt,mousemoveCb:(re,Lo)=>ge({type:Y.IncrementalSnapshot,data:{source:Lo,positions:re}}),mouseInteractionCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.MouseInteraction,...re}}),scrollCb:rr,viewportResizeCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.ViewportResize,...re}}),inputCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.Input,...re}}),mediaInteractionCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.MediaInteraction,...re}}),styleSheetRuleCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.StyleSheetRule,...re}}),styleDeclarationCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.StyleDeclaration,...re}}),canvasMutationCb:jr,fontCb:re=>ge({type:Y.IncrementalSnapshot,data:{source:j.Font,...re}}),selectionCb:re=>{ge({type:Y.IncrementalSnapshot,data:{source:j.Selection,...re}})},customElementCb:re=>{ge({type:Y.IncrementalSnapshot,data:{source:j.CustomElement,...re}})},blockClass:s,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:p,unmaskTextSelector:f,maskInputOptions:Mt,inlineStylesheet:h,sampling:k,recordDOM:T,recordCanvas:P,inlineImages:z,userTriggeredOnInput:G,collectFonts:O,doc:Be,maskAttributeFn:S,maskInputFn:A,maskTextFn:I,keepIframeSrcFn:F,blockSelector:o,unblockSelector:i,slimDOMOptions:Yt,dataURLOptions:N,mirror:et,iframeManager:le,stylesheetManager:ee,shadowDomManager:fe,processedNodeManager:Fe,canvasManager:Ce,ignoreCSSAttributes:D,plugins:((Ge=w==null?void 0:w.filter(re=>re.observer))==null?void 0:Ge.map(re=>({observer:re.observer,options:re.options,callback:Lo=>ge({type:Y.Plugin,data:{plugin:re.name,payload:Lo}})})))||[]},{})};le.addLoadListener(Be=>{try{Z.push(Ae(Be.contentDocument))}catch(Ge){console.warn(Ge)}});const Q=()=>{Me(),Z.push(Ae(document))};return document.readyState==="interactive"||document.readyState==="complete"?Q():(Z.push(Oe("DOMContentLoaded",()=>{ge({type:Y.DomContentLoaded,data:{}}),L==="DOMContentLoaded"&&Q()})),Z.push(Oe("load",()=>{ge({type:Y.Load,data:{}}),L==="load"&&Q()},window))),()=>{Z.forEach(Be=>Be()),Fe.destroy(),Ks=void 0,Qw()}}catch(Z){console.warn(Z)}}function ST(e){if(!Ks)throw new Error("please take full snapshot after start recording");Ks(e)}Et.mirror=et;Et.takeFullSnapshot=ST;function bT(e,t){try{return e?e(t):new Xu}catch{return console.warn("Unable to initialize CanvasManager"),new Xu}}var Ku;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ku||(Ku={}));const ET=3,vT=5;function Xa(e){return e>9999999999?e:e*1e3}function ni(e){return e>9999999999?e/1e3:e}function Ur(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:Y.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:We(t,10,1e3)}}),t.category==="console")))}const wT="button,a";function $p(e){return e.closest(wT)||e}function Fp(e){const t=Bp(e);return!t||!(t instanceof Element)?t:$p(t)}function Bp(e){return TT(e)?e.target:e}function TT(e){return typeof e=="object"&&!!e&&"target"in e}let Pt;function IT(e){return Pt||(Pt=[],kT()),Pt.push(e),()=>{const t=Pt?Pt.indexOf(e):-1;t>-1&&Pt.splice(t,1)}}function kT(){Pe(ue,"open",function(e){return function(...t){if(Pt)try{Pt.forEach(n=>n())}catch{}return e.apply(ue,t)}})}const CT=new Set([j.Mutation,j.StyleSheetRule,j.StyleDeclaration,j.AdoptedStyleSheet,j.CanvasMutation,j.Selection,j.MediaInteraction]);function RT(e,t,n){e.handleClick(t,n)}class xT{constructor(t,n,r=Ur){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=IT(()=>{this._lastMutation=Ju()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(AT(n,this._ignoreSelector)||!NT(t))return;const r={timestamp:ni(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(s=>s.node===r.node&&Math.abs(s.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ni(t)}registerScroll(t=Date.now()){this._lastScroll=ni(t)}registerClick(t){const n=$p(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Ju();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const s=this._clicks.indexOf(r);s>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(s,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,s=t.mutationAfter&&t.mutationAfter<=this._threshold,o=!r&&!s,{clickCount:i,clickBreadcrumb:a}=t;if(o){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ue.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ue.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Br(()=>this._checkClicks(),1e3)}}const MT=["A","BUTTON","INPUT"];function AT(e,t){return!!(!MT.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function NT(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Ju(){return Date.now()/1e3}function LT(e,t){try{if(!OT(t))return;const{source:n}=t.data;if(CT.has(n)&&e.registerMutation(t.timestamp),n===j.Scroll&&e.registerScroll(t.timestamp),PT(t)){const{type:r,id:s}=t.data,o=Et.mirror.getNode(s);o instanceof HTMLElement&&r===Le.Click&&e.registerClick(o)}}catch{}}function OT(e){return e.type===ET}function PT(e){return e.data.source===j.MouseInteraction}function lt(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Ka=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ka||{});const DT=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function $T(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(DT.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const FT=e=>t=>{if(!e.isEnabled())return;const n=BT(t);if(!n)return;const r=t.name==="click",s=r?t.event:void 0;r&&e.clickDetector&&(s!=null&&s.target)&&!s.altKey&&!s.metaKey&&!s.ctrlKey&&!s.shiftKey&&RT(e.clickDetector,n,Fp(t.event)),Ur(e,n)};function Hp(e,t){const n=Et.mirror.getId(e),r=n&&Et.mirror.getNode(n),s=r&&Et.mirror.getMeta(r),o=s&&UT(s)?s:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(i=>i.type===Ka.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:$T(o.attributes)}}:{}}}function BT(e){const{target:t,message:n}=HT(e);return lt({category:`ui.${e.name}`,...Hp(t,n)})}function HT(e){const t=e.name==="click";let n,r=null;try{r=t?Fp(e.event):Bp(e.event),n=Ze(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function UT(e){return e.type===Ka.Element}function WT(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=zT(t);n&&Ur(e,n)}function zT(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o,target:i}=e;if(!i||jT(i)||!o)return null;const a=t||r||s,c=o.length===1;if(!a&&c)return null;const u=Ze(i,{maxStringLength:200})||"<unknown>",d=Hp(i,u);return lt({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:s,key:o}})}function jT(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const qT={resource:KT,paint:YT,navigation:XT};function ri(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function GT(e){return e.map(VT).filter(Boolean)}function VT(e){const t=qT[e.entryType];return t?t(e):null}function qn(e){return(($e()||ue.performance.timeOrigin)+e)/1e3}function YT(e){const{duration:t,entryType:n,name:r,startTime:s}=e,o=qn(s);return{type:n,name:r,start:o,end:o+t,data:void 0}}function XT(e){const{entryType:t,name:n,decodedBodySize:r,duration:s,domComplete:o,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:p,startTime:f,transferSize:h,type:m}=e;return s===0?null:{type:`${t}.${m}`,start:qn(f),end:qn(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:s,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:o,redirectCount:p}}}function KT(e){const{entryType:t,initiatorType:n,name:r,responseEnd:s,startTime:o,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:qn(o),end:qn(s),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function JT(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return Ja(e,"largest-contentful-paint",n)}function ZT(e){return e.sources!==void 0}function QT(e){const t=[],n=[];for(const r of e.entries)if(ZT(r)){const s=[];for(const o of r.sources)if(o.node){n.push(o.node);const i=Et.mirror.getId(o.node);i&&s.push(i)}t.push({value:r.value,nodeIds:s.length?s:void 0})}return Ja(e,"cumulative-layout-shift",n,t)}function eI(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return Ja(e,"interaction-to-next-paint",n)}function Ja(e,t,n,r){const s=e.value,o=e.rating,i=qn(s);return{type:"web-vital",name:t,start:i,end:i,data:{value:s,size:s,rating:o,nodeIds:n?n.map(a=>Et.mirror.getId(a)):void 0,attributions:r}}}function tI(e){function t(s){e.performanceEntries.includes(s)||e.performanceEntries.push(s)}function n({entries:s}){s.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(s=>{r.push(ln(s,n))}),r.push(Pa(ri(JT,e)),Oa(ri(QT,e)),Uf(ri(eI,e))),()=>{r.forEach(s=>s())}}const B=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,nI='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function rI(){const e=new Blob([nI]);return URL.createObjectURL(e)}const Zu=["log","warn","error"],ws="[Replay] ";function si(e,t="info"){ct({category:"console",data:{logger:"replay"},level:t,message:`${ws}${e}`},{level:t})}function sI(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return B?(Zu.forEach(r=>{n[r]=(...s)=>{_[r](ws,...s),t&&si(s.join(""),ba(r))}}),n.exception=(r,...s)=>{s.length&&n.error&&n.error(...s),_.error(ws,r),e?Ut(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&si(r,"error")},n.infoTick=(...r)=>{_.log(ws,...r),t&&setTimeout(()=>si(r[0]),0)}):Zu.forEach(r=>{n[r]=()=>{}}),n}const H=sI();class Za extends Error{constructor(){super(`Event buffer exceeded maximum size of ${za}.`)}}class Up{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>za)throw new Za;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Xa(t):null}}class oI{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){B&&H.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((s,o)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){B&&H.error("Error in compression worker: ",c.response),o(new Error("Error in compression worker"));return}s(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class iI{constructor(t){this._worker=new oI(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Xa(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>za?Promise.reject(new Za):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{B&&H.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class aI{constructor(t){this._fallback=new Up,this._compression=new iI(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){B&&H.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,s=[];for(const o of t)s.push(this._compression.addEvent(o));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(s),this._fallback.clear()}catch(o){B&&H.exception(o,"Failed to add events when switching buffers.")}}}function cI({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=uI(t);if(n)return n}return B&&H.log("Using simple buffer"),new Up}function uI(e){try{const t=e||lI();if(!t)return;B&&H.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new aI(n)}catch(t){B&&H.exception(t,"Failed to create compression worker")}}function lI(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?rI():""}function Qa(){try{return"sessionStorage"in ue&&!!ue.sessionStorage}catch{return!1}}function dI(e){fI(),e.session=void 0}function fI(){if(Qa())try{ue.sessionStorage.removeItem(Ua)}catch{}}function Wp(e){return e===void 0?!1:Math.random()<e}function ec(e){if(Qa())try{ue.sessionStorage.setItem(Ua,JSON.stringify(e))}catch{}}function zp(e){const t=Date.now(),n=e.id||De(),r=e.started||t,s=e.lastActivity||t,o=e.segmentId||0,i=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:s,segmentId:o,sampled:i,previousSessionId:a}}function pI(e,t){return Wp(e)?"session":t?"buffer":!1}function Qu({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const s=pI(e,t),o=zp({sampled:s,previousSessionId:r});return n&&ec(o),o}function hI(){if(!Qa())return null;try{const e=ue.sessionStorage.getItem(Ua);if(!e)return null;const t=JSON.parse(e);return B&&H.infoTick("Loading existing session"),zp(t)}catch{return null}}function ji(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function jp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ji(e.started,t,r)||ji(e.lastActivity,n,r)}function qp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!jp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function oi({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const s=r.stickySession&&hI();return s?qp(s,{sessionIdleExpire:e,maxReplayDuration:t})?(B&&H.infoTick("Session in sessionStorage is expired, creating new one..."),Qu(r,{previousSessionId:s.id})):s:(B&&H.infoTick("Creating new session"),Qu(r,{previousSessionId:n}))}function mI(e){return e.type===Y.Custom}function tc(e,t,n){return Vp(e,t)?(Gp(e,t,n),!0):!1}function gI(e,t,n){return Vp(e,t)?Gp(e,t,n):Promise.resolve(null)}async function Gp(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const s=e.recordingMode==="buffer";try{n&&s&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const o=e.getOptions(),i=_I(t,o.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(o){const i=o&&o instanceof Za,a=i?"addEventSizeExceeded":"addEvent";if(i&&s)return r.clear(),r.waitForCheckout=!0,null;e.handleException(o),await e.stop({reason:a});const c=R();c&&c.recordDroppedEvent("internal_sdk_error","replay")}}function Vp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Xa(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(B&&H.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function _I(e,t){try{if(typeof t=="function"&&mI(e))return t(e)}catch(n){return B&&H.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function nc(e){return!e.type}function qi(e){return e.type==="transaction"}function yI(e){return e.type==="replay_event"}function el(e){return e.type==="feedback"}function SI(e){return(t,n)=>{if(!e.isEnabled()||!nc(t)&&!qi(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(qi(t)){bI(e,t);return}EI(e,t)}}}function bI(e,t){var r,s;const n=e.getContext();(s=(r=t.contexts)==null?void 0:r.trace)!=null&&s.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function EI(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Br(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(s){e.handleException(s)}})}function vI(e){return t=>{!e.isEnabled()||!nc(t)||wI(e,t)}}function wI(e,t){var r,s,o;const n=(o=(s=(r=t.exception)==null?void 0:r.values)==null?void 0:s[0])==null?void 0:o.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const i=lt({category:"replay.hydrate-error",data:{url:pn()}});Ur(e,i)}}function TI(e){const t=R();t&&t.on("beforeAddBreadcrumb",n=>II(e,n))}function II(e,t){if(!e.isEnabled()||!Yp(t))return;const n=kI(t);n&&Ur(e,n)}function kI(e){return!Yp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?CI(e):lt(e)}function CI(e){var s;const t=(s=e.data)==null?void 0:s.arguments;if(!Array.isArray(t)||t.length===0)return lt(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>ss?(n=!0,`${o.slice(0,ss)}…`):o;if(typeof o=="object")try{const i=We(o,7);return JSON.stringify(i).length>ss?(n=!0,`${JSON.stringify(i,null,2).slice(0,ss)}…`):i}catch{}return o});return lt({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Yp(e){return!!e.category}function RI(e,t){var n,r,s;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((s=t.originalException)!=null&&s.__rrweb__)}function Xp(){const e=q().getPropagationContext().dsc;e&&delete e.replay_id;const t=Se();if(t){const n=at(t);delete n.replay_id}}function xI(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function MI(e,t){return e.recordingMode!=="buffer"||t.message===Wa||!t.exception||t.type?!1:Wp(e.getOptions().errorSampleRate)}function AI(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:yI(t)?(delete t.breadcrumbs,t):!nc(t)&&!qi(t)&&!el(t)?t:e.checkAndHandleExpiredSession()?el(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),xI(e,t),t):RI(t,n)&&!e.getOptions()._experiments.captureExceptions?(B&&H.log("Ignoring error from rrweb internals",t),null):((MI(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(Xp(),t),{id:"Replay"})}function _o(e,t){return t.map(({type:n,start:r,end:s,name:o,data:i})=>{const a=e.throttledAddEvent({type:Y.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:o,startTimestamp:r,endTimestamp:s,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function NI(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function LI(e){return t=>{if(!e.isEnabled())return;const n=NI(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(_o(e,[n]),!1)))}}function OI(e,t){return B&&e.getOptions()._experiments.traceInternals?!1:Vd(t,R())}function Kp(e,t){e.isEnabled()&&t!==null&&(OI(e,t.name)||e.addUpdate(()=>(_o(e,[t]),!0)))}function yo(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Yf(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Jp(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function Js(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Zp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:s,method:o,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:s,data:{method:o,statusCode:i,request:a,response:c}}}function Sr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function $t(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:s,warnings:o}=PI(n);return r.body=s,o!=null&&o.length&&(r._meta={warnings:o}),r}function Gi(e,t){return Object.entries(e).reduce((n,[r,s])=>{const o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=s),n},{})}function PI(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ou,n=DI(e);if(t){const r=e.slice(0,Ou);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function DI(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Zs(e,t){const n=$I(e);return st(n,t)}function $I(e,t=ue.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ue.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function FI(e,t,n){try{const r=await HI(e,t,n),s=Zp("resource.fetch",r);Kp(n.replay,s)}catch(r){B&&H.exception(r,"Failed to capture fetch breadcrumb")}}function BI(e,t){const{input:n,response:r}=t,s=n?Ba(n):void 0,o=yo(s),i=r?Jp(r.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),i!==void 0&&(e.data.response_body_size=i)}async function HI(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Zs(i,n.networkDetailAllowUrls)&&!Zs(i,n.networkDetailDenyUrls),p=l?UI(n,t.input,u):Sr(u),f=await WI(l,n,t.response,d);return{startTimestamp:s,endTimestamp:o,url:i,method:a,statusCode:c,request:p,response:f}}function UI({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const s=n?qI(n,t):{};if(!e)return $t(s,r,void 0);const o=Ba(n),[i,a]=js(o,H),c=$t(s,r,i);return a?Js(c,a):c}async function WI(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,s){if(!e&&s!==void 0)return Sr(s);const o=r?Qp(r.headers,n):{};if(!r||!t&&s!==void 0)return $t(o,s,void 0);const[i,a]=await jI(r),c=zI(i,{networkCaptureBodies:t,responseBodySize:s,captureDetails:e,headers:o});return a?Js(c,a):c}function zI(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:s}){try{const o=e!=null&&e.length&&n===void 0?yo(e):n;return r?t?$t(s,o,e):$t(s,o,void 0):Sr(o)}catch(o){return B&&H.exception(o,"Failed to serialize response body"),$t(s,n,void 0)}}async function jI(e){const t=GI(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await VI(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(B&&H.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(B&&H.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function Qp(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function qI(e,t){return e.length===1&&typeof e[0]!="string"?tl(e[0],t):e.length===2?tl(e[1],t):{}}function tl(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?Qp(n,t):Array.isArray(n)?{}:Gi(n,t):{}}function GI(e){try{return e.clone()}catch(t){B&&H.exception(t,"Failed to clone response body")}}function VI(e){return new Promise((t,n)=>{const r=Br(()=>n(new Error("Timeout while trying to read response body")),500);YI(e).then(s=>t(s),s=>n(s)).finally(()=>clearTimeout(r))})}async function YI(e){return await e.text()}async function XI(e,t,n){try{const r=JI(e,t,n),s=Zp("resource.xhr",r);Kp(n.replay,s)}catch(r){B&&H.exception(r,"Failed to capture xhr breadcrumb")}}function KI(e,t){const{xhr:n,input:r}=t;if(!n)return;const s=yo(r),o=n.getResponseHeader("content-length")?Jp(n.getResponseHeader("content-length")):t1(n.response,n.responseType);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function JI(e,t,n){const r=Date.now(),{startTimestamp:s=r,endTimestamp:o=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:p}=e.data;if(!c)return null;if(!a||!Zs(c,n.networkDetailAllowUrls)||Zs(c,n.networkDetailDenyUrls)){const b=Sr(l),k=Sr(p);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:b,response:k}}const f=a[_t],h=f?Gi(f.request_headers,n.networkRequestHeaders):{},m=Gi(ZI(a),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?js(i,H):[void 0],[S,A]=n.networkCaptureBodies?QI(a):[void 0],I=$t(h,l,g),x=$t(m,p,S);return{startTimestamp:s,endTimestamp:o,url:c,method:u,statusCode:d,request:y?Js(I,y):I,response:A?Js(x,A):x}}function ZI(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[s,o]=r.split(": ");return o&&(n[s.toLowerCase()]=o),n},{}):{}}function QI(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return e1(e.response,e.responseType)}catch(n){t.push(n)}return B&&H.warn("Failed to get xhr response body",...t),[void 0]}function e1(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return B&&H.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return B&&H.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function t1(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return yo(n)}catch{return}}function n1(e){const t=R();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>r1(a,c,u))}catch{}}function r1(e,t,n){if(t.data)try{s1(t)&&i1(n)&&(KI(t,n),XI(t,n,e)),o1(t)&&a1(n)&&(BI(t,n),FI(t,n,e))}catch(r){B&&H.exception(r,"Error when enriching network breadcrumb")}}function s1(e){return e.category==="xhr"}function o1(e){return e.category==="fetch"}function i1(e){return e==null?void 0:e.xhr}function a1(e){return e==null?void 0:e.response}function c1(e){const t=R();Vf(FT(e)),po(LI(e)),TI(e),n1(e);const n=AI(e);xd(n),t&&(t.on("beforeSendEvent",vI(e)),t.on("afterSendEvent",SI(e)),t.on("createDsc",r=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=s)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,s)=>{var i;const o=e.getSessionId();s!=null&&s.includeReplay&&e.isEnabled()&&o&&((i=r.contexts)!=null&&i.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=o)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function u1(e){try{return Promise.all(_o(e,[l1(ue.performance.memory)]))}catch{return[]}}function l1(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,s=Date.now()/1e3;return{type:"memory",name:"memory",start:s,end:s,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function d1(e,t,n){return D_(e,t,{...n,setTimeoutImpl:Br})}const Ye=W.navigator;function f1(){return/iPhone|iPad|iPod/i.test((Ye==null?void 0:Ye.userAgent)??"")||/Macintosh/i.test((Ye==null?void 0:Ye.userAgent)??"")&&(Ye!=null&&Ye.maxTouchPoints)&&(Ye==null?void 0:Ye.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function p1(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){B&&H.warn("Received replay event after session expired.");return}const s=r||!t;t=!0,e.clickDetector&&LT(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&s&&e.setInitialState(),!tc(e,n,s))return!0;if(!s)return!1;const o=e.session;if(m1(e,s),e.recordingMode==="buffer"&&o&&e.eventBuffer){const i=e.eventBuffer.getEarliestTimestamp();i&&(B&&H.log(`Updating session start time to earliest event in buffer to ${new Date(i)}`),o.started=i,e.getOptions().stickySession&&ec(o))}return o!=null&&o.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function h1(e){const t=e.getOptions();return{type:Y.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function m1(e,t){!t||!e.session||e.session.segmentId!==0||tc(e,h1(e),!1)}function g1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function _1(e,t,n,r){return xt(yd(e,ca(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function y1({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const o=new TextEncoder().encode(r);n=new Uint8Array(o.length+e.length),n.set(o),n.set(e,o.length)}return n}async function S1({client:e,scope:t,replayId:n,event:r}){const s=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,o={event_id:n,integrations:s};e.emit("preprocessEvent",r,o);const i=await kd(e.getOptions(),r,o,t,e,Te());if(!i)return null;e.emit("postprocessEvent",i,o),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:d}=(a==null?void 0:a.sdk)||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},i}async function b1({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:s,session:o}){const i=y1({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=R(),p=q(),f=l==null?void 0:l.getTransport(),h=l==null?void 0:l.getDsn();if(!l||!f||!h||!o.sampled)return pt({});const m={type:K0,replay_start_timestamp:d/1e3,timestamp:s/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:o.sampled},g=await S1({scope:p,client:l,replayId:t,event:m});if(!g)return l.recordDroppedEvent("event_processor","replay"),B&&H.log("An event processor returned `null`, will not send event."),pt({});delete g.sdkProcessingMetadata;const y=_1(g,i,h,l.getOptions().tunnel);let S;try{S=await f.send(y)}catch(I){const x=new Error(Wa);try{x.cause=I}catch{}throw x}if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new eh(S.statusCode);const A=zd({},S);if(Wd(A,"replay"))throw new rc(A);return S}class eh extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class rc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function th(e,t={count:0,interval:nw}){const{recordingData:n,onError:r}=e;if(n.length)try{return await b1(e),!0}catch(s){if(s instanceof eh||s instanceof rc)throw s;if(pa("Replays",{_retryCount:t.count}),r&&r(s),t.count>=rw){const o=new Error(`${Wa} - max retries exceeded`);try{o.cause=s}catch{}throw o}return t.interval*=++t.count,new Promise((o,i)=>{Br(async()=>{try{await th(e,t),o(!0)}catch(a){i(a)}},t.interval)})}}const nh="__THROTTLED",E1="__SKIPPED";function v1(e,t,n){const r=new Map,s=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},o=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(s(c),o()>=t){const d=i;return i=!0,d?E1:nh}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class w1{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:J0,sessionIdleExpire:Z0},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=d1(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=v1((i,a)=>gI(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:s}=this.getOptions(),o=r?{threshold:Math.min(sw,r),timeout:r,scrollTimeout:ow,ignoreSelector:s?s.join(","):""}:void 0;if(o&&(this.clickDetector=new xT(this,o)),B){const i=t._experiments;H.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{ue.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=lt({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=lt({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{WT(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){B&&H.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,s=n<=0&&r<=0;if(this._requiresManualStart=s,!s){if(this._initializeSessionForSampling(t),!this.session){B&&H.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",B&&H.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){B&&H.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){B&&H.log("Buffering is in progress, call `flush()` to save the replay");return}B&&H.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=oi({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){B&&H.log("Buffering is in progress, call `flush()` to save the replay");return}B&&H.infoTick("Starting replay in buffer mode");const t=oi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Et({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:tw}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:p1(this),...f1(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{B&&H.log(`Stopping Replay${n?` triggered by ${n}`:""}`),Xp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,dI(this)}catch(s){this.handleException(s)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),B&&H.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),B&&H.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();B&&H.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ji(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ue.location.pathname}${ue.location.hash}${ue.location.search}`,n=`${ue.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===nh){const s=lt({category:"replay.throttled"});this.addUpdate(()=>!tc(this,{type:vT,timestamp:s.timestamp||0,data:{tag:"breadcrumb",payload:s,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||Se(),n=t&&be(t),s=(n&&$(n).data||{})[de];if(!(!n||!s||!["route","custom"].includes(s)))return $(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=cI({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=oi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return qp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ue.document.addEventListener("visibilitychange",this._handleVisibilityChange),ue.addEventListener("blur",this._handleWindowBlur),ue.addEventListener("focus",this._handleWindowFocus),ue.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(c1(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=tI(this)}_removeListeners(){try{ue.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ue.removeEventListener("blur",this._handleWindowBlur),ue.removeEventListener("focus",this._handleWindowFocus),ue.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||jp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){B&&H.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:Y.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=GT(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(_o(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){B&&H.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await u1(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const s=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const i=await this.eventBuffer.finish();await th({replayId:t,recordingData:i,segmentId:o,eventContext:s,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const s=R();if(s){const o=r instanceof rc?"ratelimit_backoff":"send_error";s.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){B&&H.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,s=Date.now()-n;this._debouncedFlush.cancel();const o=s<this._options.minReplayDuration,i=s>this._options.maxReplayDuration+5e3;if(o||i){B&&H.log(`Session duration (${Math.floor(s/1e3)}s) is too ${o?"short":"long"}, not sending replay.`),o&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&B&&H.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&ec(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const c=g1(a.target),u=n.join(",");return c==null?void 0:c.matches(u)}))return!1;const r=t.length,s=this._options.mutationLimit,o=this._options.mutationBreadcrumbLimit,i=s&&r>s;if(r>o||i){const a=lt({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function or(e,t){return[...e,...t].join(",")}function T1({mask:e,unmask:t,block:n,unblock:r,ignore:s}){const o=["base","iframe[srcdoc]:not([src])"],i=or(e,[".sentry-mask","[data-sentry-mask]"]),a=or(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:or(n,[".sentry-block","[data-sentry-block]",...o]),unblockSelector:or(r,[]),ignoreSelector:or(s,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function I1({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:s,value:o}){return!r||s.unmaskTextSelector&&e.matches(s.unmaskTextSelector)?o:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o}const nl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',k1=["content-length","content-type","accept"];let rl=!1;const C1=e=>new R1(e);class R1{constructor({flushMinDelay:t=Q0,flushMaxDelay:n=ew,minReplayDuration:r=iw,maxReplayDuration:s=Pu,stickySession:o=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:p=750,mutationLimit:f=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:m=[],networkDetailAllowUrls:g=[],networkDetailDenyUrls:y=[],networkCaptureBodies:S=!0,networkRequestHeaders:A=[],networkResponseHeaders:I=[],mask:x=[],maskAttributes:b=["title","placeholder","aria-label"],unmask:k=[],block:N=[],unblock:E=[],ignore:T=[],maskFn:P,beforeAddRecordingEvent:v,beforeErrorSampling:L,onError:G}={}){this.name="Replay";const O=T1({mask:x,unmask:k,block:N,unblock:E,ignore:T});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:P,maskInputFn:P,maskAttributeFn:(z,w,F)=>I1({maskAttributes:b,maskAllText:u,privacyOptions:O,key:z,value:w,el:F}),...O,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:z=>{try{z.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,aw),maxReplayDuration:Math.min(s,Pu),stickySession:o,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:p,mutationLimit:f,slowClickTimeout:h,slowClickIgnoreSelectors:m,networkDetailAllowUrls:g,networkDetailDenyUrls:y,networkCaptureBodies:S,networkRequestHeaders:sl(A),networkResponseHeaders:sl(I),beforeAddRecordingEvent:v,beforeErrorSampling:L,onError:G,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${nl}`:nl),this._isInitialized&&ki())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return rl}set _isInitialized(t){rl=t}afterAllSetup(t){!ki()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=x1(this._initialOptions,t);this._replay=new w1({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function x1(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},s=on(n.replaysSessionSampleRate),o=on(n.replaysOnErrorSampleRate);return s==null&&o==null&&zt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),s!=null&&(r.sessionSampleRate=s),o!=null&&(r.errorSampleRate=o),r}function sl(e){return[...k1,...e.map(t=>t.toLowerCase())]}function M1(){const e=R();return e==null?void 0:e.getIntegrationByName("Replay")}var A1=Object.defineProperty,N1=(e,t,n)=>t in e?A1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ol=(e,t,n)=>N1(e,typeof t!="symbol"?t+"":t,n);class L1{constructor(){ol(this,"idNodeMap",new Map),ol(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const s=this.nodeMetaMap.get(r);s&&this.nodeMetaMap.set(n,s)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function O1(){return new L1}function P1(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Vi(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Vi(e.parentNode,t,n,r+1)}function il(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(P1(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const En=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let al={map:{},getId(){return console.error(En),-1},getNode(){return console.error(En),null},removeNodeFromMap(){console.error(En)},has(){return console.error(En),!1},reset(){console.error(En)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(al=new Proxy(al,{get(e,t,n){return t==="map"&&console.error(En),Reflect.get(e,t,n)}}));function sc(e,t,n,r,s=window){const o=s.Object.getOwnPropertyDescriptor(e,t);return s.Object.defineProperty(e,t,r?n:{set(i){sh(()=>{n.set.call(this,i)},0),o&&o.set&&o.set.call(this,i)}}),()=>sc(e,t,o||{},!0)}function oc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],s=n(r);return typeof s=="function"&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=s,()=>{e[t]=r}}catch{return()=>{}}}Date.now().toString();function D1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function So(e,t,n,r,s){if(!e)return!1;const o=D1(e);if(!o)return!1;const i=il(t,n),a=Vi(o,i);let c=-1;return a<0?!1:(r&&(c=Vi(o,il(null,r))),a>-1&&c<0?!0:a<c)}const cl={};function rh(e){const t=cl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const s=n.createElement("iframe");s.hidden=!0,n.head.appendChild(s);const o=s.contentWindow;o&&o[e]&&(r=o[e]),n.head.removeChild(s)}catch{}return cl[e]=r.bind(window)}function Xt(...e){return rh("requestAnimationFrame")(...e)}function sh(...e){return rh("setTimeout")(...e)}var Gn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Gn||{});let Ts;function $1(e){Ts=e}const ii=e=>Ts?(...n)=>{try{return e(...n)}catch(r){if(Ts&&Ts(r)===!0)return()=>{};throw r}}:e;var Cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cs=0;cs<Cn.length;cs++)F1[Cn.charCodeAt(cs)]=cs;var B1=function(e){var t=new Uint8Array(e),n,r=t.length,s="";for(n=0;n<r;n+=3)s+=Cn[t[n]>>2],s+=Cn[(t[n]&3)<<4|t[n+1]>>4],s+=Cn[(t[n+1]&15)<<2|t[n+2]>>6],s+=Cn[t[n+2]&63];return r%3===2?s=s.substring(0,s.length-1)+"=":r%3===1&&(s=s.substring(0,s.length-2)+"=="),s};const ul=new Map;function H1(e,t){let n=ul.get(e);return n||(n=new Map,ul.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const oh=(e,t,n)=>{if(!e||!(ah(e,t)||typeof e=="object"))return;const r=e.constructor.name,s=H1(n,r);let o=s.indexOf(e);return o===-1&&(o=s.length,s.push(e)),o};function Is(e,t,n){if(e instanceof Array)return e.map(r=>Is(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,s=B1(e);return{rr_type:r,base64:s}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[Is(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:s}=e;return{rr_type:r,src:s}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",s=e.toDataURL();return{rr_type:r,src:s}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[Is(e.data,t,n),e.width,e.height]};if(ah(e,t)||typeof e=="object"){const r=e.constructor.name,s=oh(e,t,n);return{rr_type:r,index:s}}}}return e}const ih=(e,t,n)=>e.map(r=>Is(r,t,n)),ah=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(s=>typeof t[s]=="function").find(s=>e instanceof t[s]);function U1(e,t,n,r,s){const o=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=oc(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return So(this.canvas,n,r,s,!0)||sh(()=>{const l=ih(d,t,this);e(this.canvas,{type:Gn["2D"],property:a,args:l})},0),u.apply(this,d)}});o.push(c)}catch{const c=sc(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Gn["2D"],property:a,args:[u],setter:!0})}});o.push(c)}return()=>{o.forEach(a=>a())}}function W1(e){return e==="experimental-webgl"?"webgl":e}function ll(e,t,n,r,s){const o=[];try{const i=oc(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!So(this,t,n,r,!0)){const d=W1(c);if("__context"in this||(this.__context=d),s&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});o.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{o.forEach(i=>i())}}function dl(e,t,n,r,s,o,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=oc(e,d,function(p){return function(...f){const h=p.apply(this,f);if(oh(h,a,this),"tagName"in this.canvas&&!So(this.canvas,r,s,o,!0)){const m=ih(f,a,this),g={type:t,property:d,args:m};n(this.canvas,g)}return h}});c.push(l)}catch{const l=sc(e,d,{set(p){n(this.canvas,{type:t,property:d,args:[p],setter:!0})}});c.push(l)}return c}function z1(e,t,n,r,s,o){const i=[];return i.push(...dl(t.WebGLRenderingContext.prototype,Gn.WebGL,e,n,r,s,o,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...dl(t.WebGL2RenderingContext.prototype,Gn.WebGL2,e,n,r,s,o,t)),()=>{i.forEach(a=>a())}}const j1='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function q1(){const e=new Blob([j1]);return URL.createObjectURL(e)}class G1{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};const{enableManualSnapshot:n,sampling:r="all",win:s,recordCanvas:o,errorHandler:i}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,i&&$1(i),(o&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(s),!n&&ii(()=>{o&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),o&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){var t;this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(n=>{try{n()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,(t=this.worker)==null||t.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:s,unblockSelector:o,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}ii(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,s,o),i&&typeof n=="number"){const c=ll(t,r,s,o,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n!=null&&n.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}Xt(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){const t=new Worker(q1());return t.onmessage=n=>{const r=n.data,{id:s}=r;if(this.snapshotInProgressMap.set(s,!1),!("base64"in r))return;const{base64:o,type:i,width:a,height:c}=r;this.mutationCb({id:s,type:Gn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:o}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;const n=r=>{this.takeSnapshot(r,!1),t=Xt(n)};t=Xt(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,s){const o=ll(t,n,r,s,!1),i=U1(this.processMutation.bind(this),t,n,r,s),a=z1(this.processMutation.bind(this),t,n,r,s,this.mirror);this.restoreHandlers.push(()=>{o(),i(),a()})}getCanvasElements(t,n,r){const s=[],o=i=>{i.querySelectorAll("canvas").forEach(a=>{So(a,t,n,r)||s.push(a)})};for(const i of this.windows){const a=i.deref();let c;try{c=a&&a.document}catch{}c&&o(c)}for(const i of this.shadowDoms){const a=i.deref();a&&o(a)}return s}takeSnapshot(t,n,r){const{sampling:s,blockClass:o,blockSelector:i,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(s==="all"?2:s||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(o,i,a)).forEach(h=>{var g;const m=this.mirror.getId(h);if(!(!this.mirror.hasNode(h)||!h.width||!h.height||this.snapshotInProgressMap.get(m))){if(this.snapshotInProgressMap.set(m,!0),!n&&["webgl","webgl2"].includes(h.__context)){const y=h.getContext(h.__context);((g=y==null?void 0:y.getContextAttributes())==null?void 0:g.preserveDrawingBuffer)===!1&&y.clear(y.COLOR_BUFFER_BIT)}createImageBitmap(h).then(y=>{var S;(S=this.worker)==null||S.postMessage({id:m,bitmap:y,width:h.width,height:h.height,dataURLOptions:c,maxCanvasSize:u},[y])}).catch(y=>{ii(()=>{throw this.snapshotInProgressMap.delete(m),y})()})}}),!0)}startPendingCanvasMutationFlusher(){Xt(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,Xt(t)};Xt(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),Xt(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const s=r.map(i=>{const{type:a,...c}=i;return c}),{type:o}=r[0];this.mutationCb({id:n,type:o,commands:s}),this.pendingCanvasMutations.delete(t)}}var Nl;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((Nl=e.contentWindow)==null?void 0:Nl.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}O1();var fl;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(fl||(fl={}));const pl={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},V1="ReplayCanvas",us=1280,Y1=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,us):us,n?Math.min(n,us):us]};let s;const o=new Promise(i=>s=i);return{name:V1,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new G1({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return s(d),d},...pl[i]||pl.medium}},async snapshot(i,a){(await o).snapshot(i,a)}}},X1=Y1,hl=new WeakMap,ai=new Map,ic={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function ch(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:s,shouldCreateSpanForRequest:o,enableHTTPTimings:i,tracePropagationTargets:a,onRequestSpanStart:c}={...ic,...t},u=typeof o=="function"?o:f=>!0,d=f=>J1(f,a),l={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(f=>(f.type==="transaction"&&f.spans&&f.spans.forEach(h=>{if(h.op==="http.client"){const m=ai.get(h.span_id);m&&(h.timestamp=m/1e3,ai.delete(h.span_id))}}),f)),s&&fS(f=>{if(f.response){const h=hl.get(f.response);h&&f.endTimestamp&&ai.set(h,f.endTimestamp)}}),Ea(f=>{const h=Yy(f,u,d,l,{propagateTraceparent:p});if(f.response&&f.fetchData.__span&&hl.set(f.response,f.fetchData.__span),h){const m=uh(f.fetchData.url),g=m?rn(m).host:void 0;h.setAttributes({"http.url":m,"server.address":g}),i&&ml(h),c==null||c(h,{headers:f.headers})}})),r&&Fa(f=>{var m;const h=Z1(f,u,d,l,p);if(h){i&&ml(h);let g;try{g=new Headers((m=f.xhr.__sentry_xhr_v3__)==null?void 0:m.request_headers)}catch{}c==null||c(h,{headers:g})}})}function K1(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function ml(e){const{url:t}=$(e).data;if(!t||typeof t!="string")return;const n=ln("resource",({entries:r})=>{r.forEach(s=>{K1(s)&&s.name.endsWith(t)&&(e.setAttributes(Gf(s)),setTimeout(n))})})}function J1(e,t){const n=pn();if(n){let r,s;try{r=new URL(e,n),s=new URL(n).origin}catch{return!1}const o=r.origin===s;return t?st(r.toString(),t)||o&&st(r.pathname,t):o}else{const r=!!e.match(/^\/(?!\/)/);return t?st(e,t):r}}function Z1(e,t,n,r,s){const o=e.xhr,i=o==null?void 0:o[_t];if(!o||o.__sentry_own_request__||!i)return;const{url:a,method:c}=i,u=ot()&&t(a);if(e.endTimestamp&&u){const g=o.__sentry_xhr_span_id__;if(!g)return;const y=r[g];y&&i.status_code!==void 0&&(hr(y,i.status_code),y.end(),delete r[g]);return}const d=uh(a),l=rn(d||a),p=Gd(a),f=!!Se(),h=u&&f?Je({name:`${c} ${p}`,attributes:{url:a,type:"xhr","http.method":c,"http.url":d,"server.address":l==null?void 0:l.host,[J]:"auto.http.browser",[Ee]:"http.client",...(l==null?void 0:l.search)&&{"http.query":l==null?void 0:l.search},...(l==null?void 0:l.hash)&&{"http.fragment":l==null?void 0:l.hash}}}):new kt;o.__sentry_xhr_span_id__=h.spanContext().spanId,r[o.__sentry_xhr_span_id__]=h,n(a)&&Q1(o,ot()&&f?h:void 0,s);const m=R();return m&&m.emit("beforeOutgoingRequestSpan",h,e),h}function Q1(e,t,n){const{"sentry-trace":r,baggage:s,traceparent:o}=ya({span:t,propagateTraceparent:n});r&&ek(e,r,s,o)}function ek(e,t,n,r){var o;const s=(o=e.__sentry_xhr_v3__)==null?void 0:o.request_headers;if(!(s!=null&&s["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(s!=null&&s.traceparent)&&e.setRequestHeader("traceparent",r),n){const i=s==null?void 0:s.baggage;(!i||!tk(i))&&e.setRequestHeader("baggage",n)}}catch{}}function tk(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function uh(e){try{return new URL(e,M.location.origin).href}catch{return}}function nk(){M.document?M.document.addEventListener("visibilitychange",()=>{const e=Se();if(!e)return;const t=be(e);if(M.document.hidden&&t){const n="cancelled",{op:r,status:s}=$(t);K&&_.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),s||t.setStatus({code:_e,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):K&&_.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const rk=3600,lh="sentry_previous_trace",sk="sentry.previous_trace";function ok(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let s=r?ck():void 0;e.on("spanStart",i=>{if(be(i)!==i)return;const a=q().getPropagationContext();s=ik(s,i,a),r&&ak(s)});let o=!0;n&&e.on("beforeSampling",i=>{if(!s)return;const a=q(),c=a.getPropagationContext();if(o&&c.parentSpanId){o=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(s.sampleRate),sampled:String(Yi(s.spanContext))},sampleRand:s.sampleRand}),i.parentSampled=Yi(s.spanContext),i.parentSampleRate=s.sampleRate,i.spanAttributes={...i.spanAttributes,[Xl]:s.sampleRate}})}function ik(e,t,n){const r=$(t);function s(){var a,c;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((c=r.data)==null?void 0:c[no])}catch{return 0}}const o={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:s(),sampleRand:n.sampleRand};if(!e)return o;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=rk&&(K&&_.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[Im]:"previous_trace"}}),t.setAttribute(sk,`${i.traceId}-${i.spanId}-${Yi(i)?1:0}`)),o)}function ak(e){try{M.sessionStorage.setItem(lh,JSON.stringify(e))}catch(t){K&&_.warn("Could not store previous trace in sessionStorage",t)}}function ck(){var e;try{const t=(e=M.sessionStorage)==null?void 0:e.getItem(lh);return JSON.parse(t)}catch{return}}function Yi(e){return e.traceFlags===1}const uk="BrowserTracing",lk={...ps,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...ic},Qn=(e={})=>{const t={name:void 0,source:void 0},n=M.document,{enableInp:r,enableElementTiming:s,enableLongTask:o,enableLongAnimationFrame:i,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:p,childSpanTimeout:f,markBackgroundSpan:h,traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:S,enableHTTPTimings:A,ignoreResourceSpans:I,ignorePerformanceApiSpans:x,instrumentPageLoad:b,instrumentNavigation:k,detectRedirects:N,linkPreviousTrace:E,consistentTraceSampling:T,onRequestSpanStart:P}={...lk,...e};let v,L;function G(O,z,w=!0){const F=z.op==="pageload",D=z.name,V=d?d(z):z,ne=V.attributes||{};if(D!==V.name&&(ne[de]="custom",V.attributes=ne),!w){const we=hn();Je({...V,startTime:we}).end(we);return}t.name=V.name,t.source=ne[de];const me=Td(V,{idleTimeout:l,finalTimeout:p,childSpanTimeout:f,disableAutoFinish:F,beforeSpanEnd:we=>{v==null||v(),zE(we,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:I,ignorePerformanceApiSpans:x}),_l(O,void 0);const Mt=q(),Yt=Mt.getPropagationContext();Mt.setPropagationContext({...Yt,traceId:me.spanContext().traceId,sampled:Vt(me),dsc:at(we)})}});_l(O,me);function xe(){n&&["interactive","complete"].includes(n.readyState)&&O.emit("idleSpanEnableAutoFinish",me)}F&&n&&(n.addEventListener("readystatechange",()=>{xe()}),xe())}return{name:uk,setup(O){if(hd(),v=DE({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:O}),r&&pv(),s&&ev(),i&&W.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?FE():o&&$E(),a&&BE(),N&&n){const w=()=>{L=pe()};addEventListener("click",w,{capture:!0}),addEventListener("keydown",w,{capture:!0,passive:!0})}function z(){const w=br(O);w&&!$(w).timestamp&&(K&&_.log(`[Tracing] Finishing current active span with op: ${$(w).op}`),w.setAttribute(Ms,"cancelled"),w.end())}O.on("startNavigationSpan",(w,F)=>{if(R()!==O)return;if(F!=null&&F.isRedirect){K&&_.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),G(O,{op:"navigation.redirect",...w},!1);return}L=void 0,z(),Te().setPropagationContext({traceId:ft(),sampleRand:Math.random(),propagationSpanId:ot()?void 0:bt()});const D=q();D.setPropagationContext({traceId:ft(),sampleRand:Math.random(),propagationSpanId:ot()?void 0:bt()}),D.setSDKProcessingMetadata({normalizedRequest:void 0}),G(O,{op:"navigation",...w,parentSpan:null,forceTransaction:!0})}),O.on("startPageLoadSpan",(w,F={})=>{if(R()!==O)return;z();const D=F.sentryTrace||gl("sentry-trace"),V=F.baggage||gl("baggage"),ne=od(D,V),me=q();me.setPropagationContext(ne),ot()||(me.getPropagationContext().propagationSpanId=bt()),me.setSDKProcessingMetadata({normalizedRequest:Ca()}),G(O,{op:"pageload",...w})})},afterAllSetup(O){let z=pn();if(E!=="off"&&ok(O,{linkPreviousTrace:E,consistentTraceSampling:T}),M.location){if(b){const w=$e();er(O,{name:M.location.pathname,startTime:w?w/1e3:void 0,attributes:{[de]:"url",[J]:"auto.pageload.browser"}})}k&&po(({to:w,from:F})=>{if(F===void 0&&(z==null?void 0:z.indexOf(w))!==-1){z=void 0;return}z=void 0;const D=_a(w),V=br(O),ne=V&&N&&fk(V,L);tr(O,{name:(D==null?void 0:D.pathname)||M.location.pathname,attributes:{[de]:"url",[J]:"auto.navigation.browser"}},{url:w,isRedirect:ne})})}h&&nk(),a&&dk(O,l,p,f,t),r&&gv(),ch(O,{traceFetch:m,traceXHR:g,trackFetchStreamPerformance:y,tracePropagationTargets:O.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:S,enableHTTPTimings:A,onRequestSpanStart:P})}}};function er(e,t,n){e.emit("startPageLoadSpan",t,n),q().setTransactionName(t.name);const r=br(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function tr(e,t,n){const{url:r,isRedirect:s}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:s}),e.emit("startNavigationSpan",t,{isRedirect:s});const o=q();return o.setTransactionName(t.name),r&&!s&&o.setSDKProcessingMetadata({normalizedRequest:{...Ca(),url:r}}),br(e)}function gl(e){const t=M.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function dk(e,t,n,r,s){const o=M.document;let i;const a=()=>{const c="ui.action.click",u=br(e);if(u){const d=$(u).op;if(["navigation","pageload"].includes(d)){K&&_.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Ms,"interactionInterrupted"),i.end(),i=void 0),!s.name){K&&_.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}i=Td({name:s.name,op:c,attributes:{[de]:s.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};o&&addEventListener("click",a,{capture:!0})}const dh="_sentry_idleSpan";function br(e){return e[dh]}function _l(e,t){Re(e,dh,t)}const yl=1.5;function fk(e,t){const n=$(e),r=hn(),s=n.start_timestamp;return!(r-s>yl||t&&r-t<=yl)}function Vn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function pk(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Vn(n);return s=>r.then(o=>s(o.transaction(t,"readwrite").objectStore(t)))}function ac(e){return Vn(e.getAllKeys())}function hk(e,t,n){return e(r=>ac(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.max(...s,0)+1),Vn(r.transaction)}))}function mk(e,t,n){return e(r=>ac(r).then(s=>{if(!(s.length>=n))return r.put(t,Math.min(...s,0)-1),Vn(r.transaction)}))}function gk(e){return e(t=>ac(t).then(n=>{const r=n[0];if(r!=null)return Vn(t.get(r)).then(s=>(t.delete(r),Vn(t.transaction).then(()=>s)))}))}function _k(e){let t;function n(){return t==null&&(t=pk(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const s=await Ls(r);await hk(n(),s,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const s=await Ls(r);await mk(n(),s,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await gk(n());if(r)return tg(r)}catch{}}}}function yk(e){return t=>{const n=e({...t,createStore:_k});return M.addEventListener("online",async r=>{await n.flush()}),n}}function Sk(e=Ha){return yk(T_(e))}const Sl=1e6,ks=String(0),bk="main",Xe=M.navigator;let fh="",ph="",hh="",Xi=(Xe==null?void 0:Xe.userAgent)||"",mh="";var Ll;const Ek=(Xe==null?void 0:Xe.language)||((Ll=Xe==null?void 0:Xe.languages)==null?void 0:Ll[0])||"";function vk(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const bl=Xe==null?void 0:Xe.userAgentData;vk(bl)&&bl.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{var t;if(fh=e.platform||"",hh=e.architecture||"",mh=e.model||"",ph=e.platformVersion||"",(t=e.fullVersionList)!=null&&t.length){const n=e.fullVersionList[e.fullVersionList.length-1];Xi=`${n.brand} ${n.version}`}}).catch(e=>{});function wk(e){return!("thread_metadata"in e)}function Tk(e){return wk(e)?Ck(e):e}function Ik(e){var n,r;const t=(r=(n=e.contexts)==null?void 0:n.trace)==null?void 0:r.trace_id;return typeof t=="string"&&t.length!==32&&K&&_.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function kk(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const s=Ik(r),o=Tk(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:pe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:pe()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||ro,runtime:{name:"javascript",version:M.navigator.userAgent},os:{name:fh,version:ph,build_number:Xi},device:{locale:Ek,model:mh,manufacturer:Xi,architecture:hh,is_emulator:!1},debug_meta:{images:Mk(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||De(),trace_id:s,active_thread_id:ks,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function gh(e){return $(e).op==="pageload"}function Ck(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[ks]:{name:bk}}},s=e.samples[0];if(!s)return r;const o=s.timestamp,i=$e(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:i||0,c=a-(i||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-o)*Sl).toFixed(0),stack_id:t,thread_id:ks};return}let l=e.stacks[u.stackId];const p=[];for(;l;){p.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const f={elapsed_since_start_ns:((u.timestamp+c-o)*Sl).toFixed(0),stack_id:n,thread_id:ks};r.stacks[n]=p,r.samples[d]=f,n++}),r}function Rk(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function xk(e){const t=[];return an(e,(n,r)=>{var s,o;if(r==="transaction")for(let i=1;i<n.length;i++){const a=n[i];(o=(s=a==null?void 0:a.contexts)==null?void 0:s.profile)!=null&&o.profile_id&&t.push(n[i])}}),t}function Mk(e){const t=R(),n=t==null?void 0:t.getOptions(),r=n==null?void 0:n.stackParser;return r?Ng(r,e):[]}function Ak(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(K&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(K&&_.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Nk(e){return e.samples.length<2?(K&&_.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(K&&_.log("[Profiling] Discarding profile because it contains no frames"),!1)}let _h=!1;const yh=3e4;function Lk(e){return typeof e=="function"}function Ok(){const e=M.Profiler;if(!Lk(e)){K&&_.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(yh/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{K&&(_.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),_.log("[Profiling] Disabling profiling for current user session.")),_h=!0}}function El(e){if(_h)return K&&_.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return K&&_.log("[Profiling] Discarding profile because transaction was not sampled."),!1;const t=R(),n=t==null?void 0:t.getOptions();if(!n)return K&&_.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Ak(r)?r?(r===!0?!0:Math.random()<r)?!0:(K&&_.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(K&&_.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(K&&_.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function Pk(e,t,n,r){return Nk(n)?kk(e,t,n,r):null}const en=new Map;function Dk(){return en.size}function $k(e){const t=en.get(e);return t&&en.delete(e),t}function Fk(e,t){if(en.set(e,t),en.size>30){const n=en.keys().next().value;en.delete(n)}}function vl(e){let t;gh(e)&&(t=pe()*1e3);const n=Ok();if(!n)return;K&&_.log(`[Profiling] started profiling span: ${$(e).description}`);const r=De();q().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n)return n.stop().then(c=>{if(o&&(M.clearTimeout(o),o=void 0),K&&_.log(`[Profiling] stopped profiling of span: ${$(e).description}`),!c){K&&_.log(`[Profiling] profiler returned null profile for: ${$(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}Fk(r,c)}).catch(c=>{K&&_.log("[Profiling] error while stopping profiler:",c)})}let o=M.setTimeout(()=>{K&&_.log("[Profiling] max profile duration elapsed, stopping profiling for:",$(e).description),s()},yh);const i=e.end.bind(e);function a(){return e?(s().then(()=>{i()},()=>{i()}),e):i()}e.end=a}const Bk="BrowserProfiling",Hk=()=>({name:Bk,setup(e){const t=Se(),n=t&&be(t);n&&gh(n)&&El(n)&&vl(n),e.on("spanStart",r=>{r===be(r)&&El(r)&&vl(r)}),e.on("beforeEnvelope",r=>{var i,a;if(!Dk())return;const s=xk(r);if(!s.length)return;const o=[];for(const c of s){const u=c==null?void 0:c.contexts,d=(i=u==null?void 0:u.profile)==null?void 0:i.profile_id,l=(a=u==null?void 0:u.profile)==null?void 0:a.start_timestamp;if(typeof d!="string"){K&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){K&&_.log("[Profiling] cannot find profile for a span without a profile context");continue}u!=null&&u.profile&&delete u.profile;const p=$k(d);if(!p){K&&_.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}const f=Pk(d,l,p,c);f&&o.push(f)}Rk(r,o)})}}),Uk=Hk,Wk="SpotlightBrowser",zk=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:Wk,setup:()=>{K&&_.log("Using Sidecar URL",t)},processEvent:n=>Gk(n)?null:n,afterAllSetup:n=>{jk(n,t)}}};function jk(e,t){const n=$a("fetch");let r=0;e.on("beforeEnvelope",s=>{if(r>3){_.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:Ls(s),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(o=>{o.status>=200&&o.status<400&&(r=0)},o=>{r++,_.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",o)})})}const qk=zk;function Gk(e){var t;return!!(e.type==="transaction"&&e.spans&&((t=e.contexts)!=null&&t.trace)&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:n})=>n==null?void 0:n.includes("#sentry-spotlight")))}const Vk=()=>({name:"LaunchDarkly",processEvent(e,t,n){return Ar(e)}});function Yk(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{Pn(e,t.value),Dn(e,t.value)}}}const Xk=()=>({name:"OpenFeature",processEvent(e,t,n){return Ar(e)}});class Kk{after(t,n){Pn(n.flagKey,n.value),Dn(n.flagKey,n.value)}error(t,n,r){Pn(t.flagKey,t.defaultValue),Dn(t.flagKey,t.defaultValue)}}const Jk=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;Pe(t,"isEnabled",Zk)},processEvent(t,n,r){return Ar(t)}});function Zk(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(Pn(n,r),Dn(n,r)):K&&_.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const Qk=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{Pn(n.gate.name,n.gate.value),Dn(n.gate.name,n.gate.value)})},processEvent(t,n,r){return Ar(t)}});async function eC(){const e=R();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await Ed(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}const tC="WebWorker",nC=({worker:e})=>({name:tC,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>wl(t))},addWorker:t=>wl(t)});function wl(e){e.addEventListener("message",t=>{sC(t.data)&&(t.stopImmediatePropagation(),K&&_.log("Sentry debugId web worker message received",t.data),M._sentryDebugIds={...t.data._sentryDebugIds,...M._sentryDebugIds})})}function rC({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0})}function sC(e){return wt(e)&&e._sentryMessage===!0&&"_sentryDebugIds"in e&&(wt(e._sentryDebugIds)||e._sentryDebugIds===void 0)}function oC(e){const t={...e};return Xd(t,"react"),pa("react",{version:Ie.version}),y0(t)}function iC(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function aC(e,t){const n=new WeakSet;function r(s,o){if(!n.has(s)){if(s.cause)return n.add(s),r(s.cause,o);s.cause=o}}r(e,t)}function cc(e,{componentStack:t},n){if(iC(Ie.version)&&St(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,aC(e,r)}return Ue(r=>(r.setContext("react",{componentStack:t}),Ut(e,n)))}function cC(e){return(t,n)=>{const r=!!e,s=cc(t,n,{mechanism:{handled:r,type:"auto.function.react.error_handler"}});r&&e(t,n,s)}}const Sh="ui.react.render",uC="ui.react.update",bh="ui.react.mount";var Eh={exports:{}},se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=typeof Symbol=="function"&&Symbol.for,uc=ke?Symbol.for("react.element"):60103,lc=ke?Symbol.for("react.portal"):60106,bo=ke?Symbol.for("react.fragment"):60107,Eo=ke?Symbol.for("react.strict_mode"):60108,vo=ke?Symbol.for("react.profiler"):60114,wo=ke?Symbol.for("react.provider"):60109,To=ke?Symbol.for("react.context"):60110,dc=ke?Symbol.for("react.async_mode"):60111,Io=ke?Symbol.for("react.concurrent_mode"):60111,ko=ke?Symbol.for("react.forward_ref"):60112,Co=ke?Symbol.for("react.suspense"):60113,lC=ke?Symbol.for("react.suspense_list"):60120,Ro=ke?Symbol.for("react.memo"):60115,xo=ke?Symbol.for("react.lazy"):60116,dC=ke?Symbol.for("react.block"):60121,fC=ke?Symbol.for("react.fundamental"):60117,pC=ke?Symbol.for("react.responder"):60118,hC=ke?Symbol.for("react.scope"):60119;function qe(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case uc:switch(e=e.type,e){case dc:case Io:case bo:case vo:case Eo:case Co:return e;default:switch(e=e&&e.$$typeof,e){case To:case ko:case xo:case Ro:case wo:return e;default:return t}}case lc:return t}}}function vh(e){return qe(e)===Io}se.AsyncMode=dc;se.ConcurrentMode=Io;se.ContextConsumer=To;se.ContextProvider=wo;se.Element=uc;se.ForwardRef=ko;se.Fragment=bo;se.Lazy=xo;se.Memo=Ro;se.Portal=lc;se.Profiler=vo;se.StrictMode=Eo;se.Suspense=Co;se.isAsyncMode=function(e){return vh(e)||qe(e)===dc};se.isConcurrentMode=vh;se.isContextConsumer=function(e){return qe(e)===To};se.isContextProvider=function(e){return qe(e)===wo};se.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===uc};se.isForwardRef=function(e){return qe(e)===ko};se.isFragment=function(e){return qe(e)===bo};se.isLazy=function(e){return qe(e)===xo};se.isMemo=function(e){return qe(e)===Ro};se.isPortal=function(e){return qe(e)===lc};se.isProfiler=function(e){return qe(e)===vo};se.isStrictMode=function(e){return qe(e)===Eo};se.isSuspense=function(e){return qe(e)===Co};se.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===bo||e===Io||e===vo||e===Eo||e===Co||e===lC||typeof e=="object"&&e!==null&&(e.$$typeof===xo||e.$$typeof===Ro||e.$$typeof===wo||e.$$typeof===To||e.$$typeof===ko||e.$$typeof===fC||e.$$typeof===pC||e.$$typeof===hC||e.$$typeof===dC)};se.typeOf=qe;Eh.exports=se;var mC=Eh.exports,fc=mC,gC={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_C={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yC={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},wh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pc={};pc[fc.ForwardRef]=yC;pc[fc.Memo]=wh;function Tl(e){return fc.isMemo(e)?wh:pc[e.$$typeof]||gC}var SC=Object.defineProperty,bC=Object.getOwnPropertyNames,Il=Object.getOwnPropertySymbols,EC=Object.getOwnPropertyDescriptor,vC=Object.getPrototypeOf,kl=Object.prototype;function Th(e,t,n){if(typeof t!="string"){if(kl){var r=vC(t);r&&r!==kl&&Th(e,r,n)}var s=bC(t);Il&&(s=s.concat(Il(t)));for(var o=Tl(e),i=Tl(t),a=0;a<s.length;++a){var c=s[a];if(!_C[c]&&!(n&&n[c])&&!(i&&i[c])&&!(o&&o[c])){var u=EC(t,c);try{SC(e,c,u)}catch{}}}}return e}var Ih=Th;const kh=Wh(Ih),wC=zh({__proto__:null,default:kh},[Ih]),Mo=kh||wC,TC="unknown";class hc extends Ie.Component{constructor(t){super(t);const{name:n,disabled:r=!1}=this.props;r||(this._mountSpan=Je({name:`<${n}>`,onlyIfParent:!0,op:bh,attributes:{[J]:"auto.ui.react.profiler","ui.component_name":n}}))}componentDidMount(){this._mountSpan&&this._mountSpan.end()}shouldComponentUpdate({updateProps:t,includeUpdates:n=!0}){if(n&&this._mountSpan&&t!==this.props.updateProps){const r=Object.keys(t).filter(s=>t[s]!==this.props.updateProps[s]);if(r.length>0){const s=pe();this._updateSpan=cn(this._mountSpan,()=>Je({name:`<${this.props.name}>`,onlyIfParent:!0,op:uC,startTime:s,attributes:{[J]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":r}}))}}return!0}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0)}componentWillUnmount(){const t=pe(),{name:n,includeRender:r=!0}=this.props;if(this._mountSpan&&r){const s=$(this._mountSpan).timestamp;cn(this._mountSpan,()=>{const o=Je({onlyIfParent:!0,name:`<${n}>`,op:Sh,startTime:s,attributes:{[J]:"auto.ui.react.profiler","ui.component_name":n}});o&&o.end(t)})}}render(){return this.props.children}}Object.assign(hc,{defaultProps:{disabled:!1,includeRender:!0,includeUpdates:!0}});function IC(e,t){const n=(t==null?void 0:t.name)||e.displayName||e.name||TC,r=s=>Ie.createElement(hc,{...t,name:n,updateProps:s},Ie.createElement(e,{...s}));return r.displayName=`profiler(${n})`,Mo(r,e),r}function kC(e,t={disabled:!1,hasRenderSpan:!0}){const[n]=Ie.useState(()=>{if(!(t!=null&&t.disabled))return Je({name:`<${e}>`,onlyIfParent:!0,op:bh,attributes:{[J]:"auto.ui.react.profiler","ui.component_name":e}})});Ie.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){const r=$(n).timestamp,s=pe(),o=Je({name:`<${e}>`,onlyIfParent:!0,op:Sh,startTime:r,attributes:{[J]:"auto.ui.react.profiler","ui.component_name":e}});o&&o.end(s)}}),[])}const nr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,CC="unknown",ci={componentStack:null,error:null,eventId:null};class Ch extends Ie.Component{constructor(t){super(t),this.state=ci,this._openFallbackReportDialog=!0;const n=R();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&$i({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:s,onError:o,showDialog:i,dialogOptions:a}=this.props;Ue(c=>{s&&s(c,t,r);const u=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=cc(t,n,{mechanism:{handled:u,type:"auto.function.react.error_boundary"}});o&&o(t,r,d),i&&(this._lastEventId=d,this._openFallbackReportDialog&&$i({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:s}=this.props;s&&(this.state===ci?s(null,null,null):s(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:s}=this.state;t&&t(n,r,s),this.setState(ci)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const s=typeof t=="function"?Ie.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return Ie.isValidElement(s)?s:(t&&nr&&_.warn("fallback did not produce a valid ReactElement"),null)}}function RC(e,t){const n=e.displayName||e.name||CC,r=Ie.memo(s=>Ie.createElement(Ch,{...t},Ie.createElement(e,{...s})));return r.displayName=`errorBoundary(${n})`,Mo(r,e),r}const xC="redux.action",MC="info",AC={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function NC(e){const t={...AC,...e};return n=>(r,s)=>{t.attachReduxState&&kr().addEventProcessor((a,c)=>{try{a.type===void 0&&a.contexts.state.state.type==="redux"&&(c.attachments=[...c.attachments||[],{filename:"redux_state.json",data:JSON.stringify(a.contexts.state.state.value)}])}catch{}return a});function o(a){return(c,u)=>{const d=a(c,u),l=q(),p=t.actionTransformer(u);typeof p<"u"&&p!==null&&ct({category:xC,data:p,type:MC});const f=t.stateTransformer(d);if(typeof f<"u"&&f!==null){const m=R(),g=m==null?void 0:m.getOptions(),y=(g==null?void 0:g.normalizeDepth)||3,S={state:{type:"redux",value:f}};Re(S,"__sentry_override_normalization_depth__",3+y),l.setContext("state",S)}else l.setContext("state",null);const{configureScopeWithState:h}=t;return typeof h=="function"&&h(l,d),d}}const i=n(o(r),s);return i.replaceReducer=new Proxy(i.replaceReducer,{apply:function(a,c,u){a.apply(c,[o(u[0])])}}),i}}function LC(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),o&&M.location&&Cl(r,M.location,s,(c,u="url")=>{er(a,{name:c,attributes:{[Ee]:"pageload",[J]:"auto.pageload.react.reactrouter_v3",[de]:u}})}),i&&n.listen&&n.listen(c=>{(c.action==="PUSH"||c.action==="POP")&&Cl(r,c,s,(u,d="url")=>{tr(a,{name:u,attributes:{[Ee]:"navigation",[J]:"auto.navigation.react.reactrouter_v3",[de]:d}})})})}}}function Cl(e,t,n,r){let s=t.pathname;n({location:t,routes:e},(o,i,a)=>{if(o||!a)return r(s);const c=OC(a.routes||[]);return c.length===0||c==="/*"?r(s):(s=c,r(s,"route"))})}function OC(e){var r;if(!Array.isArray(e)||e.length===0)return"";const t=e.filter(s=>!!s.path);let n=-1;for(let s=t.length-1;s>=0;s--)if((r=t[s].path)!=null&&r.startsWith("/")){n=s;break}return t.slice(n).reduce((s,{path:o})=>{const i=s==="/"||s===""?o:`/${o}`;return`${s}${i}`},"")}function PC(e,t={}){const n=e,r=Qn({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:s=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(i){r.afterAllSetup(i);const a=M.location;if(s&&a){const c=n.matchRoutes(a.pathname,n.options.parseSearch(a.search),{preload:!1,throwOnError:!1}),u=c[c.length-1];er(i,{name:u?u.routeId:a.pathname,attributes:{[Ee]:"pageload",[J]:"auto.pageload.react.tanstack_router",[de]:u?"route":"url",...Rl(u)}})}o&&n.subscribe("onBeforeNavigate",c=>{var h;if(c.toLocation.state===((h=c.fromLocation)==null?void 0:h.state))return;const u=n.matchRoutes(c.toLocation.pathname,c.toLocation.search,{preload:!1,throwOnError:!1}),d=u[u.length-1],l=M.location,p=tr(i,{name:d?d.routeId:l.pathname,attributes:{[Ee]:"navigation",[J]:"auto.navigation.react.tanstack_router",[de]:d?"route":"url"}}),f=n.subscribe("onResolved",m=>{if(f(),p){const g=n.matchRoutes(m.toLocation.pathname,m.toLocation.search,{preload:!1,throwOnError:!1}),y=g[g.length-1];y&&(p.updateName(y.routeId),p.setAttribute(de,"route"),p.setAttributes(Rl(y)))}})})}}}function Rl(e){if(!e)return{};const t={};return Object.entries(e.params).forEach(([n,r])=>{t[`url.path.params.${n}`]=r,t[`url.path.parameter.${n}`]=r,t[`params.${n}`]=r}),t}function DC(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Rh(a,o,i,n,"reactrouter_v4",r,s)}}}function $C(e){const t=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:s,instrumentPageLoad:o=!0,instrumentNavigation:i=!0}=e;return{...t,afterAllSetup(a){t.afterAllSetup(a),Rh(a,o,i,n,"reactrouter_v5",r,s)}}}function Rh(e,t,n,r,s,o=[],i){function a(){if(r.location)return r.location.pathname;if(M.location)return M.location.pathname}function c(u){if(o.length===0||!i)return[u,"url"];const d=xh(o,u,i);for(const l of d)if(l.match.isExact)return[l.match.path,"route"];return[u,"url"]}if(t){const u=a();if(u){const[d,l]=c(u);er(e,{name:d,attributes:{[Ee]:"pageload",[J]:`auto.pageload.react.${s}`,[de]:l}})}}n&&r.listen&&r.listen((u,d)=>{if(d&&(d==="PUSH"||d==="POP")){const[l,p]=c(u.pathname);tr(e,{name:l,attributes:{[Ee]:"navigation",[J]:`auto.navigation.react.${s}`,[de]:p}})}})}function xh(e,t,n,r=[]){return e.some(s=>{const o=s.path?n(t,s):r.length?r[r.length-1].match:FC(t);return o&&(r.push({route:s,match:o}),s.routes&&xh(s.routes,t,n,r)),!!o}),r}function FC(e){return{path:"/",url:"/",params:{},isExact:e==="/"}}function BC(e){const t=e.displayName||e.name,n=r=>{var s;if((s=r==null?void 0:r.computedMatch)!=null&&s.isExact){const o=r.computedMatch.path,i=HC();q().setTransactionName(o),i&&(i.updateName(o),i.setAttribute(de,"route"))}return Ie.createElement(e,{...r})};return n.displayName=`sentryRoute(${t})`,Mo(n,e),n}function HC(){const e=Se(),t=e&&be(e);if(!t)return;const n=$(t).op;return n==="navigation"||n==="pageload"?t:void 0}function UC(e,t,n,r){const s=new Proxy(e,{apply(o,i,a){const c=o.apply(i,a);return WC(c,t,n,r),c}});return Re(s,"__sentry_proxied__",!0),s}function WC(e,t,n,r){fn(e)?e.then(s=>{Array.isArray(s)&&r(s,t)}).catch(s=>{nr&&_.warn(`Error resolving async handler '${n}' for route`,t,s)}):Array.isArray(e)&&r(e,t)}function Ao(e,t){if(e.handle&&typeof e.handle=="object")for(const n of Object.keys(e.handle)){const r=e.handle[n];typeof r=="function"&&!r.__sentry_proxied__&&(e.handle[n]=UC(r,e,n,t))}if(Array.isArray(e.children))for(const n of e.children)Ao(n,t)}let mc,Rn=!1;function zC(e,t=!1){mc=e,Rn=t}function jC(e){return GC(e.route.path||"")}function qC(e){return e.params["*"]||""}function GC(e){return e[e.length-1]==="*"?e.slice(0,-1):e}function Mn(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function Mh(e){return e.endsWith("*")}function xl(e,t){var n;return Mh(e)&&!!((n=t.route.children)!=null&&n.length)||!1}function VC(e){var t;return!!(!e.children&&e.element&&((t=e.path)!=null&&t.endsWith("/*")))}function YC(e,t,n){const r=e||Rn?Qs(t,n):t;return[r[r.length-1]==="/"||r.slice(-2)==="/*"?r.slice(0,-1):r,"route"]}function Ml(e){return e.split(/\\?\//).filter(t=>t.length>0&&t!==",").length}function Qs(e,t){if(!t||t==="/"||!e.toLowerCase().startsWith(t.toLowerCase()))return e;const n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?e:e.slice(n)||"/"}function Er(e){return e[0]==="/"?e:`/${e}`}function gc(e,t){const n=mc(e,t);if(!n||n.length===0)return"";for(const r of n)if(r.route.path&&r.route.path!=="*"){const s=jC(r),o=Qs(t.pathname,Er(r.pathnameBase));return t.pathname===o?Mn(o):Mn(Mn(s||"")+Er(gc(e.filter(i=>i!==r.route),{pathname:o})))}return""}function Ah(e,t){const n=mc(t,e);if(n){for(const r of n)if(VC(r.route)&&qC(r))return!0}return!1}function Nh(e,t,n,r=""){if(!e||e.length===0)return[Rn?Qs(t.pathname,r):t.pathname,"url"];let s="";if(n)for(const i of n){const a=i.route;if(a){if(a.index)return YC(s,i.pathname,r);const c=a.path;if(c&&!xl(c,i)){const u=c[0]==="/"||s[s.length-1]==="/"?c:`/${c}`;if(s=Mn(s)+Er(u),Mn(t.pathname)===Mn(r+i.pathname))return Ml(s)!==Ml(i.pathname)&&!Mh(s)?[(Rn?"":r)+u,"route"]:(xl(s,i)&&(s=s.slice(0,-1)),[(Rn?"":r)+s,"route"])}}}return[Rn?Qs(t.pathname,r):t.pathname||"","url"]}function Lh(e,t,n,r,s=""){let o,i="url";const a=Ah(e,n);return a&&(o=Er(gc(n,e)),i="route"),(!a||!o)&&([o,i]=Nh(t,e,r,s)),[o||e.pathname,i]}let Ft,Bt,Ht,Cs,ut,No=!1;const Oh=new WeakSet;function XC(e,t){const n=t.children||[],r=e.filter(s=>!n.some(o=>o===s||s.path&&o.path===s.path||s.id&&o.id===s.id));r.length>0&&(t.children=[...n,...r])}const Ne=new Set;function _c(e,t,n=null){e.forEach(s=>{Ne.add(s),No&&Ao(s,_c)}),t&&XC(e,t);const r=dn();if(r){const s=$(r).op;let o=n;if(!o&&typeof M<"u"){const i=M.location;i&&(o={pathname:i.pathname})}o&&(s==="pageload"?zr({activeRootSpan:r,location:{pathname:o.pathname},routes:Array.from(Ne),allRoutes:Array.from(Ne)}):s==="navigation"&&Ki(r,o,Array.from(Ne),!1,ut))}}function Ki(e,t,n,r=!1,s){if(!(!r&&(e==null?void 0:e.__sentry_navigation_name_set__))){const i=s(n,t),[a,c]=Lh(t,n,n,i||[],""),u=$(e);a&&!u.timestamp&&(e.updateName(a),e.setAttribute(de,c),Re(e,"__sentry_navigation_name_set__",!0))}}function Ph(e,t){return!Ft||!Bt||!Ht||!ut?(nr&&_.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createRouter\` function because of one or more missing parameters.`),e):function(n,r){if(Wr(n),No)for(const c of n)Ao(c,_c);const s=Bh(r),o=e(n,s),i=r==null?void 0:r.basename,a=dn();return o.state.historyAction==="POP"&&a&&zr({activeRootSpan:a,location:o.state.location,routes:n,basename:i,allRoutes:Array.from(Ne)}),o.subscribe(c=>{(c.historyAction==="PUSH"||c.historyAction==="POP")&&(c.navigation.state!=="idle"?requestAnimationFrame(()=>{vr({location:c.location,routes:n,navigationType:c.historyAction,version:t,basename:i,allRoutes:Array.from(Ne)})}):vr({location:c.location,routes:n,navigationType:c.historyAction,version:t,basename:i,allRoutes:Array.from(Ne)}))}),o}}function Dh(e,t){return!Ft||!Bt||!Ht||!ut?(nr&&_.warn(`reactRouterV${t}Instrumentation was unable to wrap the \`createMemoryRouter\` function because of one or more missing parameters.`),e):function(n,r){if(Wr(n),No)for(const h of n)Ao(h,_c);const s=Bh(r,!0),o=e(n,s),i=r==null?void 0:r.basename,a=dn();let c;const u=r==null?void 0:r.initialEntries,d=r==null?void 0:r.initialIndex,l=u&&u.length===1,p=d!==void 0&&u&&u[d];c=l?u[0]:p?u[d]:void 0;const f=c?typeof c=="string"?{pathname:c}:c:o.state.location;return o.state.historyAction==="POP"&&a&&zr({activeRootSpan:a,location:f,routes:n,basename:i,allRoutes:Array.from(Ne)}),o.subscribe(h=>{const m=h.location;(h.historyAction==="PUSH"||h.historyAction==="POP")&&vr({location:m,routes:n,navigationType:h.historyAction,version:t,basename:i,allRoutes:Array.from(Ne)})}),o}}function $h(e,t){const n=Qn({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:r,useLocation:s,useNavigationType:o,createRoutesFromChildren:i,matchRoutes:a,stripBasename:c,enableAsyncRouteHandlers:u=!1,instrumentPageLoad:d=!0,instrumentNavigation:l=!0}=e;return{...n,setup(p){n.setup(p),Ft=r,Bt=s,Ht=o,ut=a,Cs=i,No=u,zC(a,c||!1)},afterAllSetup(p){var h;n.afterAllSetup(p);const f=(h=M.location)==null?void 0:h.pathname;d&&f&&er(p,{name:f,attributes:{[de]:"url",[Ee]:"pageload",[J]:`auto.pageload.react.reactrouter_v${t}`}}),l&&Oh.add(p)}}}function Fh(e,t){if(!Ft||!Bt||!Ht||!ut)return nr&&_.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;const n=r=>{const s=Ie.useRef(!0),{routes:o,locationArg:i}=r,a=e(o,i),c=Bt(),u=Ht(),d=typeof i=="string"||i!=null&&i.pathname?i:c;return Ft(()=>{const l=typeof d=="string"?{pathname:d}:d;s.current?(Wr(o),zr({activeRootSpan:dn(),location:l,routes:o,allRoutes:Array.from(Ne)}),s.current=!1):vr({location:l,routes:o,navigationType:u,version:t,allRoutes:Array.from(Ne)})},[u,d]),a};return(r,s)=>Ie.createElement(n,{routes:r,locationArg:s})}function Bh(e,t=!1){if(!e||!("patchRoutesOnNavigation"in e)||typeof e.patchRoutesOnNavigation!="function")return e||{};const n=e.patchRoutesOnNavigation;return{...e,patchRoutesOnNavigation:async r=>{var a;const s=r==null?void 0:r.path;if(!t){const c=r==null?void 0:r.patch;c&&(r.patch=(u,d)=>{Wr(d);const l=dn();return l&&$(l).op==="navigation"&&Ki(l,{pathname:s,search:"",hash:"",state:null,key:"default"},Array.from(Ne),!0,ut),c(u,d)})}const o=await n(r),i=dn();if(i&&$(i).op==="navigation"){const c=t?s:s||((a=M.location)==null?void 0:a.pathname);c&&Ki(i,{pathname:c,search:"",hash:"",state:null,key:"default"},Array.from(Ne),!1,ut)}return o}}}function vr(e){const{location:t,routes:n,navigationType:r,version:s,matches:o,basename:i,allRoutes:a}=e,c=Array.isArray(o)?o:ut(n,t,i),u=R();if(!(!u||!Oh.has(u))&&(r==="PUSH"||r==="POP")&&c){const[d,l]=Lh(t,n,a||n,c,i),p=Se(),f=p&&$(p);(f==null?void 0:f.op)==="navigation"||tr(u,{name:d,attributes:{[de]:l,[Ee]:"navigation",[J]:`auto.navigation.react.reactrouter_v${s}`}})}}function Wr(e){e.forEach(t=>{Hh(t).forEach(r=>{Ne.add(r)})})}function Hh(e,t=new Set){return t.has(e)||(t.add(e),e.children&&!e.index&&e.children.forEach(n=>{Hh(n,t).forEach(s=>{t.add(s)})})),t}function zr({activeRootSpan:e,location:t,routes:n,matches:r,basename:s,allRoutes:o}){const i=Array.isArray(r)?r:ut(o||n,t,s);if(i){let a,c="url";const u=Ah(t,o||n);u&&(a=Er(gc(o||n,t)),c="route"),(!u||!a)&&([a,c]=Nh(n,t,i,s)),q().setTransactionName(a||"/"),e&&(e.updateName(a),e.setAttribute(de,c))}}function Uh(e,t){if(!Ft||!Bt||!Ht||!Cs||!ut)return nr&&_.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.
      useEffect: ${Ft}. useLocation: ${Bt}. useNavigationType: ${Ht}.
      createRoutesFromChildren: ${Cs}. matchRoutes: ${ut}.`),e;const n=r=>{const s=Ie.useRef(!0),o=Bt(),i=Ht();return Ft(()=>{const a=Cs(r.children);s.current?(Wr(a),zr({activeRootSpan:dn(),location:o,routes:a,allRoutes:Array.from(Ne)}),s.current=!1):vr({location:o,routes:a,navigationType:i,version:t,allRoutes:Array.from(Ne)})},[o,i]),Ie.createElement(e,{...r})};return Mo(n,e),n}function dn(){const e=Se(),t=e?be(e):void 0;if(!t)return;const n=$(t).op;return n==="navigation"||n==="pageload"?t:void 0}function KC(e){return $h(e,"6")}function JC(e){return Fh(e,"6")}function ZC(e){return Ph(e,"6")}function QC(e){return Dh(e,"6")}function eR(e){return Uh(e,"6")}function tR(e){return $h(e,"7")}function nR(e){return Uh(e,"7")}function rR(e){return Ph(e,"7")}function sR(e){return Dh(e,"7")}function oR(e){return Fh(e,"7")}const cR=Object.freeze(Object.defineProperty({__proto__:null,BrowserClient:Nf,ErrorBoundary:Ch,OpenFeatureIntegrationHook:Kk,Profiler:hc,SDK_VERSION:yt,SEMANTIC_ATTRIBUTE_SENTRY_OP:Ee,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:J,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:no,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:de,Scope:it,WINDOW:M,addBreadcrumb:ct,addEventProcessor:xd,addIntegration:bi,breadcrumbsIntegration:ep,browserApiErrorsIntegration:tp,browserProfilingIntegration:Uk,browserSessionIntegration:np,browserTracingIntegration:Qn,buildLaunchDarklyFlagUsedHandler:Yk,captureConsoleIntegration:ny,captureEvent:Mr,captureException:Ut,captureFeedback:uf,captureMessage:Ds,captureReactException:cc,captureSession:Si,chromeStackLineParser:Xf,close:Xg,consoleLoggingIntegration:rS,contextLinesIntegration:U0,continueTrace:yg,createConsolaReporter:oS,createReduxEnhancer:NC,createTransport:jd,createUserFeedbackEnvelope:Bv,dedupeIntegration:nf,defaultRequestInstrumentationOptions:ic,defaultStackLineParsers:Jf,defaultStackParser:Zf,diagnoseSdkConnectivity:eC,endSession:ha,eventFiltersIntegration:Jd,eventFromException:Mf,eventFromMessage:Af,exceptionFromError:uo,extraErrorDataIntegration:dy,featureFlagsIntegration:Vy,feedbackAsyncIntegration:Fb,feedbackIntegration:Tu,feedbackSyncIntegration:Tu,flush:Yg,forceLoad:S0,functionToStringIntegration:Kd,geckoStackLineParser:Kf,getActiveSpan:Se,getClient:R,getCurrentScope:q,getDefaultIntegrations:ap,getFeedback:YS,getGlobalScope:kr,getIsolationScope:Te,getReplay:M1,getRootSpan:be,getSpanDescendants:ar,getSpanStatusFromHttpCode:Kl,getTraceData:ya,globalHandlersIntegration:rp,graphqlClientIntegration:X0,httpClientIntegration:C0,httpContextIntegration:op,inboundFiltersIntegration:Zd,init:oC,instrumentOutgoingRequests:ch,instrumentSupabaseClient:cf,isEnabled:Rd,isInitialized:Kg,lastEventId:Cd,launchDarklyIntegration:Vk,lazyLoadIntegration:Rf,linkedErrorsIntegration:ip,logger:qb,makeBrowserOfflineTransport:Sk,makeFetchTransport:Ha,makeMultiplexedTransport:C_,moduleMetadataIntegration:Z_,onLoad:b0,openFeatureIntegration:Xk,opera10StackLineParser:Pv,opera11StackLineParser:Fv,parameterize:Yd,reactErrorHandler:cC,reactRouterV3BrowserTracingIntegration:LC,reactRouterV4BrowserTracingIntegration:DC,reactRouterV5BrowserTracingIntegration:$C,reactRouterV6BrowserTracingIntegration:KC,reactRouterV7BrowserTracingIntegration:tR,registerSpanErrorInstrumentation:hd,registerWebWorker:rC,replayCanvasIntegration:X1,replayIntegration:C1,reportingObserverIntegration:T0,rewriteFramesIntegration:Sy,sendFeedback:hf,setContext:pa,setCurrentClient:Bd,setExtra:jg,setExtras:zg,setHttpStatus:hr,setMeasurement:Sd,setTag:Gg,setTags:qg,setUser:Vg,showReportDialog:$i,spanToBaggageHeader:Gm,spanToJSON:$,spanToTraceHeader:ld,spotlightBrowserIntegration:qk,startBrowserTracingNavigationSpan:tr,startBrowserTracingPageLoadSpan:er,startInactiveSpan:Je,startNewTrace:vd,startSession:yi,startSpan:oo,startSpanManual:_g,statsigIntegration:Qk,supabaseIntegration:Ny,suppressTracing:Ed,tanstackRouterBrowserTracingIntegration:PC,thirdPartyErrorFilterIntegration:Wy,unleashIntegration:Jk,updateSpanName:qm,useProfiler:kC,webWorkerIntegration:nC,winjsStackLineParser:Nv,withActiveSpan:cn,withErrorBoundary:RC,withIsolationScope:vm,withProfiler:IC,withScope:Ue,withSentryReactRouterV6Routing:eR,withSentryReactRouterV7Routing:nR,withSentryRouting:BC,wrapCreateBrowserRouterV6:ZC,wrapCreateBrowserRouterV7:rR,wrapCreateMemoryRouterV6:QC,wrapCreateMemoryRouterV7:sR,wrapUseRoutesV6:JC,wrapUseRoutesV7:oR,zodErrorsIntegration:Uy},Symbol.toStringTag,{value:"Module"}));function uR(){}export{cR as Sentry,uR as setupSentry};
