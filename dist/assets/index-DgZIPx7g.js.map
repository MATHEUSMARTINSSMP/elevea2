{"version":3,"file":"index-DgZIPx7g.js","sources":["../../src/pages/obrigado/steps/IdentityUpload.tsx","../../src/pages/obrigado/steps/ContentStep.tsx","../../src/pages/obrigado/constants.ts","../../src/pages/obrigado/steps/StyleStep.tsx","../../src/pages/obrigado/steps/TemplateStep.tsx","../../src/pages/obrigado/steps/AddressStep.tsx","../../src/pages/obrigado/steps/ReviewStep.tsx","../../src/pages/obrigado/index.tsx"],"sourcesContent":["import { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Upload } from \"lucide-react\";\n\n/* ===================== Tipos ===================== */\ntype Props = {\n  email: string;\n  setEmail: (v: string) => void;\n  phone: string;\n  setPhone: (v: string) => void;\n  documentCPF: string;\n  setDocumentCPF: (v: string) => void;\n  siteSlugInput: string;\n  setSiteSlugInput: (v: string) => void;\n\n  logoLink: string;\n  setLogoLink: (v: string) => void;\n  fotosLink: string;\n  setFotosLink: (v: string) => void;\n\n  logoFile: File | null;\n  setLogoFile: (f: File | null) => void;\n  fotoFiles: FileList | null;\n  setFotoFiles: (fl: FileList | null) => void;\n\n  // Se o pai fornecer, usamos o upload externo (multipart)\n  uploading?: boolean;\n  onUploadClick?: () => void;\n\n  // Para exibir link da pasta criada\n  driveFolderUrl?: string;\n  setDriveFolderUrl?: (v: string) => void;\n};\n\n/* ===================== Helpers ===================== */\nconst APPS_URL =\n  (import.meta.env.VITE_APPS_WEBAPP_URL as string)?.trim() ||\n  (import.meta.env.VITE_SHEETS_WEBAPP_URL as string)?.trim() ||\n  \"\";\n\nfunction normSlug(v: string) {\n  return (v || \"\")\n    .normalize(\"NFD\")\n    .replace(/[\\u0300-\\u036f]/g, \"\")\n    .trim()\n    .toUpperCase()\n    .replace(/\\s+/g, \"-\")\n    .replace(/[^A-Z0-9-]/g, \"\")\n    .replace(/-+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n}\n\nasync function fileToB64Obj(file: File | null) {\n  if (!file) return null;\n  const buf = await file.arrayBuffer();\n  const b64 = btoa(String.fromCharCode(...new Uint8Array(buf)));\n  return { name: file.name, mime: file.type || \"application/octet-stream\", b64 };\n}\n\nasync function filesToB64Array(list: FileList | null) {\n  if (!list?.length) return [];\n  const out: Array<{ name: string; mime: string; b64: string }> = [];\n  for (let i = 0; i < list.length; i++) {\n    const f = list.item(i);\n    if (!f) continue;\n    const o = await fileToB64Obj(f);\n    if (o) out.push(o);\n  }\n  return out;\n}\n\n/* ===================== Componente ===================== */\nfunction IdentityUpload(p: Props) {\n  const usingExternalUpload = typeof p.onUploadClick === \"function\";\n  const busy = Boolean(p.uploading);\n\n  // Upload interno (base64) — só usado se NÃO tiver onUploadClick do pai\n  const [internalBusy, setInternalBusy] = useState(false);\n  const effectiveBusy = usingExternalUpload ? busy : internalBusy;\n\n  async function uploadInternalBase64() {\n    if (!APPS_URL) {\n      alert(\"Defina VITE_APPS_WEBAPP_URL (ou VITE_SHEETS_WEBAPP_URL) com a URL do Apps Script (…/exec).\");\n      return;\n    }\n    const email = (p.email || \"\").trim().toLowerCase();\n    const slug = normSlug(p.siteSlugInput || \"\");\n    if (!email || !slug) {\n      alert(\"Preencha e-mail e o nome do site (slug) antes de enviar.\");\n      return;\n    }\n\n    setInternalBusy(true);\n    try {\n      const logoObj  = await fileToB64Obj(p.logoFile);\n      const fotosArr = await filesToB64Array(p.fotoFiles);\n\n      const payload: any = {\n        type: \"upload_base64\",\n        email,\n        siteSlug: slug,\n        logoLink:  p.logoLink  || \"\",\n        fotosLink: p.fotosLink || \"\",\n      };\n      if (logoObj)         payload.logo  = logoObj;\n      if (fotosArr.length) payload.fotos = fotosArr;\n\n      const res = await fetch(`${APPS_URL}?type=upload_base64`, {\n        method: \"POST\",\n        body: JSON.stringify(payload),\n        cache: \"no-store\",\n      });\n\n      const j = await res.json().catch(() => ({} as any));\n      if (!res.ok || j?.ok !== true) throw new Error(j?.error || `Falha no upload (${res.status})`);\n\n      if (j.driveFolderUrl && p.setDriveFolderUrl) p.setDriveFolderUrl(String(j.driveFolderUrl));\n      alert(\"Arquivos enviados! Verifique a pasta do Drive.\");\n    } catch (e: any) {\n      console.error(e);\n      alert(e?.message || \"Erro ao enviar. Tente novamente.\");\n    } finally {\n      setInternalBusy(false);\n    }\n  }\n\n  const showEnvDevBanner = import.meta.env.DEV && !APPS_URL && !usingExternalUpload;\n\n  return (\n    <div className=\"space-y-5\">\n      {showEnvDevBanner && (\n        <div className=\"rounded-xl border border-amber-300/40 bg-amber-50 text-amber-900 px-4 py-3 text-sm\">\n          <b>Dev:</b> defina <code>VITE_APPS_WEBAPP_URL</code> ou passe um{\" \"}\n          <code>onUploadClick</code> externo. Em produção esse aviso não aparece.\n        </div>\n      )}\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        <div>\n          <label className=\"text-sm text-white/70\">E-mail</label>\n          <input\n            name=\"email\"\n            type=\"email\"\n            className=\"mt-1 w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n            placeholder=\"Seu e-mail\"\n            value={p.email}\n            onChange={(e) => p.setEmail(e.target.value)}\n            required\n          />\n        </div>\n        <div>\n          <label className=\"text-sm text-white/70\">WhatsApp</label>\n          <input\n            className=\"mt-1 w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n            placeholder=\"(DDD) 9xxxx-xxxx\"\n            value={p.phone}\n            onChange={(e) => p.setPhone(e.target.value)}\n          />\n        </div>\n\n        <div>\n          <label className=\"text-sm text-white/70\">CPF/CNPJ</label>\n          <input\n            className=\"mt-1 w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n            placeholder=\"CPF ou CNPJ\"\n            value={p.documentCPF}\n            onChange={(e) => p.setDocumentCPF(e.target.value)}\n          />\n        </div>\n\n        <div>\n          <label className=\"text-sm text-white/70\">Nome do site (slug)</label>\n          <input\n            className=\"mt-1 w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n            placeholder=\"Ex.: MINHA-LOJA\"\n            value={p.siteSlugInput}\n            onChange={(e) => p.setSiteSlugInput(e.target.value)}\n            required\n          />\n          <p className=\"mt-1 text-xs text-white/50\">\n            Ex.: se digitar <b>MINHA-LOJA</b>, o endereço poderá ficar como{\" \"}\n            <code>minha-loja.netlify.app</code>.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* LOGO */}\n        <div className=\"space-y-2\">\n          <label className=\"text-sm text-white/70\">Envie sua <b>logo</b></label>\n          <div className=\"flex items-center gap-2\">\n            <label className=\"inline-flex items-center gap-2 border border-white/10 bg-white/[0.03] text-white rounded-xl px-3 py-2 cursor-pointer hover:bg-white/[0.06]\">\n              <Upload className=\"h-4 w-4\" />\n              <span>Selecionar arquivo</span>\n              <input\n                type=\"file\"\n                accept=\".png,.jpg,.jpeg,.svg\"\n                className=\"hidden\"\n                onChange={(e) => p.setLogoFile(e.target.files?.[0] || null)}\n              />\n            </label>\n            <span className=\"text-xs text-white/50\">\n              {p.logoFile ? p.logoFile.name : \"PNG/JPG/SVG\"}\n            </span>\n          </div>\n          <input\n            className=\"w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n            placeholder=\"Ou cole o link (Drive/WeTransfer/Dropbox)\"\n            value={p.logoLink}\n            onChange={(e) => p.setLogoLink(e.target.value)}\n          />\n        </div>\n\n        {/* FOTOS */}\n        <div className=\"space-y-2\">\n          <label className=\"text-sm text-white/70\">Envie <b>fotos</b> da empresa/produtos</label>\n          <div className=\"flex items-center gap-2\">\n            <label className=\"inline-flex items-center gap-2 border border-white/10 bg-white/[0.03] text-white rounded-xl px-3 py-2 cursor-pointer hover:bg-white/[0.06]\">\n              <Upload className=\"h-4 w-4\" />\n              <span>Selecionar arquivos</span>\n              <input\n                type=\"file\"\n                multiple\n                accept=\".png,.jpg,.jpeg\"\n                className=\"hidden\"\n                onChange={(e) => p.setFotoFiles(e.target.files || null)}\n              />\n            </label>\n            <span className=\"text-xs text-white/50\">\n              {p.fotoFiles?.length ? `${p.fotoFiles.length} arquivo(s)` : \"PNG/JPG\"}\n            </span>\n          </div>\n          <input\n            className=\"w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n            placeholder=\"Ou cole link com as fotos (Drive/WeTransfer/Dropbox)\"\n            value={p.fotosLink}\n            onChange={(e) => p.setFotosLink(e.target.value)}\n          />\n        </div>\n      </div>\n\n      <div className=\"flex items-center gap-3\">\n        <Button\n          type=\"button\"\n          className=\"bg-white text-gray-900 hover:bg-white/90\"\n          onClick={usingExternalUpload ? p.onUploadClick : uploadInternalBase64}\n          disabled={effectiveBusy}\n        >\n          {effectiveBusy ? \"Enviando...\" : \"Enviar arquivos para o Drive\"}\n        </Button>\n\n        {p.driveFolderUrl && (\n          <a\n            className=\"text-sm underline text-emerald-400 hover:text-emerald-300\"\n            href={p.driveFolderUrl}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Abrir pasta criada no Drive\n          </a>\n        )}\n      </div>\n\n      <p className=\"text-xs text-white/50\">\n        Você pode enviar agora ou mandar depois pelo WhatsApp.\n      </p>\n    </div>\n  );\n}\n\nexport default IdentityUpload;\nexport { IdentityUpload };\n","// /src/pages/obrigado/steps/ContentStep.tsx\ntype Props = {\n  historia: string; setHistoria: (v: string) => void;\n  produtos: string; setProdutos: (v: string) => void;\n  fundacao: string; setFundacao: (v: string) => void;\n};\n\nexport default function ContentStep({\n  historia, setHistoria,\n  produtos, setProdutos,\n  fundacao, setFundacao,\n}: Props) {\n  return (\n    <div className=\"grid grid-cols-1 gap-4\">\n      <textarea\n        className=\"w-full border rounded-xl px-4 py-3 min-h-[120px] border-white/10 bg-white/[0.03] text-white placeholder:text-white/40\"\n        placeholder=\"Conte a história da empresa (quem são, desde quando, missão)\"\n        value={historia}\n        onChange={(e)=>setHistoria(e.target.value)}\n      />\n      <textarea\n        className=\"w-full border rounded-xl px-4 py-3 min-h-[120px] border-white/10 bg-white/[0.03] text-white placeholder:text-white/40\"\n        placeholder=\"Principais produtos/serviços (separe por vírgula ou linhas)\"\n        value={produtos}\n        onChange={(e)=>setProdutos(e.target.value)}\n      />\n      <input\n        className=\"w-full border rounded-xl px-4 py-3 md:max-w-xs border-white/10 bg-white/[0.03] text-white placeholder:text-white/40\"\n        placeholder=\"Ano de fundação (opcional)\"\n        value={fundacao}\n        onChange={(e)=>setFundacao(e.target.value)}\n      />\n    </div>\n  );\n}\n","// /src/pages/Obrigado/constants.ts\nexport const PALETAS = [\n  { id: \"dourado\", nome: \"Dourado elegante\", cores: [\"#b98a2f\", \"#111111\", \"#f6f3ee\"] },\n  { id: \"azul\", nome: \"Azul confiança\", cores: [\"#1e3a8a\", \"#0f172a\", \"#f1f5f9\"] },\n  { id: \"verde\", nome: \"Verde natural\", cores: [\"#166534\", \"#0b1f16\", \"#edf7ef\"] },\n  { id: \"vermelho\", nome: \"Vermelho vibrante\", cores: [\"#b91c1c\", \"#111111\", \"#faf2f2\"] },\n  { id: \"preto-branco\", nome: \"Preto & Branco\", cores: [\"#111111\", \"#ffffff\", \"#e5e7eb\"] },\n] as const;\n\nexport const TEMPLATES = [\n  { id: \"classico\", nome: \"Clássico\", descricao: \"Hero simples, sobre, serviços em cards, depoimentos e contato.\" },\n  { id: \"vitrine\", nome: \"Vitrine\",  descricao: \"Grade de fotos/produtos, destaque para WhatsApp e mapa.\" },\n  { id: \"minimal\", nome: \"Minimal\",  descricao: \"Seções amplas, tipografia forte e foco em CTA.\" },\n] as const;\n","// /src/pages/obrigado/steps/StyleStep.tsx\nimport { useMemo, useState } from \"react\";\nimport { PALETAS } from \"../constants\";\n\ntype Props = {\n  paleta: string;\n  setPaleta: (v: string) => void;\n};\n\n/**\n * Suporta presets de PALETAS + opção \"Outras\",\n * que salva como `custom:#111111,#ffffff,#...`\n */\nexport default function StyleStep({ paleta, setPaleta }: Props) {\n  const isCustom = paleta.startsWith(\"custom:\");\n  const initialCustom = useMemo(\n    () => (isCustom ? paleta.replace(/^custom:/, \"\") : \"\"),\n    [paleta, isCustom]\n  );\n\n  const [customList, setCustomList] = useState(initialCustom);\n\n  function saveCustom(v: string) {\n    setCustomList(v);\n    const cleaned = v\n      .split(/[,\\s]+/)\n      .map(x => x.trim())\n      .filter(Boolean)\n      .join(\",\");\n    setPaleta(`custom:${cleaned}`);\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n        {PALETAS.map((p) => {\n          const selected = paleta === p.id;\n          return (\n            <label\n              key={p.id}\n              className={`cursor-pointer rounded-xl border bg-white/[0.02] p-3 flex items-center gap-3 transition\n              ${selected ? \"ring-2 ring-emerald-400 border-emerald-400/40\" : \"border-white/10 hover:bg-white/[0.04]\"}`}\n            >\n              <input\n                type=\"radio\"\n                className=\"hidden\"\n                checked={selected}\n                onChange={() => setPaleta(p.id)}\n              />\n              <div className=\"flex -space-x-1\">\n                {p.cores.map((c: string, i: number) => (\n                  <span\n                    key={i}\n                    className=\"h-6 w-6 rounded-full border border-white/20\"\n                    style={{ background: c }}\n                    title={c}\n                  />\n                ))}\n              </div>\n              <div className=\"text-sm text-white\">{p.nome}</div>\n            </label>\n          );\n        })}\n\n        {/* Cartão \"Outras\" */}\n        <label\n          className={`cursor-pointer rounded-xl border bg-white/[0.02] p-3 flex flex-col gap-2 transition\n          ${isCustom ? \"ring-2 ring-emerald-400 border-emerald-400/40\" : \"border-white/10 hover:bg-white/[0.04]\"}`}\n        >\n          <div className=\"flex items-center gap-3\">\n            <input\n              type=\"radio\"\n              className=\"hidden\"\n              checked={isCustom}\n              onChange={() => setPaleta(`custom:${customList || \"#111,#fff\"}`)}\n            />\n            <div className=\"text-sm text-white font-medium\">Outras (digite cores)</div>\n          </div>\n          <input\n            className=\"w-full rounded-lg border border-white/10 bg-white/[0.03] px-3 py-2 text-white placeholder:text-white/40\"\n            placeholder=\"#98a2af, #111111, #6f63e3\"\n            value={customList}\n            onChange={(e) => saveCustom(e.target.value)}\n            onFocus={() => !isCustom && setPaleta(`custom:${customList || \"#98a2af,#111111\"}`)}\n          />\n          <p className=\"text-xs text-white/50\">\n            Separe por vírgula. Usaremos as 3–6 primeiras cores.\n          </p>\n        </label>\n      </div>\n    </div>\n  );\n}\n","// /src/pages/obrigado/steps/TemplateStep.tsx\nimport { TEMPLATES } from \"../constants\";\n\ntype Props = {\n  template: string;\n  setTemplate: (v: string) => void;\n};\n\nexport default function TemplateStep({ template, setTemplate }: Props) {\n  return (\n    <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\n      {TEMPLATES.map((t) => {\n        const selected = template === t.id;\n        return (\n          <label\n            key={t.id}\n            className={`cursor-pointer rounded-xl border bg-white/[0.02] p-4 flex flex-col gap-2 transition\n            ${selected ? \"ring-2 ring-emerald-400 border-emerald-400/40\" : \"border-white/10 hover:bg-white/[0.04]\"}`}\n          >\n            <input\n              type=\"radio\"\n              className=\"hidden\"\n              checked={selected}\n              onChange={() => setTemplate(t.id)}\n            />\n            <div className=\"font-medium text-white\">{t.nome}</div>\n            <div className=\"text-sm text-white/60\">{t.descricao}</div>\n          </label>\n        );\n      })}\n    </div>\n  );\n}\n","// /src/pages/obrigado/steps/AddressStep.tsx\nexport function AddressStep({\n  endereco,\n  setEndereco,\n}: {\n  endereco: { logradouro: string; bairro: string; cidade: string; uf: string };\n  setEndereco: (v: any) => void;\n}) {\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n      <input\n        className=\"w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n        placeholder=\"Endereço (rua, número)\"\n        value={endereco.logradouro}\n        onChange={(e) => setEndereco({ ...endereco, logradouro: e.target.value })}\n      />\n      <input\n        className=\"w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n        placeholder=\"Bairro\"\n        value={endereco.bairro}\n        onChange={(e) => setEndereco({ ...endereco, bairro: e.target.value })}\n      />\n      <input\n        className=\"w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n        placeholder=\"Cidade\"\n        value={endereco.cidade}\n        onChange={(e) => setEndereco({ ...endereco, cidade: e.target.value })}\n      />\n      <input\n        maxLength={2}\n        className=\"w-full rounded-xl border border-white/10 bg-white/[0.03] px-4 py-3 text-white placeholder:text-white/40\"\n        placeholder=\"UF\"\n        value={endereco.uf}\n        onChange={(e) => setEndereco({ ...endereco, uf: e.target.value.toUpperCase() })}\n      />\n    </div>\n  );\n}\n","// /src/pages/obrigado/steps/ReviewStep.tsx\nimport React from \"react\";\n\ntype Endereco = {\n  logradouro?: string;\n  bairro?: string;\n  cidade?: string;\n  uf?: string;\n};\n\ntype ReviewData = {\n  plano: \"vip\" | \"essential\";\n  siteSlugInput: string;\n  email: string;\n  phone: string;\n  documentCPF: string;\n  driveFolderUrl?: string;\n  historia?: string;\n  produtos?: string;   // lista simples (texto)\n  fundacao?: string;\n  paleta: string;\n  template: string;\n  endereco?: Endereco;\n};\n\nexport function ReviewStep({ data }: { data: ReviewData }) {\n  const {\n    plano,\n    siteSlugInput,\n    email,\n    phone,\n    documentCPF,\n    driveFolderUrl,\n    historia,\n    produtos,\n    fundacao,\n    paleta,\n    template,\n    endereco,\n  } = data;\n\n  const addr =\n    endereco &&\n    [endereco.logradouro, endereco.bairro, endereco.cidade && `${endereco.cidade} - ${endereco.uf}`]\n      .filter(Boolean)\n      .join(\" · \");\n\n  const Row = ({\n    label,\n    value,\n  }: {\n    label: string;\n    value?: React.ReactNode;\n  }) => (\n    <div className=\"grid grid-cols-3 gap-4 py-2 border-b border-white/10 last:border-0\">\n      <div className=\"text-white/60 text-sm\">{label}</div>\n      <div className=\"col-span-2 text-white text-sm break-words\">{value || <span className=\"text-white/40\">—</span>}</div>\n    </div>\n  );\n\n  return (\n    <div className=\"rounded-xl border border-white/10 bg-white/[0.02] p-4\">\n      <Row label=\"Plano\" value={plano} />\n      <Row label=\"Slug\" value={siteSlugInput} />\n      <Row label=\"E-mail\" value={email} />\n      <Row label=\"WhatsApp\" value={phone} />\n      <Row label=\"CPF/CNPJ\" value={documentCPF} />\n      <Row\n        label=\"Pasta do Drive\"\n        value={\n          driveFolderUrl ? (\n            <a className=\"underline text-emerald-400 hover:text-emerald-300\" href={driveFolderUrl} target=\"_blank\" rel=\"noreferrer\">\n              Abrir pasta\n            </a>\n          ) : (\n            undefined\n          )\n        }\n      />\n      <Row label=\"História\" value={historia} />\n      <Row label=\"Produtos/Serviços\" value={produtos} />\n      <Row label=\"Fundação\" value={fundacao} />\n      <Row label=\"Paleta\" value={paleta} />\n      <Row label=\"Template\" value={template} />\n      <Row label=\"Endereço\" value={addr} />\n    </div>\n  );\n}\n\n// ✅ exports para evitar erros de build\nexport default ReviewStep;\n","// /src/pages/obrigado/index.tsx\nimport { useEffect, useMemo, useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { IdentityUpload, ContentStep, StyleStep, TemplateStep } from \"./steps\";\nimport { AddressStep } from \"./steps/AddressStep\";\nimport { ReviewStep } from \"./steps/ReviewStep\";\n\n// ====== ENVs ======\nconst APPS_URL =\n  (import.meta.env.VITE_APPS_WEBAPP_URL as string)?.trim() ||\n  (import.meta.env.VITE_SHEETS_WEBAPP_URL as string)?.trim() ||\n  \"\";\n\nconst WHATSAPP_URL =\n  (import.meta.env.VITE_WHATSAPP_URL as string)?.trim() ||\n  \"https://wa.me/5500000000000?text=Ol%C3%A1%20Elevea!%20Acabei%20de%20assinar%20e%20quero%20finalizar%20meu%20site.\";\n\n// util: querystring\nfunction q(param: string, def = \"\") {\n  const sp = new URLSearchParams(window.location.search);\n  return sp.get(param) || def;\n}\n\n// ====== Helpers upload base64 (evitam preflight/CORS) ======\nasync function fileToB64Obj(file: File | null) {\n  if (!file) return null;\n  const buf = await file.arrayBuffer();\n  const b64 = btoa(String.fromCharCode(...new Uint8Array(buf)));\n  return { name: file.name, mime: file.type || \"application/octet-stream\", b64 };\n}\nasync function filesToB64Array(list: FileList | null) {\n  if (!list?.length) return [];\n  const out: Array<{ name: string; mime: string; b64: string }> = [];\n  for (let i = 0; i < list.length; i++) {\n    const f = list.item(i);\n    if (!f) continue;\n    const o = await fileToB64Obj(f);\n    if (o) out.push(o);\n  }\n  return out;\n}\n\n// POST simples, sem headers → evita preflight/CORS no GAS\nasync function postSimple<T = any>(url: string, body: any) {\n  const r = await fetch(url, {\n    method: \"POST\",\n    body: JSON.stringify(body),\n    cache: \"no-store\",\n  });\n  // se der erro de CORS, o fetch lança; se o GAS responder, tentamos ler JSON\n  const j = await r.json().catch(() => ({} as any));\n  if (!r.ok || j?.ok === false) throw new Error(j?.error || `HTTP ${r.status}`);\n  return j as T;\n}\n\nexport default function ObrigadoPage() {\n  // Plano detectado pela URL (sem seletor na UI)\n  const planFromURL = useMemo(() => q(\"plano\", \"\").toLowerCase(), []);\n  const plano: \"vip\" | \"essential\" = planFromURL.includes(\"vip\") ? \"vip\" : \"essential\";\n\n  const showEnvBanner = import.meta.env.DEV && !APPS_URL;\n\n  // ---------- Identidade ----------\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [documentCPF, setDocumentCPF] = useState(\"\");\n  const [siteSlugInput, setSiteSlugInput] = useState(\"\");\n  const [logoLink, setLogoLink] = useState(\"\");\n  const [fotosLink, setFotosLink] = useState(\"\");\n  const [logoFile, setLogoFile] = useState<File | null>(null);\n  const [fotoFiles, setFotoFiles] = useState<FileList | null>(null);\n  const [driveFolderUrl, setDriveFolderUrl] = useState<string>(\"\");\n  const [uploading, setUploading] = useState(false);\n\n  // ---------- Conteúdo ----------\n  const [historia, setHistoria] = useState(\"\");\n  const [produtos, setProdutos] = useState(\"\");\n  const [fundacao, setFundacao] = useState(\"\");\n\n  // ---------- Visual ----------\n  const [paleta, setPaleta] = useState(\"dourado\");\n  const [template, setTemplate] = useState(\"classico\");\n\n  // ---------- Endereço ----------\n  const [endereco, setEndereco] = useState({\n    logradouro: \"\",\n    bairro: \"\",\n    cidade: \"\",\n    uf: \"\",\n  });\n\n  // Passos\n  const [step, setStep] = useState<1 | 2 | 3>(1);\n  const [submitting, setSubmitting] = useState(false);\n\n  // Foco inicial\n  useEffect(() => {\n    const el = document.querySelector<HTMLInputElement>('input[name=\"email\"]');\n    el?.focus();\n  }, []);\n\n  // ========== Upload via JSON/base64 ==========\n  const onUploadClick = async () => {\n    if (!APPS_URL) {\n      alert(\"Ambiente sem APPS_URL configurada.\");\n      return;\n    }\n    if (!siteSlugInput || !email) {\n      alert(\"Preencha e-mail e o nome do site (slug).\");\n      return;\n    }\n\n    try {\n      setUploading(true);\n\n      const logoObj = await fileToB64Obj(logoFile);\n      const fotosArr = await filesToB64Array(fotoFiles);\n\n      const payload: any = {\n        type: \"upload_base64\",\n        siteSlug: siteSlugInput.trim(),\n        email: (email || \"\").trim().toLowerCase(),\n        phone,\n        document: documentCPF,\n        logoLink,\n        fotosLink,\n      };\n      if (logoObj) payload.logo = logoObj;\n      if (fotosArr.length) payload.fotos = fotosArr;\n\n      // Usar função do Netlify\n      const r = await fetch(\"/.netlify/functions/upload-drive\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(payload),\n        cache: \"no-store\",\n      });\n      const j = await r.json().catch(() => ({} as any));\n      if (!r.ok || j?.ok !== true) throw new Error(j?.error || `Falha no upload (${r.status})`);\n\n      if (j.driveFolderUrl) setDriveFolderUrl(String(j.driveFolderUrl));\n      alert(\"Arquivos enviados! Sua pasta no Drive foi atualizada.\");\n    } catch (e: any) {\n      console.error(e);\n      alert(e?.message || \"Falha ao enviar. Tente novamente.\");\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  // ========== Submit final (salva + gera prompt) ==========\n  const onSubmitAll = async () => {\n    if (!APPS_URL) {\n      alert(\"Ambiente sem APPS_URL configurada.\");\n      return;\n    }\n    if (!siteSlugInput || !email) {\n      alert(\"Preencha e-mail e o nome do site (slug).\");\n      return;\n    }\n\n    try {\n      setSubmitting(true);\n\n      // 1) Salvar onboarding via Netlify\n      await postSimple(\"/.netlify/functions/submit-onboarding\", {\n        type: \"onboarding\",\n        siteSlug: siteSlugInput,\n        plan: plano,\n        email,\n        phone: phone,\n        document: documentCPF,\n        driveFolderUrl: driveFolderUrl,\n        logoUrl: \"\",\n        fotosUrls: [],\n        historia,\n        produtos,\n        fundacao,\n        paleta,\n        template,\n        endereco,\n      });\n\n      // 2) Gerar prompt do Lovable via Netlify\n      await postSimple(\"/.netlify/functions/generate-prompt\", {\n        siteSlug: siteSlugInput,\n      });\n\n      alert(\"Informações enviadas! Obrigado — nossa equipe já está preparando seu site.\");\n      // window.location.href = \"/\";\n    } catch (e: any) {\n      console.error(e);\n      alert(e?.message || \"Falha ao enviar. Tente novamente.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-b from-[#0b1220] to-[#0c151c]\">\n      {/* Header */}\n      <div className=\"border-b border-white/5 bg-[#0b1220]/60 backdrop-blur\">\n        <div className=\"max-w-5xl mx-auto px-4 py-10\">\n          <div className=\"rounded-2xl border border-white/10 bg-white/[0.02] p-6 md:p-8\">\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n              <div className=\"flex items-start gap-4\">\n                <div className=\"h-12 w-12 rounded-xl bg-emerald-500/10 border border-emerald-400/30 grid place-items-center\">\n                  <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" aria-hidden=\"true\">\n                    <path\n                      d=\"M20 7L9 18l-5-5\"\n                      fill=\"none\"\n                      stroke=\"rgb(52 211 153)\"\n                      strokeWidth=\"2.5\"\n                      strokeLinecap=\"round\"\n                      strokeLinejoin=\"round\"\n                    />\n                  </svg>\n                </div>\n                <div>\n                  <h1 className=\"text-2xl md:text-3xl font-semibold text-white\">\n                    Pagamento aprovado\n                  </h1>\n                  <p className=\"text-sm text-white/70 mt-1\">\n                    Obrigado! Recebemos sua assinatura {plano === \"vip\" ? \"do plano VIP\" : \"do plano Essencial\"}.{\" \"}\n                    Siga os passos para concluir seu cadastro — leva menos de 3 minutos.\n                  </p>\n                </div>\n              </div>\n\n              <div className=\"flex gap-3\">\n                <a\n                  href={WHATSAPP_URL}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                  className=\"inline-flex items-center justify-center rounded-xl bg-emerald-600 px-4 py-2 text-white hover:bg-emerald-500\"\n                >\n                  Falar no WhatsApp agora\n                </a>\n                <a\n                  href=\"/\"\n                  className=\"inline-flex items-center justify-center rounded-xl border border-white/15 px-4 py-2 text-white/80 hover:bg-white/5\"\n                >\n                  Voltar para o site\n                </a>\n              </div>\n            </div>\n          </div>\n\n          {showEnvBanner && (\n            <div className=\"mt-4 rounded-xl border border-amber-300/40 bg-amber-50 text-amber-900 px-4 py-3 text-sm\">\n              <b>Dev:</b> defina <code>VITE_APPS_WEBAPP_URL</code> (ou <code>VITE_SHEETS_WEBAPP_URL</code>). Em produção esse aviso não aparece.\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Conteúdo */}\n      <div className=\"max-w-5xl mx-auto px-4 py-10 space-y-8\">\n        {/* PASSO 1 — Identidade & Upload */}\n        <section className=\"rounded-2xl border border-white/10 bg-white/[0.02] p-5 md:p-7\">\n          <div className=\"flex items-center justify-between gap-3\">\n            <div>\n              <h2 className=\"text-lg md:text-xl font-medium text-white\">1) Identidade</h2>\n              <p className=\"text-sm text-white/60 mt-1\">\n                Quem é você e como quer que apareça o seu site? Envie logo/fotos se quiser.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"mt-6\">\n            <IdentityUpload\n              email={email} setEmail={setEmail}\n              phone={phone} setPhone={setPhone}\n              documentCPF={documentCPF} setDocumentCPF={setDocumentCPF}\n              siteSlugInput={siteSlugInput} setSiteSlugInput={setSiteSlugInput}\n              logoLink={logoLink} setLogoLink={setLogoLink}\n              fotosLink={fotosLink} setFotosLink={setFotosLink}\n              logoFile={logoFile} setLogoFile={setLogoFile}\n              fotoFiles={fotoFiles} setFotoFiles={setFotoFiles}\n              driveFolderUrl={driveFolderUrl} setDriveFolderUrl={setDriveFolderUrl}\n              uploading={uploading}\n              onUploadClick={onUploadClick}\n            />\n          </div>\n\n          <div className=\"mt-6 flex items-center justify-end\">\n            <Button\n              className=\"bg-white text-gray-900 hover:bg-white/90\"\n              onClick={() => setStep(2)}\n              disabled={uploading}\n            >\n              Continuar\n            </Button>\n          </div>\n        </section>\n\n        {/* PASSO 2 — Conteúdo & Visual & Endereço */}\n        {step >= 2 && (\n          <section className=\"rounded-2xl border border-white/10 bg-white/[0.02] p-5 md:p-7 space-y-8\">\n            <div>\n              <h2 className=\"text-lg md:text-xl font-medium text-white\">2) Conteúdo</h2>\n              <p className=\"text-sm text-white/60 mt-1\">Conte sua história e o que você vende.</p>\n              <div className=\"mt-4\">\n                <ContentStep\n                  historia={historia} setHistoria={setHistoria}\n                  produtos={produtos} setProdutos={setProdutos}\n                  fundacao={fundacao} setFundacao={setFundacao}\n                />\n              </div>\n            </div>\n\n            <div>\n              <h2 className=\"text-lg md:text-xl font-medium text-white\">Visual — Paleta</h2>\n              <p className=\"text-sm text-white/60 mt-1\">Escolha um estilo de cores.</p>\n              <div className=\"mt-4\">\n                <StyleStep paleta={paleta} setPaleta={setPaleta} />\n              </div>\n            </div>\n\n            <div>\n              <h2 className=\"text-lg md:text-xl font-medium text-white\">Visual — Template</h2>\n              <p className=\"text-sm text-white/60 mt-1\">Escolha a base do layout.</p>\n              <div className=\"mt-4\">\n                <TemplateStep template={template} setTemplate={setTemplate} />\n              </div>\n            </div>\n\n            <div>\n              <h2 className=\"text-lg md:text-xl font-medium text-white\">Endereço (opcional)</h2>\n              <p className=\"text-sm text-white/60 mt-1\">Se quiser, informe para podermos colocar no mapa/rodapé.</p>\n              <div className=\"mt-4\">\n                <AddressStep endereco={endereco} setEndereco={setEndereco} />\n              </div>\n            </div>\n\n            <div className=\"flex items-center justify-between\">\n              <Button variant=\"ghost\" className=\"text-white/80 hover:bg-white/10\" onClick={() => setStep(1)}>\n                Voltar\n              </Button>\n              <Button className=\"bg-white text-gray-900 hover:bg-white/90\" onClick={() => setStep(3)}>\n                Revisar e enviar\n              </Button>\n            </div>\n          </section>\n        )}\n\n        {/* PASSO 3 — Revisão & Envio */}\n        {step >= 3 && (\n          <section className=\"rounded-2xl border border-white/10 bg-white/[0.02] p-5 md:p-7\">\n            <h2 className=\"text-lg md:text-xl font-medium text-white\">3) Revisão</h2>\n            <p className=\"text-sm text-white/60 mt-1\">\n              Confira os dados. Ao enviar, suas respostas são salvas e o prompt é gerado (internamente).\n            </p>\n\n            <div className=\"mt-6\">\n              <ReviewStep\n                data={{\n                  plano,\n                  siteSlugInput,\n                  email,\n                  phone,\n                  documentCPF,\n                  driveFolderUrl,\n                  historia,\n                  produtos,\n                  fundacao,\n                  paleta,\n                  template,\n                  endereco,\n                }}\n              />\n            </div>\n\n            <div className=\"mt-6 flex items-center justify-between\">\n              <Button variant=\"ghost\" className=\"text-white/80 hover:bg-white/10\" onClick={() => setStep(2)}>\n                Voltar\n              </Button>\n              <Button\n                onClick={onSubmitAll}\n                disabled={submitting}\n                className=\"bg-emerald-600 hover:bg-emerald-500 text-white\"\n              >\n                {submitting ? \"Enviando...\" : \"Enviar dados\"}\n              </Button>\n            </div>\n          </section>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":["IdentityUpload","p","usingExternalUpload","busy","internalBusy","setInternalBusy","useState","effectiveBusy","uploadInternalBase64","jsxs","jsx","e","Upload","_a","Button","ContentStep","historia","setHistoria","produtos","setProdutos","fundacao","setFundacao","PALETAS","TEMPLATES","StyleStep","paleta","setPaleta","isCustom","initialCustom","useMemo","customList","setCustomList","saveCustom","v","cleaned","x","selected","c","i","TemplateStep","template","setTemplate","t","AddressStep","endereco","setEndereco","ReviewStep","data","plano","siteSlugInput","email","phone","documentCPF","driveFolderUrl","addr","Row","label","value","WHATSAPP_URL","q","param","def","ObrigadoPage","showEnvBanner","setEmail","setPhone","setDocumentCPF","setSiteSlugInput","logoLink","setLogoLink","fotosLink","setFotosLink","logoFile","setLogoFile","fotoFiles","setFotoFiles","setDriveFolderUrl","uploading","setUploading","step","setStep","submitting","setSubmitting","useEffect","el","onUploadClick","onSubmitAll"],"mappings":"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"}